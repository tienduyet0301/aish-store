{
    "sourceFile": "node_modules/sharp/install/check.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746893027076,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\ntry {\n  const { useGlobalLibvips, globalLibvipsVersion, log, spawnRebuild } = require('../lib/libvips');\n\n  const buildFromSource = (msg) => {\n    log(msg);\n    log('Attempting to build from source via node-gyp');\n    try {\n      const addonApi = require('node-addon-api');\n      log(`Found node-addon-api ${addonApi.version || ''}`);\n    } catch (err) {\n      log('Please add node-addon-api to your dependencies');\n      return;\n    }\n    try {\n      const gyp = require('node-gyp');\n      log(`Found node-gyp ${gyp().version}`);\n    } catch (err) {\n      log('Please add node-gyp to your dependencies');\n      return;\n    }\n    log('See https://sharp.pixelplumbing.com/install#building-from-source');\n    const status = spawnRebuild();\n    if (status !== 0) {\n      process.exit(status);\n    }\n  };\n\n  if (useGlobalLibvips(log)) {\n    buildFromSource(`Detected globally-installed libvips v${globalLibvipsVersion()}`);\n  } else if (process.env.npm_config_build_from_source) {\n    buildFromSource('Detected --build-from-source flag');\n  }\n} catch (err) {\n  const summary = err.message.split(/\\n/).slice(0, 1);\n  console.log(`sharp: skipping install check: ${summary}`);\n}\n"
        }
    ]
}