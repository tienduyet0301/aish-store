{
    "sourceFile": "node_modules/next-auth/providers/foursquare.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892925724,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Foursquare;\nvar _https = require(\"https\");\nvar _events = require(\"events\");\nfunction Foursquare(options) {\n  const {\n    apiVersion = \"20230131\"\n  } = options;\n  return {\n    id: \"foursquare\",\n    name: \"Foursquare\",\n    type: \"oauth\",\n    authorization: \"https://foursquare.com/oauth2/authenticate\",\n    token: \"https://foursquare.com/oauth2/access_token\",\n    userinfo: {\n      async request({\n        tokens\n      }) {\n        const url = new URL(\"https://api.foursquare.com/v2/users/self\");\n        url.searchParams.append(\"v\", apiVersion);\n        url.searchParams.append(\"oauth_token\", tokens.access_token);\n        const req = (0, _https.get)(url, {\n          timeout: 3500\n        });\n        const [response] = await Promise.race([(0, _events.once)(req, \"response\"), (0, _events.once)(req, \"timeout\")]);\n        if (!response) {\n          req.destroy();\n          throw new Error(\"HTTP Request Timed Out\");\n        }\n        if (response.statusCode !== 200) {\n          throw new Error(\"Expected 200 OK from the userinfo endpoint\");\n        }\n        const parts = [];\n        for await (const part of response) {\n          parts.push(part);\n        }\n        return JSON.parse(Buffer.concat(parts));\n      }\n    },\n    profile({\n      response: {\n        user: profile\n      }\n    }) {\n      return {\n        id: profile.id,\n        name: `${profile.firstName} ${profile.lastName}`,\n        email: profile.contact.email,\n        image: profile.photo ? `${profile.photo.prefix}original${profile.photo.suffix}` : null\n      };\n    },\n    style: {\n      logo: \"/foursquare.svg\",\n      text: \"#fff\",\n      bg: \"#000\"\n    },\n    options\n  };\n}"
        }
    ]
}