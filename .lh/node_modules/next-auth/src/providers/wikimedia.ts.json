{
    "sourceFile": "node_modules/next-auth/src/providers/wikimedia.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892935971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "import type { OAuthConfig, OAuthUserConfig } from \".\"\n\nexport type WikimediaGroup =\n  | \"*\"\n  | \"user\"\n  | \"autoconfirmed\"\n  | \"extendedconfirmed\"\n  | \"bot\"\n  | \"sysop\"\n  | \"bureaucrat\"\n  | \"steward\"\n  | \"accountcreator\"\n  | \"import\"\n  | \"transwiki\"\n  | \"ipblock-exempt\"\n  | \"oversight\"\n  | \"rollbacker\"\n  | \"propertycreator\"\n  | \"wikidata-staff\"\n  | \"flood\"\n  | \"translationadmin\"\n  | \"confirmed\"\n  | \"flow-bot\"\n  | \"checkuser\"\n\nexport type WikimediaGrant =\n  | \"basic\"\n  | \"blockusers\"\n  | \"checkuser\"\n  | \"createaccount\"\n  | \"delete\"\n  | \"editinterface\"\n  | \"editmycssjs\"\n  | \"editmyoptions\"\n  | \"editmywatchlist\"\n  | \"editpage\"\n  | \"editprotected\"\n  | \"editsiteconfig\"\n  | \"globalblock\"\n  | \"highvolume\"\n  | \"import\"\n  | \"mergehistory\"\n  | \"oath\"\n  | \"oversight\"\n  | \"patrol\"\n  | \"privateinfo\"\n  | \"protect\"\n  | \"rollback\"\n  | \"sendemail\"\n  | \"shortenurls\"\n  | \"uploadfile\"\n  | \"viewdeleted\"\n  | \"viewmywatchlist\"\n\nexport type WikimediaRight =\n  | \"abusefilter-log\"\n  | \"apihighlimits\"\n  | \"applychangetags\"\n  | \"autoconfirmed\"\n  | \"autopatrol\"\n  | \"autoreview\"\n  | \"bigdelete\"\n  | \"block\"\n  | \"blockemail\"\n  | \"bot\"\n  | \"browsearchive\"\n  | \"changetags\"\n  | \"checkuser\"\n  | \"checkuser-log\"\n  | \"createaccount\"\n  | \"createpage\"\n  | \"createpagemainns\"\n  | \"createtalk\"\n  | \"delete\"\n  | \"delete-redirect\"\n  | \"deletedhistory\"\n  | \"deletedtext\"\n  | \"deletelogentry\"\n  | \"deleterevision\"\n  | \"edit\"\n  | \"edit-legal\"\n  | \"editinterface\"\n  | \"editmyoptions\"\n  | \"editmyusercss\"\n  | \"editmyuserjs\"\n  | \"editmyuserjson\"\n  | \"editmywatchlist\"\n  | \"editprotected\"\n  | \"editsemiprotected\"\n  | \"editsitecss\"\n  | \"editsitejs\"\n  | \"editsitejson\"\n  | \"editusercss\"\n  | \"edituserjs\"\n  | \"edituserjson\"\n  | \"globalblock\"\n  | \"import\"\n  | \"importupload\"\n  | \"ipblock-exempt\"\n  | \"item-merge\"\n  | \"item-redirect\"\n  | \"item-term\"\n  | \"markbotedits\"\n  | \"massmessage\"\n  | \"mergehistory\"\n  | \"minoredit\"\n  | \"move\"\n  | \"move-subpages\"\n  | \"movefile\"\n  | \"movestable\"\n  | \"mwoauth-authonlyprivate\"\n  | \"nominornewtalk\"\n  | \"noratelimit\"\n  | \"nuke\"\n  | \"patrol\"\n  | \"patrolmarks\"\n  | \"property-create\"\n  | \"property-term\"\n  | \"protect\"\n  | \"purge\"\n  | \"read\"\n  | \"reupload\"\n  | \"reupload-own\"\n  | \"reupload-shared\"\n  | \"rollback\"\n  | \"sendemail\"\n  | \"skipcaptcha\"\n  | \"suppressionlog\"\n  | \"tboverride\"\n  | \"templateeditor\"\n  | \"torunblocked\"\n  | \"transcode-reset\"\n  | \"translate\"\n  | \"undelete\"\n  | \"unwatchedpages\"\n  | \"upload\"\n  | \"upload_by_url\"\n  | \"viewmywatchlist\"\n  | \"viewsuppressed\"\n  | \"writeapi\"\n\nexport interface WikimediaProfile extends Record<string, any> {\n  sub: string\n  username: string\n  editcount: number\n  confirmed_email: boolean\n  blocked: boolean\n  registered: string\n  groups: WikimediaGroup[]\n  rights: WikimediaRight[]\n  grants: WikimediaGrant[]\n  realname: string\n  email: string\n}\n\n/**\n * Wikimedia OAuth2 provider.\n * All Wikimedia wikis are supported. Wikipedia, Wikidata, etc...\n *\n * (Register)[https://meta.wikimedia.org/wiki/Special:OAuthConsumerRegistration]\n * (Documentation)[https://www.mediawiki.org/wiki/Extension:OAuth]\n */\nexport default function Wikimedia<P extends WikimediaProfile>(\n  options: OAuthUserConfig<P>\n): OAuthConfig<P> {\n  return {\n    id: \"wikimedia\",\n    name: \"Wikimedia\",\n    type: \"oauth\",\n    token: \"https://meta.wikimedia.org/w/rest.php/oauth2/access_token\",\n    userinfo: \"https://meta.wikimedia.org/w/rest.php/oauth2/resource/profile\",\n    authorization: {\n      url: \"https://meta.wikimedia.org/w/rest.php/oauth2/authorize\",\n      params: { scope: \"\" },\n    },\n    profile(profile) {\n      return {\n        id: profile.sub,\n        name: profile.username,\n        email: profile.email,\n      }\n    },\n    style: { logo: \"/wikimedia.svg\", bg: \"#000\", text: \"#fff\" },\n    options,\n  }\n}\n"
        }
    ]
}