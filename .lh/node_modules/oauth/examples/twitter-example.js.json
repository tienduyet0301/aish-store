{
    "sourceFile": "node_modules/oauth/examples/twitter-example.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892938338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "var http = require('http');\nvar OAuth = require('../lib/oauth.js').OAuth;\nvar nodeUrl = require('url');\nvar clientID = '';\nvar clientSecret = '';\nvar callbackURL = '';\n\noa = new OAuth(\n    'https://api.twitter.com/oauth/request_token',\n    'https://api.twitter.com/oauth/access_token',\n    clientID,\n    clientSecret,\n    '1.0',\n    callbackURL,\n    'HMAC-SHA1'\n);\n\nhttp.createServer(function (request, response) {\n    oa.getOAuthRequestToken(function (error, oAuthToken, oAuthTokenSecret, results) {\n        var urlObj = nodeUrl.parse(request.url, true);\n        var authURL = 'https://twitter.com/' +\n                'oauth/authenticate?oauth_token=' + oAuthToken;\n        var handlers = {\n            '/': function (request, response) {\n                /**\n                 * Creating an anchor with authURL as href and sending as response\n                 */\n                var body = '<a href=\"' + authURL + '\"> Get Code </a>';\n                response.writeHead(200, {\n                    'Content-Length': body.length,\n                    'Content-Type': 'text/html' });\n                response.end(body);\n            },\n            '/callback': function (request, response) {\n                /** Obtaining access_token */\n                var getOAuthRequestTokenCallback = function (error, oAuthAccessToken,\n                                                             oAuthAccessTokenSecret, results) {\n                    if (error) {\n                        console.log(error);\n                        response.end(JSON.stringify({\n                            message: 'Error occured while getting access token',\n                            error: error\n                        }));\n                        return;\n                    }\n\n                    oa.get('https://api.twitter.com/1.1/account/verify_credentials.json',\n                           oAuthAccessToken,\n                           oAuthAccessTokenSecret,\n                           function (error, twitterResponseData, result) {\n                               if (error) {\n                                   console.log(error)\n                                   res.end(JSON.stringify(error));\n                                   return;\n                               }\n                               try {\n                                   console.log(JSON.parse(twitterResponseData));\n                               } catch (parseError) {\n                                   console.log(parseError);\n                               }\n                               console.log(twitterResponseData);\n                               response.end(twitterResponseData);\n                           });\n                };\n\n                oa.getOAuthAccessToken(urlObj.query.oauth_token, oAuthTokenSecret,\n                                       urlObj.query.oauth_verifier,\n                                       getOAuthRequestTokenCallback);\n\n            }\n        };\n        handlers[urlObj.pathname](request, response);\n    })\n\n}).listen(3000);\n"
        }
    ]
}