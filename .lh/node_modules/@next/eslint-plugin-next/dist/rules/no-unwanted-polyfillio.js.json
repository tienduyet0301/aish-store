{
    "sourceFile": "node_modules/@next/eslint-plugin-next/dist/rules/no-unwanted-polyfillio.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746891883345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use strict\";\nvar _definerule = require(\"../utils/define-rule\");\n// Keep in sync with next.js polyfills file : https://github.com/vercel/next.js/blob/master/packages/next-polyfill-nomodule/src/index.js\nvar NEXT_POLYFILLED_FEATURES = [\n    'Array.prototype.@@iterator',\n    'Array.prototype.at',\n    'Array.prototype.copyWithin',\n    'Array.prototype.fill',\n    'Array.prototype.find',\n    'Array.prototype.findIndex',\n    'Array.prototype.flatMap',\n    'Array.prototype.flat',\n    'Array.from',\n    'Array.prototype.includes',\n    'Array.of',\n    'Function.prototype.name',\n    'fetch',\n    'Map',\n    'Number.EPSILON',\n    'Number.Epsilon',\n    'Number.isFinite',\n    'Number.isNaN',\n    'Number.isInteger',\n    'Number.isSafeInteger',\n    'Number.MAX_SAFE_INTEGER',\n    'Number.MIN_SAFE_INTEGER',\n    'Number.parseFloat',\n    'Number.parseInt',\n    'Object.assign',\n    'Object.entries',\n    'Object.fromEntries',\n    'Object.getOwnPropertyDescriptor',\n    'Object.getOwnPropertyDescriptors',\n    'Object.hasOwn',\n    'Object.is',\n    'Object.keys',\n    'Object.values',\n    'Reflect',\n    'Set',\n    'Symbol',\n    'Symbol.asyncIterator',\n    'String.prototype.codePointAt',\n    'String.prototype.endsWith',\n    'String.fromCodePoint',\n    'String.prototype.includes',\n    'String.prototype.@@iterator',\n    'String.prototype.padEnd',\n    'String.prototype.padStart',\n    'String.prototype.repeat',\n    'String.raw',\n    'String.prototype.startsWith',\n    'String.prototype.trimEnd',\n    'String.prototype.trimStart',\n    'URL',\n    'URL.prototype.toJSON',\n    'URLSearchParams',\n    'WeakMap',\n    'WeakSet',\n    'Promise',\n    'Promise.prototype.finally',\n    'es2015',\n    'es2016',\n    'es2017',\n    'es2018',\n    'es2019',\n    'es5',\n    'es6',\n    'es7'\n];\nvar url = 'https://nextjs.org/docs/messages/no-unwanted-polyfillio';\nmodule.exports = (0, _definerule.defineRule)({\n    meta: {\n        docs: {\n            description: 'Prevent duplicate polyfills from Polyfill.io.',\n            category: 'HTML',\n            recommended: true,\n            url: url\n        },\n        type: 'problem',\n        schema: []\n    },\n    create: function create(context) {\n        var scriptImport = null;\n        return {\n            ImportDeclaration: function ImportDeclaration(node) {\n                if (node.source && node.source.value === 'next/script') {\n                    scriptImport = node.specifiers[0].local.name;\n                }\n            },\n            JSXOpeningElement: function JSXOpeningElement(node) {\n                if (node.name && node.name.name !== 'script' && node.name.name !== scriptImport) {\n                    return;\n                }\n                if (node.attributes.length === 0) {\n                    return;\n                }\n                var srcNode = node.attributes.find(function(attr) {\n                    return attr.type === 'JSXAttribute' && attr.name.name === 'src';\n                });\n                if (!srcNode || srcNode.value.type !== 'Literal') {\n                    return;\n                }\n                var src = srcNode.value.value;\n                if (src.startsWith('https://cdn.polyfill.io/v2/') || src.startsWith('https://polyfill.io/v3/') || // https://community.fastly.com/t/new-options-for-polyfill-io-users/2540\n                src.startsWith('https://polyfill-fastly.net/') || src.startsWith('https://polyfill-fastly.io/') || // https://blog.cloudflare.com/polyfill-io-now-available-on-cdnjs-reduce-your-supply-chain-risk\n                src.startsWith('https://cdnjs.cloudflare.com/polyfill/')) {\n                    var featureQueryString = new URL(src).searchParams.get('features');\n                    var featuresRequested = (featureQueryString || '').split(',');\n                    var unwantedFeatures = featuresRequested.filter(function(feature) {\n                        return NEXT_POLYFILLED_FEATURES.includes(feature);\n                    });\n                    if (unwantedFeatures.length > 0) {\n                        context.report({\n                            node: node,\n                            message: \"No duplicate polyfills from Polyfill.io are allowed. \".concat(unwantedFeatures.join(', '), \" \").concat(unwantedFeatures.length > 1 ? 'are' : 'is', \" already shipped with Next.js. See: \").concat(url)\n                        });\n                    }\n                }\n            }\n        };\n    }\n});\n"
        }
    ]
}