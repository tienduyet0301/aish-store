{
    "sourceFile": "node_modules/next/dist/client/components/errors/use-error-handler.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892677528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    handleClientError: null,\n    handleConsoleError: null,\n    handleGlobalErrors: null,\n    useErrorHandler: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    handleClientError: function() {\n        return handleClientError;\n    },\n    handleConsoleError: function() {\n        return handleConsoleError;\n    },\n    handleGlobalErrors: function() {\n        return handleGlobalErrors;\n    },\n    useErrorHandler: function() {\n        return useErrorHandler;\n    }\n});\nconst _interop_require_default = require(\"@swc/helpers/_/_interop_require_default\");\nconst _react = require(\"react\");\nconst _attachhydrationerrorstate = require(\"./attach-hydration-error-state\");\nconst _isnextroutererror = require(\"../is-next-router-error\");\nconst _hydrationerrorinfo = require(\"./hydration-error-info\");\nconst _console = require(\"../../lib/console\");\nconst _iserror = /*#__PURE__*/ _interop_require_default._(require(\"../../../lib/is-error\"));\nconst _consoleerror = require(\"./console-error\");\nconst _enqueueclienterror = require(\"./enqueue-client-error\");\nconst _stitchederror = require(\"../errors/stitched-error\");\nconst queueMicroTask = globalThis.queueMicrotask || ((cb)=>Promise.resolve().then(cb));\nconst errorQueue = [];\nconst errorHandlers = [];\nconst rejectionQueue = [];\nconst rejectionHandlers = [];\nfunction handleConsoleError(originError, consoleErrorArgs) {\n    let error;\n    const { environmentName } = (0, _console.parseConsoleArgs)(consoleErrorArgs);\n    if ((0, _iserror.default)(originError)) {\n        error = (0, _consoleerror.createConsoleError)(originError, environmentName);\n    } else {\n        error = (0, _consoleerror.createConsoleError)((0, _console.formatConsoleArgs)(consoleErrorArgs), environmentName);\n    }\n    error = (0, _stitchederror.getReactStitchedError)(error);\n    (0, _hydrationerrorinfo.storeHydrationErrorStateFromConsoleArgs)(...consoleErrorArgs);\n    (0, _attachhydrationerrorstate.attachHydrationErrorState)(error);\n    (0, _enqueueclienterror.enqueueConsecutiveDedupedError)(errorQueue, error);\n    for (const handler of errorHandlers){\n        // Delayed the error being passed to React Dev Overlay,\n        // avoid the state being synchronously updated in the component.\n        queueMicroTask(()=>{\n            handler(error);\n        });\n    }\n}\nfunction handleClientError(originError) {\n    let error;\n    if ((0, _iserror.default)(originError)) {\n        error = originError;\n    } else {\n        // If it's not an error, format the args into an error\n        const formattedErrorMessage = originError + '';\n        error = Object.defineProperty(new Error(formattedErrorMessage), \"__NEXT_ERROR_CODE\", {\n            value: \"E394\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    error = (0, _stitchederror.getReactStitchedError)(error);\n    (0, _attachhydrationerrorstate.attachHydrationErrorState)(error);\n    (0, _enqueueclienterror.enqueueConsecutiveDedupedError)(errorQueue, error);\n    for (const handler of errorHandlers){\n        // Delayed the error being passed to React Dev Overlay,\n        // avoid the state being synchronously updated in the component.\n        queueMicroTask(()=>{\n            handler(error);\n        });\n    }\n}\nfunction useErrorHandler(handleOnUnhandledError, handleOnUnhandledRejection) {\n    (0, _react.useEffect)(()=>{\n        // Handle queued errors.\n        errorQueue.forEach(handleOnUnhandledError);\n        rejectionQueue.forEach(handleOnUnhandledRejection);\n        // Listen to new errors.\n        errorHandlers.push(handleOnUnhandledError);\n        rejectionHandlers.push(handleOnUnhandledRejection);\n        return ()=>{\n            // Remove listeners.\n            errorHandlers.splice(errorHandlers.indexOf(handleOnUnhandledError), 1);\n            rejectionHandlers.splice(rejectionHandlers.indexOf(handleOnUnhandledRejection), 1);\n            // Reset error queues.\n            errorQueue.splice(0, errorQueue.length);\n            rejectionQueue.splice(0, rejectionQueue.length);\n        };\n    }, [\n        handleOnUnhandledError,\n        handleOnUnhandledRejection\n    ]);\n}\nfunction onUnhandledError(event) {\n    if ((0, _isnextroutererror.isNextRouterError)(event.error)) {\n        event.preventDefault();\n        return false;\n    }\n    // When there's an error property present, we log the error to error overlay.\n    // Otherwise we don't do anything as it's not logging in the console either.\n    if (event.error) {\n        handleClientError(event.error);\n    }\n}\nfunction onUnhandledRejection(ev) {\n    const reason = ev == null ? void 0 : ev.reason;\n    if ((0, _isnextroutererror.isNextRouterError)(reason)) {\n        ev.preventDefault();\n        return;\n    }\n    let error = reason;\n    if (error && !(0, _iserror.default)(error)) {\n        error = Object.defineProperty(new Error(error + ''), \"__NEXT_ERROR_CODE\", {\n            value: \"E394\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    rejectionQueue.push(error);\n    for (const handler of rejectionHandlers){\n        handler(error);\n    }\n}\nfunction handleGlobalErrors() {\n    if (typeof window !== 'undefined') {\n        try {\n            // Increase the number of stack frames on the client\n            Error.stackTraceLimit = 50;\n        } catch (e) {}\n        window.addEventListener('error', onUnhandledError);\n        window.addEventListener('unhandledrejection', onUnhandledRejection);\n    }\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=use-error-handler.js.map"
        }
    ]
}