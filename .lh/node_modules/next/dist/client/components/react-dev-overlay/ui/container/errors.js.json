{
    "sourceFile": "node_modules/next/dist/client/components/react-dev-overlay/ui/container/errors.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892685898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    Errors: null,\n    styles: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    Errors: function() {\n        return Errors;\n    },\n    styles: function() {\n        return styles;\n    }\n});\nconst _jsxruntime = require(\"react/jsx-runtime\");\nconst _react = require(\"react\");\nconst _overlay = require(\"../components/overlay\");\nconst _runtimeerror = require(\"./runtime-error\");\nconst _errorsource = require(\"../../../../../shared/lib/error-source\");\nconst _hotlinkedtext = require(\"../components/hot-linked-text\");\nconst _componentstackpseudohtml = require(\"./runtime-error/component-stack-pseudo-html\");\nconst _hydrationerrorinfo = require(\"../../../errors/hydration-error-info\");\nconst _consoleerror = require(\"../../../errors/console-error\");\nconst _errortelemetryutils = require(\"../../../../../lib/error-telemetry-utils\");\nconst _erroroverlaylayout = require(\"../components/errors/error-overlay-layout/error-overlay-layout\");\nconst _ishydrationerror = require(\"../../../is-hydration-error\");\nfunction isNextjsLink(text) {\n    return text.startsWith('https://nextjs.org');\n}\nfunction ErrorDescription(param) {\n    let { error, hydrationWarning } = param;\n    const unhandledErrorType = (0, _consoleerror.isConsoleError)(error) ? (0, _consoleerror.getConsoleErrorType)(error) : null;\n    const isConsoleErrorStringMessage = unhandledErrorType === 'string';\n    // If the error is:\n    // - hydration warning\n    // - captured console error or unhandled rejection\n    // skip displaying the error name\n    const title = isConsoleErrorStringMessage || hydrationWarning ? '' : error.name + ': ';\n    const environmentName = 'environmentName' in error ? error.environmentName : '';\n    const envPrefix = environmentName ? \"[ \" + environmentName + \" ] \" : '';\n    // The environment name will be displayed as a label, so remove it\n    // from the message (e.g. \"[ Server ] hello world\" -> \"hello world\").\n    let message = error.message;\n    if (message.startsWith(envPrefix)) {\n        message = message.slice(envPrefix.length);\n    }\n    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {\n        children: [\n            title,\n            /*#__PURE__*/ (0, _jsxruntime.jsx)(_hotlinkedtext.HotlinkedText, {\n                text: hydrationWarning || message,\n                matcher: isNextjsLink\n            })\n        ]\n    });\n}\nfunction getErrorType(error) {\n    if ((0, _consoleerror.isConsoleError)(error)) {\n        return 'Console Error';\n    }\n    return 'Runtime Error';\n}\nfunction Errors(param) {\n    let { runtimeErrors, debugInfo, onClose, ...props } = param;\n    var _activeError_componentStackFrames;\n    const dialogResizerRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(()=>{\n        // Close the error overlay when pressing escape\n        function handleKeyDown(event) {\n            if (event.key === 'Escape') {\n                onClose();\n            }\n        }\n        document.addEventListener('keydown', handleKeyDown);\n        return ()=>document.removeEventListener('keydown', handleKeyDown);\n    }, [\n        onClose\n    ]);\n    const isLoading = (0, _react.useMemo)(()=>{\n        return runtimeErrors.length < 1;\n    }, [\n        runtimeErrors.length\n    ]);\n    const [activeIdx, setActiveIndex] = (0, _react.useState)(0);\n    const activeError = (0, _react.useMemo)(()=>{\n        var _runtimeErrors_activeIdx;\n        return (_runtimeErrors_activeIdx = runtimeErrors[activeIdx]) != null ? _runtimeErrors_activeIdx : null;\n    }, [\n        activeIdx,\n        runtimeErrors\n    ]);\n    if (isLoading) {\n        // TODO: better loading state\n        return /*#__PURE__*/ (0, _jsxruntime.jsx)(_overlay.Overlay, {});\n    }\n    if (!activeError) {\n        return null;\n    }\n    const error = activeError.error;\n    const isServerError = [\n        'server',\n        'edge-server'\n    ].includes((0, _errorsource.getErrorSource)(error) || '');\n    const errorType = getErrorType(error);\n    const errorDetails = error.details || {};\n    const notes = errorDetails.notes || '';\n    const [warningTemplate, serverContent, clientContent] = errorDetails.warning || [\n        null,\n        '',\n        ''\n    ];\n    const hydrationErrorType = (0, _hydrationerrorinfo.getHydrationWarningType)(warningTemplate);\n    const hydrationWarning = warningTemplate ? warningTemplate.replace('%s', serverContent).replace('%s', clientContent).replace('%s', '') // remove the %s for stack\n    .replace(/%s$/, '') // If there's still a %s at the end, remove it\n    .replace(/^Warning: /, '').replace(/^Error: /, '') : null;\n    const errorCode = (0, _errortelemetryutils.extractNextErrorCode)(error);\n    const footerMessage = isServerError ? 'This error happened while generating the page. Any console logs will be displayed in the terminal window.' : undefined;\n    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_erroroverlaylayout.ErrorOverlayLayout, {\n        errorCode: errorCode,\n        errorType: errorType,\n        errorMessage: /*#__PURE__*/ (0, _jsxruntime.jsx)(ErrorDescription, {\n            error: error,\n            hydrationWarning: hydrationWarning\n        }),\n        onClose: isServerError ? undefined : onClose,\n        debugInfo: debugInfo,\n        error: error,\n        runtimeErrors: runtimeErrors,\n        activeIdx: activeIdx,\n        setActiveIndex: setActiveIndex,\n        footerMessage: footerMessage,\n        dialogResizerRef: dialogResizerRef,\n        ...props,\n        children: [\n            /*#__PURE__*/ (0, _jsxruntime.jsxs)(\"div\", {\n                className: \"error-overlay-notes-container\",\n                children: [\n                    notes ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_jsxruntime.Fragment, {\n                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(\"p\", {\n                            id: \"nextjs__container_errors__notes\",\n                            className: \"nextjs__container_errors__notes\",\n                            children: notes\n                        })\n                    }) : null,\n                    hydrationWarning ? /*#__PURE__*/ (0, _jsxruntime.jsx)(\"p\", {\n                        id: \"nextjs__container_errors__link\",\n                        className: \"nextjs__container_errors__link\",\n                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_hotlinkedtext.HotlinkedText, {\n                            text: \"See more info here: \" + _ishydrationerror.NEXTJS_HYDRATION_ERROR_LINK\n                        })\n                    }) : null\n                ]\n            }),\n            hydrationWarning && (((_activeError_componentStackFrames = activeError.componentStackFrames) == null ? void 0 : _activeError_componentStackFrames.length) || !!errorDetails.reactOutputComponentDiff) ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_componentstackpseudohtml.PseudoHtmlDiff, {\n                className: \"nextjs__container_errors__component-stack\",\n                hydrationMismatchType: hydrationErrorType,\n                firstContent: serverContent,\n                secondContent: clientContent,\n                reactOutputComponentDiff: errorDetails.reactOutputComponentDiff || ''\n            }) : null,\n            /*#__PURE__*/ (0, _jsxruntime.jsx)(_react.Suspense, {\n                fallback: /*#__PURE__*/ (0, _jsxruntime.jsx)(\"div\", {\n                    \"data-nextjs-error-suspended\": true\n                }),\n                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_runtimeerror.RuntimeError, {\n                    error: activeError,\n                    dialogResizerRef: dialogResizerRef\n                }, activeError.id.toString())\n            })\n        ]\n    });\n}\nconst styles = \"\\n  .nextjs-error-with-static {\\n    bottom: calc(16px * 4.5);\\n  }\\n  p.nextjs__container_errors__link {\\n    font-size: var(--size-14);\\n  }\\n  p.nextjs__container_errors__notes {\\n    color: var(--color-stack-notes);\\n    font-size: var(--size-14);\\n    line-height: 1.5;\\n  }\\n  .nextjs-container-errors-body > h2:not(:first-child) {\\n    margin-top: calc(16px + 8px);\\n  }\\n  .nextjs-container-errors-body > h2 {\\n    color: var(--color-title-color);\\n    margin-bottom: 8px;\\n    font-size: var(--size-20);\\n  }\\n  .nextjs-toast-errors-parent {\\n    cursor: pointer;\\n    transition: transform 0.2s ease;\\n  }\\n  .nextjs-toast-errors-parent:hover {\\n    transform: scale(1.1);\\n  }\\n  .nextjs-toast-errors {\\n    display: flex;\\n    align-items: center;\\n    justify-content: flex-start;\\n  }\\n  .nextjs-toast-errors > svg {\\n    margin-right: 8px;\\n  }\\n  .nextjs-toast-hide-button {\\n    margin-left: 24px;\\n    border: none;\\n    background: none;\\n    color: var(--color-ansi-bright-white);\\n    padding: 0;\\n    transition: opacity 0.25s ease;\\n    opacity: 0.7;\\n  }\\n  .nextjs-toast-hide-button:hover {\\n    opacity: 1;\\n  }\\n  .nextjs__container_errors_inspect_copy_button {\\n    cursor: pointer;\\n    background: none;\\n    border: none;\\n    color: var(--color-ansi-bright-white);\\n    font-size: var(--size-24);\\n    padding: 0;\\n    margin: 0;\\n    margin-left: 8px;\\n    transition: opacity 0.25s ease;\\n  }\\n  .nextjs__container_errors__error_title {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    margin-bottom: 14px;\\n  }\\n  .error-overlay-notes-container {\\n    margin: 8px 2px;\\n  }\\n  .error-overlay-notes-container p {\\n    white-space: pre-wrap;\\n  }\\n\";\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=errors.js.map"
        }
    ]
}