{
    "sourceFile": "node_modules/next/dist/client/page-bootstrap.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892697700,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"pageBootstrap\", {\n    enumerable: true,\n    get: function() {\n        return pageBootstrap;\n    }\n});\nconst _interop_require_default = require(\"@swc/helpers/_/_interop_require_default\");\nrequire(\"../lib/require-instrumentation-client\");\nconst _ = require(\"./\");\nconst _ondemandentriesclient = /*#__PURE__*/ _interop_require_default._(require(\"./dev/on-demand-entries-client\"));\nconst _devbuildindicator = require(\"./dev/dev-build-indicator/internal/dev-build-indicator\");\nconst _fouc = require(\"./dev/fouc\");\nconst _websocket = require(\"./components/react-dev-overlay/pages/websocket\");\nconst _querystring = require(\"../shared/lib/router/utils/querystring\");\nconst _hotreloadertypes = require(\"../server/dev/hot-reloader-types\");\nconst _runtimeerrorhandler = require(\"./components/errors/runtime-error-handler\");\nconst _shared = require(\"./components/react-dev-overlay/shared\");\nconst _hotreloaderclient = require(\"./components/react-dev-overlay/pages/hot-reloader-client\");\nconst _initializeforpagerouter = require(\"./dev/dev-build-indicator/initialize-for-page-router\");\nfunction pageBootstrap(assetPrefix) {\n    (0, _websocket.connectHMR)({\n        assetPrefix,\n        path: '/_next/webpack-hmr'\n    });\n    return (0, _.hydrate)({\n        beforeRender: _fouc.displayContent\n    }).then(()=>{\n        (0, _ondemandentriesclient.default)();\n        (0, _initializeforpagerouter.initializeDevBuildIndicatorForPageRouter)();\n        let reloading = false;\n        (0, _websocket.addMessageListener)((payload)=>{\n            if (reloading) return;\n            if ('action' in payload) {\n                switch(payload.action){\n                    case _hotreloadertypes.HMR_ACTIONS_SENT_TO_BROWSER.SERVER_ERROR:\n                        {\n                            const { stack, message } = JSON.parse(payload.errorJSON);\n                            const error = Object.defineProperty(new Error(message), \"__NEXT_ERROR_CODE\", {\n                                value: \"E394\",\n                                enumerable: false,\n                                configurable: true\n                            });\n                            error.stack = stack;\n                            throw error;\n                        }\n                    case _hotreloadertypes.HMR_ACTIONS_SENT_TO_BROWSER.RELOAD_PAGE:\n                        {\n                            reloading = true;\n                            window.location.reload();\n                            break;\n                        }\n                    case _hotreloadertypes.HMR_ACTIONS_SENT_TO_BROWSER.DEV_PAGES_MANIFEST_UPDATE:\n                        {\n                            fetch(\"\" + assetPrefix + \"/_next/static/development/_devPagesManifest.json\").then((res)=>res.json()).then((manifest)=>{\n                                window.__DEV_PAGES_MANIFEST = manifest;\n                            }).catch((err)=>{\n                                console.log(\"Failed to fetch devPagesManifest\", err);\n                            });\n                            break;\n                        }\n                    default:\n                        break;\n                }\n            } else if ('event' in payload) {\n                switch(payload.event){\n                    case _hotreloadertypes.HMR_ACTIONS_SENT_TO_BROWSER.MIDDLEWARE_CHANGES:\n                        {\n                            return window.location.reload();\n                        }\n                    case _hotreloadertypes.HMR_ACTIONS_SENT_TO_BROWSER.CLIENT_CHANGES:\n                        {\n                            // This is used in `../server/dev/turbopack-utils.ts`.\n                            const isOnErrorPage = window.next.router.pathname === '/_error';\n                            // On the error page we want to reload the page when a page was changed\n                            if (isOnErrorPage) {\n                                if (_runtimeerrorhandler.RuntimeErrorHandler.hadRuntimeError) {\n                                    console.warn(_shared.REACT_REFRESH_FULL_RELOAD_FROM_ERROR);\n                                }\n                                reloading = true;\n                                (0, _hotreloaderclient.performFullReload)(null);\n                            }\n                            break;\n                        }\n                    case _hotreloadertypes.HMR_ACTIONS_SENT_TO_BROWSER.SERVER_ONLY_CHANGES:\n                        {\n                            if (_runtimeerrorhandler.RuntimeErrorHandler.hadRuntimeError) {\n                                console.warn(_shared.REACT_REFRESH_FULL_RELOAD_FROM_ERROR);\n                                (0, _hotreloaderclient.performFullReload)(null);\n                            }\n                            const { pages } = payload;\n                            // Make sure to reload when the dev-overlay is showing for an\n                            // API route\n                            // TODO: Fix `__NEXT_PAGE` type\n                            if (pages.includes(_.router.query.__NEXT_PAGE)) {\n                                return window.location.reload();\n                            }\n                            if (!_.router.clc && pages.includes(_.router.pathname)) {\n                                console.log('Refreshing page data due to server-side change');\n                                _devbuildindicator.devBuildIndicator.show();\n                                const clearIndicator = ()=>_devbuildindicator.devBuildIndicator.hide();\n                                _.router.replace(_.router.pathname + '?' + String((0, _querystring.assign)((0, _querystring.urlQueryToSearchParams)(_.router.query), new URLSearchParams(location.search))), _.router.asPath, {\n                                    scroll: false\n                                }).catch(()=>{\n                                    // trigger hard reload when failing to refresh data\n                                    // to show error overlay properly\n                                    location.reload();\n                                }).finally(clearIndicator);\n                            }\n                            break;\n                        }\n                    default:\n                        break;\n                }\n            }\n        });\n    });\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=page-bootstrap.js.map"
        }
    ]
}