{
    "sourceFile": "node_modules/next/dist/server/web/spec-extension/revalidate.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892897245,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    revalidatePath: null,\n    revalidateTag: null,\n    unstable_expirePath: null,\n    unstable_expireTag: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    revalidatePath: function() {\n        return revalidatePath;\n    },\n    revalidateTag: function() {\n        return revalidateTag;\n    },\n    unstable_expirePath: function() {\n        return unstable_expirePath;\n    },\n    unstable_expireTag: function() {\n        return unstable_expireTag;\n    }\n});\nconst _dynamicrendering = require(\"../../app-render/dynamic-rendering\");\nconst _utils = require(\"../../../shared/lib/router/utils\");\nconst _constants = require(\"../../../lib/constants\");\nconst _workasyncstorageexternal = require(\"../../app-render/work-async-storage.external\");\nconst _workunitasyncstorageexternal = require(\"../../app-render/work-unit-async-storage.external\");\nconst _hooksservercontext = require(\"../../../client/components/hooks-server-context\");\nfunction revalidateTag(tag) {\n    return revalidate([\n        tag\n    ], `revalidateTag ${tag}`);\n}\nfunction unstable_expirePath(originalPath, type) {\n    if (originalPath.length > _constants.NEXT_CACHE_SOFT_TAG_MAX_LENGTH) {\n        console.warn(`Warning: expirePath received \"${originalPath}\" which exceeded max length of ${_constants.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/unstable_expirePath`);\n        return;\n    }\n    let normalizedPath = `${_constants.NEXT_CACHE_IMPLICIT_TAG_ID}${originalPath}`;\n    if (type) {\n        normalizedPath += `${normalizedPath.endsWith('/') ? '' : '/'}${type}`;\n    } else if ((0, _utils.isDynamicRoute)(originalPath)) {\n        console.warn(`Warning: a dynamic page path \"${originalPath}\" was passed to \"expirePath\", but the \"type\" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/unstable_expirePath`);\n    }\n    return revalidate([\n        normalizedPath\n    ], `unstable_expirePath ${originalPath}`);\n}\nfunction unstable_expireTag(...tags) {\n    return revalidate(tags, `unstable_expireTag ${tags.join(', ')}`);\n}\nfunction revalidatePath(originalPath, type) {\n    if (originalPath.length > _constants.NEXT_CACHE_SOFT_TAG_MAX_LENGTH) {\n        console.warn(`Warning: revalidatePath received \"${originalPath}\" which exceeded max length of ${_constants.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);\n        return;\n    }\n    let normalizedPath = `${_constants.NEXT_CACHE_IMPLICIT_TAG_ID}${originalPath}`;\n    if (type) {\n        normalizedPath += `${normalizedPath.endsWith('/') ? '' : '/'}${type}`;\n    } else if ((0, _utils.isDynamicRoute)(originalPath)) {\n        console.warn(`Warning: a dynamic page path \"${originalPath}\" was passed to \"revalidatePath\", but the \"type\" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);\n    }\n    return revalidate([\n        normalizedPath\n    ], `revalidatePath ${originalPath}`);\n}\nfunction revalidate(tags, expression) {\n    const store = _workasyncstorageexternal.workAsyncStorage.getStore();\n    if (!store || !store.incrementalCache) {\n        throw Object.defineProperty(new Error(`Invariant: static generation store missing in ${expression}`), \"__NEXT_ERROR_CODE\", {\n            value: \"E263\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    const workUnitStore = _workunitasyncstorageexternal.workUnitAsyncStorage.getStore();\n    if (workUnitStore) {\n        if (workUnitStore.type === 'cache') {\n            throw Object.defineProperty(new Error(`Route ${store.route} used \"${expression}\" inside a \"use cache\" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`), \"__NEXT_ERROR_CODE\", {\n                value: \"E181\",\n                enumerable: false,\n                configurable: true\n            });\n        } else if (workUnitStore.type === 'unstable-cache') {\n            throw Object.defineProperty(new Error(`Route ${store.route} used \"${expression}\" inside a function cached with \"unstable_cache(...)\" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`), \"__NEXT_ERROR_CODE\", {\n                value: \"E306\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workUnitStore.phase === 'render') {\n            throw Object.defineProperty(new Error(`Route ${store.route} used \"${expression}\" during render which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`), \"__NEXT_ERROR_CODE\", {\n                value: \"E7\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        if (workUnitStore.type === 'prerender') {\n            // dynamicIO Prerender\n            const error = Object.defineProperty(new Error(`Route ${store.route} used ${expression} without first calling \\`await connection()\\`.`), \"__NEXT_ERROR_CODE\", {\n                value: \"E406\",\n                enumerable: false,\n                configurable: true\n            });\n            (0, _dynamicrendering.abortAndThrowOnSynchronousRequestDataAccess)(store.route, expression, error, workUnitStore);\n        } else if (workUnitStore.type === 'prerender-ppr') {\n            // PPR Prerender\n            (0, _dynamicrendering.postponeWithTracking)(store.route, expression, workUnitStore.dynamicTracking);\n        } else if (workUnitStore.type === 'prerender-legacy') {\n            // legacy Prerender\n            workUnitStore.revalidate = 0;\n            const err = Object.defineProperty(new _hooksservercontext.DynamicServerError(`Route ${store.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`), \"__NEXT_ERROR_CODE\", {\n                value: \"E558\",\n                enumerable: false,\n                configurable: true\n            });\n            store.dynamicUsageDescription = expression;\n            store.dynamicUsageStack = err.stack;\n            throw err;\n        } else if (process.env.NODE_ENV === 'development' && workUnitStore && workUnitStore.type === 'request') {\n            workUnitStore.usedDynamic = true;\n        }\n    }\n    if (!store.pendingRevalidatedTags) {\n        store.pendingRevalidatedTags = [];\n    }\n    for (const tag of tags){\n        if (!store.pendingRevalidatedTags.includes(tag)) {\n            store.pendingRevalidatedTags.push(tag);\n        }\n    }\n    // TODO: only revalidate if the path matches\n    store.pathWasRevalidated = true;\n}\n\n//# sourceMappingURL=revalidate.js.map"
        }
    ]
}