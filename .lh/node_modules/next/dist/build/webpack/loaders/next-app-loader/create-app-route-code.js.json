{
    "sourceFile": "node_modules/next/dist/build/webpack/loaders/next-app-loader/create-app-route-code.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892666928,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"createAppRouteCode\", {\n    enumerable: true,\n    get: function() {\n        return createAppRouteCode;\n    }\n});\nconst _path = /*#__PURE__*/ _interop_require_default(require(\"path\"));\nconst _querystring = require(\"querystring\");\nconst _constants = require(\"../../../../lib/constants\");\nconst _ismetadataroute = require(\"../../../../lib/metadata/is-metadata-route\");\nconst _appbundlepathnormalizer = require(\"../../../../server/normalizers/built/app/app-bundle-path-normalizer\");\nconst _apppathnamenormalizer = require(\"../../../../server/normalizers/built/app/app-pathname-normalizer\");\nconst _loadentrypoint = require(\"../../../load-entrypoint\");\nconst _nextmetadatarouteloader = require(\"../next-metadata-route-loader\");\nfunction _interop_require_default(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nasync function createAppRouteCode({ appDir, name, page, pagePath, resolveAppRoute, pageExtensions, nextConfigOutput }) {\n    // routePath is the path to the route handler file,\n    // but could be aliased e.g. private-next-app-dir/favicon.ico\n    const routePath = pagePath.replace(/[\\\\/]/, '/');\n    // This, when used with the resolver will give us the pathname to the built\n    // route handler file.\n    let resolvedPagePath = await resolveAppRoute(routePath);\n    if (!resolvedPagePath) {\n        throw Object.defineProperty(new Error(`Invariant: could not resolve page path for ${name} at ${routePath}`), \"__NEXT_ERROR_CODE\", {\n            value: \"E281\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    // If this is a metadata route file, then we need to use the metadata-loader\n    // for the route to ensure that the route is generated.\n    const fileBaseName = _path.default.parse(resolvedPagePath).name;\n    const appDirRelativePath = resolvedPagePath.slice(appDir.length);\n    const isMetadataEntryFile = (0, _ismetadataroute.isMetadataRouteFile)(appDirRelativePath, _ismetadataroute.DEFAULT_METADATA_ROUTE_EXTENSIONS, true);\n    if (isMetadataEntryFile) {\n        const { ext } = (0, _nextmetadatarouteloader.getFilenameAndExtension)(resolvedPagePath);\n        const isDynamicRouteExtension = pageExtensions.includes(ext);\n        resolvedPagePath = `next-metadata-route-loader?${(0, _querystring.stringify)({\n            filePath: resolvedPagePath,\n            isDynamicRouteExtension: isDynamicRouteExtension ? '1' : '0'\n        })}!?${_constants.WEBPACK_RESOURCE_QUERIES.metadataRoute}`;\n    }\n    const pathname = new _apppathnamenormalizer.AppPathnameNormalizer().normalize(page);\n    const bundlePath = new _appbundlepathnormalizer.AppBundlePathNormalizer().normalize(page);\n    return await (0, _loadentrypoint.loadEntrypoint)('app-route', {\n        VAR_USERLAND: resolvedPagePath,\n        VAR_DEFINITION_PAGE: page,\n        VAR_DEFINITION_PATHNAME: pathname,\n        VAR_DEFINITION_FILENAME: fileBaseName,\n        VAR_DEFINITION_BUNDLE_PATH: bundlePath,\n        VAR_RESOLVED_PAGE_PATH: resolvedPagePath\n    }, {\n        nextConfigOutput: JSON.stringify(nextConfigOutput)\n    });\n}\n\n//# sourceMappingURL=create-app-route-code.js.map"
        }
    ]
}