{
    "sourceFile": "node_modules/next/dist/build/webpack/plugins/rspack-profiling-plugin.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892672541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "// A basic implementation to allow loaders access to loaderContext.currentTraceSpan\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    RspackProfilingPlugin: null,\n    compilationSpans: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    RspackProfilingPlugin: function() {\n        return RspackProfilingPlugin;\n    },\n    compilationSpans: function() {\n        return compilationSpans;\n    }\n});\nconst _getrspack = require(\"../../../shared/lib/get-rspack\");\nconst pluginName = 'RspackProfilingPlugin';\nconst moduleSpansByCompilation = new WeakMap();\nconst compilationSpans = new WeakMap();\nclass RspackProfilingPlugin {\n    constructor({ runWebpackSpan }){\n        this.runWebpackSpan = runWebpackSpan;\n    }\n    apply(compiler) {\n        compiler.hooks.compilation.tap({\n            name: pluginName,\n            stage: -Infinity\n        }, (compilation)=>{\n            const rspack = (0, _getrspack.getRspackCore)();\n            moduleSpansByCompilation.set(compilation, new WeakMap());\n            compilationSpans.set(compilation, this.runWebpackSpan.traceChild('compilation-' + compilation.name));\n            const compilationSpan = this.runWebpackSpan.traceChild(`compilation-${compilation.name}`);\n            const moduleHooks = rspack.NormalModule.getCompilationHooks(compilation);\n            moduleHooks.loader.tap(pluginName, (loaderContext, module1)=>{\n                var _moduleSpansByCompilation_get;\n                const moduleSpan = (_moduleSpansByCompilation_get = moduleSpansByCompilation.get(compilation)) == null ? void 0 : _moduleSpansByCompilation_get.get(module1);\n                loaderContext.currentTraceSpan = moduleSpan;\n            });\n            compilation.hooks.buildModule.tap(pluginName, (module1)=>{\n                var _moduleSpansByCompilation_get;\n                const span = compilationSpan.traceChild('build-module');\n                span.setAttribute('name', module1.userRequest);\n                span.setAttribute('layer', module1.layer);\n                moduleSpansByCompilation == null ? void 0 : (_moduleSpansByCompilation_get = moduleSpansByCompilation.get(compilation)) == null ? void 0 : _moduleSpansByCompilation_get.set(module1, span);\n            });\n            compilation.hooks.succeedModule.tap(pluginName, (module1)=>{\n                var _moduleSpansByCompilation_get_get, _moduleSpansByCompilation_get;\n                moduleSpansByCompilation == null ? void 0 : (_moduleSpansByCompilation_get = moduleSpansByCompilation.get(compilation)) == null ? void 0 : (_moduleSpansByCompilation_get_get = _moduleSpansByCompilation_get.get(module1)) == null ? void 0 : _moduleSpansByCompilation_get_get.stop();\n            });\n        });\n    }\n}\n\n//# sourceMappingURL=rspack-profiling-plugin.js.map"
        }
    ]
}