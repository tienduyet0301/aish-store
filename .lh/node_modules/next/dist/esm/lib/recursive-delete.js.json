{
    "sourceFile": "node_modules/next/dist/esm/lib/recursive-delete.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892816432,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "import { promises } from 'fs';\nimport { join, isAbsolute, dirname } from 'path';\nimport isError from './is-error';\nimport { wait } from './wait';\nconst unlinkPath = async (p, isDir = false, t = 1)=>{\n    try {\n        if (isDir) {\n            await promises.rmdir(p);\n        } else {\n            await promises.unlink(p);\n        }\n    } catch (e) {\n        const code = isError(e) && e.code;\n        if ((code === 'EBUSY' || code === 'ENOTEMPTY' || code === 'EPERM' || code === 'EMFILE') && t < 3) {\n            await wait(t * 100);\n            return unlinkPath(p, isDir, t++);\n        }\n        if (code === 'ENOENT') {\n            return;\n        }\n        throw e;\n    }\n};\n/**\n * Recursively delete directory contents\n */ export async function recursiveDelete(/** Directory to delete the contents of */ dir, /** Exclude based on relative file path */ exclude, /** Ensures that parameter dir exists, this is not passed recursively */ previousPath = '') {\n    let result;\n    try {\n        result = await promises.readdir(dir, {\n            withFileTypes: true\n        });\n    } catch (e) {\n        if (isError(e) && e.code === 'ENOENT') {\n            return;\n        }\n        throw e;\n    }\n    await Promise.all(result.map(async (part)=>{\n        const absolutePath = join(dir, part.name);\n        // readdir does not follow symbolic links\n        // if part is a symbolic link, follow it using stat\n        let isDirectory = part.isDirectory();\n        const isSymlink = part.isSymbolicLink();\n        if (isSymlink) {\n            const linkPath = await promises.readlink(absolutePath);\n            try {\n                const stats = await promises.stat(isAbsolute(linkPath) ? linkPath : join(dirname(absolutePath), linkPath));\n                isDirectory = stats.isDirectory();\n            } catch  {}\n        }\n        const pp = join(previousPath, part.name);\n        const isNotExcluded = !exclude || !exclude.test(pp);\n        if (isNotExcluded) {\n            if (isDirectory) {\n                await recursiveDelete(absolutePath, exclude, pp);\n            }\n            return unlinkPath(absolutePath, !isSymlink && isDirectory);\n        }\n    }));\n}\n\n//# sourceMappingURL=recursive-delete.js.map"
        }
    ]
}