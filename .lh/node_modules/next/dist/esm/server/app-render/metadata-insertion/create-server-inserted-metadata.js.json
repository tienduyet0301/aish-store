{
    "sourceFile": "node_modules/next/dist/esm/server/app-render/metadata-insertion/create-server-inserted-metadata.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892824185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { renderToReadableStream } from 'react-dom/server.edge';\nimport { ServerInsertedMetadataContext } from '../../../shared/lib/server-inserted-metadata.shared-runtime';\nimport { renderToString } from '../render-to-string';\n/**\n * For chromium based browsers (Chrome, Edge, etc.) and Safari,\n * icons need to stay under <head> to be picked up by the browser.\n *\n */ const REINSERT_ICON_SCRIPT = `\\\ndocument.querySelectorAll('body link[rel=\"icon\"], body link[rel=\"apple-touch-icon\"]').forEach(el => document.head.appendChild(el))`;\nexport function createServerInsertedMetadata(nonce) {\n    let metadataResolver = null;\n    let metadataToFlush = null;\n    const setMetadataResolver = (resolver)=>{\n        metadataResolver = resolver;\n    };\n    return {\n        ServerInsertedMetadataProvider: ({ children })=>{\n            return /*#__PURE__*/ _jsx(ServerInsertedMetadataContext.Provider, {\n                value: setMetadataResolver,\n                children: children\n            });\n        },\n        async getServerInsertedMetadata () {\n            if (!metadataResolver || metadataToFlush) {\n                return '';\n            }\n            metadataToFlush = metadataResolver();\n            const html = await renderToString({\n                renderToReadableStream,\n                element: /*#__PURE__*/ _jsxs(_Fragment, {\n                    children: [\n                        metadataToFlush,\n                        /*#__PURE__*/ _jsx(\"script\", {\n                            nonce: nonce,\n                            children: REINSERT_ICON_SCRIPT\n                        })\n                    ]\n                })\n            });\n            return html;\n        }\n    };\n}\n\n//# sourceMappingURL=create-server-inserted-metadata.js.map"
        }
    ]
}