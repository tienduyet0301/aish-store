{
    "sourceFile": "node_modules/next/dist/esm/server/route-matcher-providers/pages-api-route-matcher-provider.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892840144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "import { isAPIRoute } from '../../lib/is-api-route';\nimport { PAGES_MANIFEST } from '../../shared/lib/constants';\nimport { RouteKind } from '../route-kind';\nimport { PagesAPILocaleRouteMatcher, PagesAPIRouteMatcher } from '../route-matchers/pages-api-route-matcher';\nimport { ManifestRouteMatcherProvider } from './manifest-route-matcher-provider';\nimport { PagesNormalizers } from '../normalizers/built/pages';\nexport class PagesAPIRouteMatcherProvider extends ManifestRouteMatcherProvider {\n    constructor(distDir, manifestLoader, i18nProvider){\n        super(PAGES_MANIFEST, manifestLoader), this.i18nProvider = i18nProvider;\n        this.normalizers = new PagesNormalizers(distDir);\n    }\n    async transform(manifest) {\n        // This matcher is only for Pages API routes.\n        const pathnames = Object.keys(manifest).filter((pathname)=>isAPIRoute(pathname));\n        const matchers = [];\n        for (const page of pathnames){\n            if (this.i18nProvider) {\n                // Match the locale on the page name, or default to the default locale.\n                const { detectedLocale, pathname } = this.i18nProvider.analyze(page);\n                matchers.push(new PagesAPILocaleRouteMatcher({\n                    kind: RouteKind.PAGES_API,\n                    pathname,\n                    page,\n                    bundlePath: this.normalizers.bundlePath.normalize(page),\n                    filename: this.normalizers.filename.normalize(manifest[page]),\n                    i18n: {\n                        locale: detectedLocale\n                    }\n                }));\n            } else {\n                matchers.push(new PagesAPIRouteMatcher({\n                    kind: RouteKind.PAGES_API,\n                    // In `pages/`, the page is the same as the pathname.\n                    pathname: page,\n                    page,\n                    bundlePath: this.normalizers.bundlePath.normalize(page),\n                    filename: this.normalizers.filename.normalize(manifest[page])\n                }));\n            }\n        }\n        return matchers;\n    }\n}\n\n//# sourceMappingURL=pages-api-route-matcher-provider.js.map"
        }
    ]
}