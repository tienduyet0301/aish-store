{
    "sourceFile": "node_modules/next/dist/esm/build/next-config-ts/require-hook.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746892747369,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "import Module from 'node:module';\nimport { readFileSync } from 'node:fs';\nimport { dirname } from 'node:path';\nconst oldJSHook = require.extensions['.js'];\nconst extensions = [\n    '.ts',\n    '.cts',\n    '.mts',\n    '.cjs',\n    '.mjs'\n];\nexport function registerHook(swcOptions) {\n    // lazy require swc since it loads React before even setting NODE_ENV\n    // resulting loading Development React on Production\n    const { transformSync } = require('../swc');\n    require.extensions['.js'] = function(mod, oldFilename) {\n        try {\n            return oldJSHook(mod, oldFilename);\n        } catch (error) {\n            if (error.code !== 'ERR_REQUIRE_ESM') {\n                throw error;\n            }\n            // calling oldJSHook throws ERR_REQUIRE_ESM, so run _compile manually\n            // TODO: investigate if we can remove readFileSync\n            const content = readFileSync(oldFilename, 'utf8');\n            const { code } = transformSync(content, swcOptions);\n            mod._compile(code, oldFilename);\n        }\n    };\n    for (const ext of extensions){\n        const oldHook = require.extensions[ext] ?? oldJSHook;\n        require.extensions[ext] = function(mod, oldFilename) {\n            const _compile = mod._compile;\n            mod._compile = function(code, filename) {\n                const swc = transformSync(code, swcOptions);\n                return _compile.call(this, swc.code, filename);\n            };\n            return oldHook(mod, oldFilename);\n        };\n    }\n}\nexport function deregisterHook() {\n    require.extensions['.js'] = oldJSHook;\n    extensions.forEach((ext)=>delete require.extensions[ext]);\n}\nexport function requireFromString(code, filename) {\n    const paths = Module._nodeModulePaths(dirname(filename));\n    const m = new Module(filename, module.parent);\n    m.paths = paths;\n    m._compile(code, filename);\n    return m.exports;\n}\n\n//# sourceMappingURL=require-hook.js.map"
        }
    ]
}