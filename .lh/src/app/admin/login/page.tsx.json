{
    "sourceFile": "src/app/admin/login/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1746893158710,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747120393671,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useRouter } from \"next/navigation\";\r\n import { motion } from \"framer-motion\";\r\n \r\n export default function LoginPage() {\r\n-  const [username, setUsername] = useState(\"\");\r\n+  const [email, setEmail] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n   const [error, setError] = useState(\"\");\r\n   const [isLoading, setIsLoading] = useState(false);\r\n   const router = useRouter();\r\n@@ -18,20 +18,24 @@\n     setError(\"\");\r\n \r\n     try {\r\n       const result = await signIn(\"credentials\", {\r\n-        username,\r\n+        email,\r\n         password,\r\n         redirect: false,\r\n       });\r\n \r\n       if (result?.error) {\r\n-        setError(\"Invalid username or password\");\r\n+        if (result.error.includes(\"Too many login attempts\")) {\r\n+          setError(\"Quá nhiều lần đăng nhập sai. Vui lòng thử lại sau.\");\r\n+        } else {\r\n+          setError(\"Email hoặc mật khẩu không đúng\");\r\n+        }\r\n       } else {\r\n-        router.push(\"/admin/products\");\r\n+        router.push(\"/admin/customers\");\r\n       }\r\n     } catch (error) {\r\n-      setError(\"An error occurred. Please try again.\");\r\n+      setError(\"Có lỗi xảy ra. Vui lòng thử lại.\");\r\n     } finally {\r\n       setIsLoading(false);\r\n     }\r\n   };\r\n@@ -44,26 +48,26 @@\n             initial={{ opacity: 0, y: 20 }}\r\n             animate={{ opacity: 1, y: 0 }}\r\n             className=\"text-3xl font-bold text-gray-900\"\r\n           >\r\n-            Admin Login\r\n+            Đăng nhập Admin\r\n           </motion.h2>\r\n         </div>\r\n         <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n           <div className=\"rounded-md shadow-sm -space-y-px\">\r\n             <div>\r\n-              <label htmlFor=\"username\" className=\"sr-only\">\r\n-                Username\r\n+              <label htmlFor=\"email\" className=\"sr-only\">\r\n+                Email\r\n               </label>\r\n               <input\r\n-                id=\"username\"\r\n-                name=\"username\"\r\n-                type=\"text\"\r\n+                id=\"email\"\r\n+                name=\"email\"\r\n+                type=\"email\"\r\n                 required\r\n                 className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm\"\r\n-                placeholder=\"Username\"\r\n-                value={username}\r\n-                onChange={(e) => setUsername(e.target.value)}\r\n+                placeholder=\"Email\"\r\n+                value={email}\r\n+                onChange={(e) => setEmail(e.target.value)}\r\n               />\r\n             </div>\r\n             <div>\r\n               <label htmlFor=\"password\" className=\"sr-only\">\r\n@@ -74,9 +78,9 @@\n                 name=\"password\"\r\n                 type=\"password\"\r\n                 required\r\n                 className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm\"\r\n-                placeholder=\"Password\"\r\n+                placeholder=\"Mật khẩu\"\r\n                 value={password}\r\n                 onChange={(e) => setPassword(e.target.value)}\r\n               />\r\n             </div>\r\n@@ -91,9 +95,9 @@\n               type=\"submit\"\r\n               disabled={isLoading}\r\n               className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50\"\r\n             >\r\n-              {isLoading ? \"Signing in...\" : \"Sign in\"}\r\n+              {isLoading ? \"Đang đăng nhập...\" : \"Đăng nhập\"}\r\n             </button>\r\n           </div>\r\n         </form>\r\n       </div>\r\n"
                },
                {
                    "date": 1747120527498,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         } else {\r\n           setError(\"Email hoặc mật khẩu không đúng\");\r\n         }\r\n       } else {\r\n-        router.push(\"/admin/customers\");\r\n+        router.push(\"/admin/dashboard\");\r\n       }\r\n     } catch (error) {\r\n       setError(\"Có lỗi xảy ra. Vui lòng thử lại.\");\r\n     } finally {\r\n"
                },
                {
                    "date": 1747120768029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useRouter } from \"next/navigation\";\r\n import { motion } from \"framer-motion\";\r\n \r\n export default function LoginPage() {\r\n-  const [email, setEmail] = useState(\"\");\r\n+  const [username, setUsername] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n   const [error, setError] = useState(\"\");\r\n   const [isLoading, setIsLoading] = useState(false);\r\n   const router = useRouter();\r\n@@ -18,18 +18,18 @@\n     setError(\"\");\r\n \r\n     try {\r\n       const result = await signIn(\"credentials\", {\r\n-        email,\r\n+        email: username,\r\n         password,\r\n         redirect: false,\r\n       });\r\n \r\n       if (result?.error) {\r\n         if (result.error.includes(\"Too many login attempts\")) {\r\n           setError(\"Quá nhiều lần đăng nhập sai. Vui lòng thử lại sau.\");\r\n         } else {\r\n-          setError(\"Email hoặc mật khẩu không đúng\");\r\n+          setError(\"Tên đăng nhập hoặc mật khẩu không đúng\");\r\n         }\r\n       } else {\r\n         router.push(\"/admin/dashboard\");\r\n       }\r\n@@ -54,25 +54,25 @@\n         </div>\r\n         <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n           <div className=\"rounded-md shadow-sm -space-y-px\">\r\n             <div>\r\n-              <label htmlFor=\"email\" className=\"sr-only\">\r\n-                Email\r\n+              <label htmlFor=\"username\" className=\"sr-only\">\r\n+                Tên đăng nhập\r\n               </label>\r\n               <input\r\n-                id=\"email\"\r\n-                name=\"email\"\r\n-                type=\"email\"\r\n+                id=\"username\"\r\n+                name=\"username\"\r\n+                type=\"text\"\r\n                 required\r\n                 className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm\"\r\n-                placeholder=\"Email\"\r\n-                value={email}\r\n-                onChange={(e) => setEmail(e.target.value)}\r\n+                placeholder=\"Tên đăng nhập\"\r\n+                value={username}\r\n+                onChange={(e) => setUsername(e.target.value)}\r\n               />\r\n             </div>\r\n             <div>\r\n               <label htmlFor=\"password\" className=\"sr-only\">\r\n-                Password\r\n+                Mật khẩu\r\n               </label>\r\n               <input\r\n                 id=\"password\"\r\n                 name=\"password\"\r\n"
                },
                {
                    "date": 1747287038566,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         } else {\r\n           setError(\"Tên đăng nhập hoặc mật khẩu không đúng\");\r\n         }\r\n       } else {\r\n-        router.push(\"/admin/dashboard\");\r\n+        router.push(\"/admin/products\");\r\n       }\r\n     } catch (error) {\r\n       setError(\"Có lỗi xảy ra. Vui lòng thử lại.\");\r\n     } finally {\r\n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { signIn } from \"next-auth/react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function LoginPage() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const result = await signIn(\"credentials\", {\r\n        username,\r\n        password,\r\n        redirect: false,\r\n      });\r\n\r\n      if (result?.error) {\r\n        setError(\"Invalid username or password\");\r\n      } else {\r\n        router.push(\"/admin/products\");\r\n      }\r\n    } catch (error) {\r\n      setError(\"An error occurred. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white flex items-center justify-center\">\r\n      <div className=\"max-w-md w-full space-y-8 p-8\">\r\n        <div className=\"text-center\">\r\n          <motion.h2\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"text-3xl font-bold text-gray-900\"\r\n          >\r\n            Admin Login\r\n          </motion.h2>\r\n        </div>\r\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n          <div className=\"rounded-md shadow-sm -space-y-px\">\r\n            <div>\r\n              <label htmlFor=\"username\" className=\"sr-only\">\r\n                Username\r\n              </label>\r\n              <input\r\n                id=\"username\"\r\n                name=\"username\"\r\n                type=\"text\"\r\n                required\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm\"\r\n                placeholder=\"Username\"\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"sr-only\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                required\r\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm\"\r\n                placeholder=\"Password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"text-red-500 text-sm text-center\">{error}</div>\r\n          )}\r\n\r\n          <div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50\"\r\n            >\r\n              {isLoading ? \"Signing in...\" : \"Sign in\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n} "
        }
    ]
}