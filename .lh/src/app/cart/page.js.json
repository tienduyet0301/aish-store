{
    "sourceFile": "src/app/cart/page.js",
    "activeCommit": 1,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [],
            "date": 1746892031011,
            "name": "Commit-0",
            "content": "\"use client\";\nimport { motion } from \"framer-motion\";\nimport { useCart } from \"../../context/CartContext\";\nimport { useRouter } from \"next/navigation\";\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\n\nconst styles = {\n  emptyCart: {\n    textAlign: \"center\",\n    padding: \"40px\",\n  },\n  emptyCartTitle: {\n    fontSize: \"24px\",\n    fontWeight: \"bold\",\n    marginBottom: \"10px\",\n  },\n  emptyCartText: {\n    color: \"#666\",\n    marginBottom: \"20px\",\n  },\n  continueShopping: {\n    display: \"inline-block\",\n    padding: \"10px 20px\",\n    backgroundColor: \"#000\",\n    color: \"white\",\n    textDecoration: \"none\",\n    borderRadius: \"4px\",\n  },\n  cartItem: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"20px\",\n    borderBottom: \"1px solid #e0e0e0\",\n    gap: \"20px\",\n  },\n  productInfo: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"20px\",\n    flex: 1,\n  },\n  productImage: {\n    objectFit: \"cover\",\n    borderRadius: \"4px\",\n  },\n  productDetails: {\n    flex: 1,\n  },\n  productName: {\n    fontSize: \"16px\",\n    marginBottom: \"8px\",\n  },\n  productPrice: {\n    fontSize: \"14px\",\n    color: \"#666\",\n  },\n  quantityControl: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"10px\",\n  },\n  quantityButton: {\n    width: \"30px\",\n    height: \"30px\",\n    border: \"1px solid #e0e0e0\",\n    backgroundColor: \"white\",\n    cursor: \"pointer\",\n  },\n  quantity: {\n    width: \"40px\",\n    textAlign: \"center\",\n  },\n  removeButton: {\n    padding: \"8px 16px\",\n    backgroundColor: \"#ff4444\",\n    color: \"white\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n  },\n};\n\nexport default function Cart() {\n  const {\n    cartItems: cart,\n    removeItem: removeFromCart,\n    updateQuantity,\n  } = useCart();\n  const router = useRouter();\n  const [savedItems, setSavedItems] = useState([]);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingItem, setEditingItem] = useState(null);\n  const [selectedSize, setSelectedSize] = useState(\"\");\n  const [promoCode, setPromoCode] = useState(\"\");\n  const [promoAmount, setPromoAmount] = useState(0);\n  const [isPromoApplied, setIsPromoApplied] = useState(false);\n  const [promoMessage, setPromoMessage] = useState(\"\");\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [itemToDelete, setItemToDelete] = useState(null);\n  const [productStock, setProductStock] = useState(null);\n  const [editingQuantity, setEditingQuantity] = useState(1);\n\n  const sizes = [\"M\", \"L\", \"XL\"];\n\n  const calculateTotal = () => {\n    const subtotal = cart\n      .reduce((total, item) => {\n        const itemTotal = item.price * item.quantity;\n        return total + itemTotal;\n      }, 0);\n\n    const finalTotal = subtotal - (isPromoApplied ? promoAmount : 0);\n    \n    return finalTotal.toLocaleString('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    });\n  };\n\n  const handleQuantityChange = (item, newQuantity) => {\n    const stockQuantity = item.currentStock || item.stock?.[item.size] || 0;\n    \n    if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n      updateQuantity(item.id, newQuantity, item.size);\n    } else if (newQuantity > stockQuantity) {\n      alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n    }\n  };\n\n  const handleEdit = (item) => {\n    setEditingItem(item);\n    setSelectedSize(item.size || \"M\");\n    setEditingQuantity(item.quantity);\n    setShowEditModal(true);\n  };\n\n  const handleSizeChange = async (e) => {\n    const newSize = e.target.value;\n    setSelectedSize(newSize);\n\n    const currentItem = cart.find(item => item.id === editingItem.id);\n    if (currentItem) {\n      const sizeQuantity = currentItem.stock?.[newSize] || 0;\n      setEditingQuantity(Math.min(editingQuantity, sizeQuantity));\n    }\n  };\n\n  const handleSaveChanges = () => {\n    if (editingItem && selectedSize) {\n      const currentItem = cart.find(item => item.id === editingItem.id);\n      if (!currentItem) return;\n\n      const sizeQuantity = currentItem.stock?.[selectedSize] || 0;\n      if (editingQuantity > sizeQuantity) {\n        alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n        return;\n      }\n\n      updateQuantity(editingItem.id, editingQuantity, selectedSize);\n    }\n    setShowEditModal(false);\n    setEditingItem(null);\n    setProductStock(null);\n    setEditingQuantity(1);\n  };\n\n  const handleCancelEdit = () => {\n    setShowEditModal(false);\n    setEditingItem(null);\n    setProductStock(null);\n    setEditingQuantity(1);\n  };\n\n  const handleDelete = (item) => {\n    setItemToDelete(item);\n    setShowDeleteModal(true);\n  };\n\n  const confirmDelete = () => {\n    if (itemToDelete) {\n      removeFromCart(itemToDelete.id);\n      setShowDeleteModal(false);\n      setItemToDelete(null);\n    }\n  };\n\n  const handleSaveItem = (item) => {\n    setSavedItems(prev => {\n      const isAlreadySaved = prev.some(savedItem => savedItem.id === item.id);\n      if (isAlreadySaved) {\n        const updatedItems = prev.filter(savedItem => savedItem.id !== item.id);\n        localStorage.setItem('savedItems', JSON.stringify(updatedItems));\n        return updatedItems;\n      } else {\n        const updatedItems = [...prev, { ...item, savedAt: new Date().toISOString() }];\n        localStorage.setItem('savedItems', JSON.stringify(updatedItems));\n        return updatedItems;\n      }\n    });\n\n    const message = savedItems.some(savedItem => savedItem.id === item.id) \n      ? \"Item removed from saved items\"\n      : \"Item saved successfully\";\n    alert(message);\n  };\n\n  useEffect(() => {\n    const loadSavedItems = () => {\n      try {\n        const savedItemsFromStorage = JSON.parse(localStorage.getItem('savedItems') || '[]');\n        setSavedItems(savedItemsFromStorage);\n      } catch (error) {\n        console.error('Error loading saved items:', error);\n        setSavedItems([]);\n      }\n    };\n\n    loadSavedItems();\n\n    window.addEventListener('storage', loadSavedItems);\n    return () => window.removeEventListener('storage', loadSavedItems);\n  }, []);\n\n  useEffect(() => {\n    const fetchProductStock = async () => {\n      if (editingItem) {\n        try {\n          const response = await fetch(`/api/products/${editingItem.id}`);\n          const data = await response.json();\n          if (data.ok) {\n            setProductStock(data.product);\n            setEditingQuantity(1);\n          }\n        } catch (error) {\n          console.error(\"Error fetching product stock:\", error);\n        }\n      }\n    };\n\n    fetchProductStock();\n  }, [editingItem]);\n\n  const handleApplyPromoCode = async () => {\n    try {\n      const response = await fetch(\"/api/admin/notifications\");\n      const data = await response.json();\n      \n      if (data.ok) {\n        const foundPromoCode = data.promoCodes.find(\n          (promo) => promo.code === promoCode.trim() && promo.isActive\n        );\n\n        if (foundPromoCode) {\n          setPromoAmount(foundPromoCode.amount);\n          setIsPromoApplied(true);\n          setPromoMessage(`Mã giảm giá ${foundPromoCode.amount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n        } else {\n          setPromoMessage(\"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n          setPromoAmount(0);\n          setIsPromoApplied(false);\n        }\n      } else {\n        setPromoMessage(\"Có lỗi xảy ra khi kiểm tra mã giảm giá\");\n        setPromoAmount(0);\n        setIsPromoApplied(false);\n      }\n    } catch (error) {\n      console.error(\"Error applying promo code:\", error);\n      setPromoMessage(\"Có lỗi xảy ra khi áp dụng mã giảm giá\");\n      setPromoAmount(0);\n      setIsPromoApplied(false);\n    }\n  };\n\n  const handleCheckout = () => {\n    if (cart.length === 0) {\n      alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n      return;\n    }\n    router.push(\"/checkout\");\n  };\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  if (cart.length === 0) {\n    return (\n      <div style={styles.emptyCart}>\n        <h1 style={styles.emptyCartTitle}>Giỏ hàng trống</h1>\n        <p style={styles.emptyCartText}>\n          Bạn chưa có sản phẩm nào trong giỏ hàng.\n        </p>\n        <Link href=\"/\" style={styles.continueShopping}>\n          Tiếp tục mua sắm\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gray-100\">\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ duration: 0.5 }}\n        className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n        style={{\n          backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n        }}\n      >\n        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n      </motion.div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5 }}\n            className=\"lg:col-span-7\"\n          >\n            <div className=\"mb-6\">\n              <h2 style={{\n                fontSize: \"1em\",\n                fontWeight: \"bold\",\n                marginBottom: \"15px\",\n                color: \"#000000\",\n                textAlign: \"left\",\n                borderBottom: \"1px solid #000000\",\n                paddingBottom: \"10px\"\n              }}>\n                YOUR SELECTIONS\n              </h2>\n            </div>\n            {cart.map((item) => (\n              <div key={item.id} style={styles.cartItem}>\n                <div style={styles.productInfo}>\n                  <Image\n                    src={item.image}\n                    alt={item.name}\n                    width={100}\n                    height={100}\n                    style={styles.productImage}\n                  />\n                  <div style={styles.productDetails}>\n                    <h3 style={styles.productName}>{item.name}</h3>\n                    <p style={styles.productPrice}>\n                      {item.price.toLocaleString(\"vi-VN\")}đ\n                    </p>\n                  </div>\n                </div>\n                <div style={styles.quantityControl}>\n                  <button\n                    onClick={() => handleQuantityChange(item, item.quantity - 1)}\n                    style={styles.quantityButton}\n                  >\n                    -\n                  </button>\n                  <span style={styles.quantity}>{item.quantity}</span>\n                  <button\n                    onClick={() => handleQuantityChange(item, item.quantity + 1)}\n                    style={styles.quantityButton}\n                  >\n                    +\n                  </button>\n                </div>\n                <button\n                  onClick={() => handleDelete(item)}\n                  style={styles.removeButton}\n                >\n                  Xóa\n                </button>\n              </div>\n            ))}\n          </motion.div>\n\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: 0.2 }}\n            className=\"lg:col-span-3\"\n          >\n            <div className=\"bg-white p-6 rounded-lg shadow-md sticky top-4\">\n              <h2 style={{\n                fontSize: \"1em\",\n                fontWeight: \"bold\",\n                marginBottom: \"15px\",\n                color: \"#000000\",\n                textAlign: \"left\",\n                borderBottom: \"1px solid #000000\",\n                paddingBottom: \"10px\"\n              }}>\n                ORDER SUMMARY\n              </h2>\n              <div className=\"space-y-4\">\n                {cart.map((item) => (\n                  <div key={item.id} style={{\n                    display: \"flex\",\n                    gap: \"15px\",\n                    marginBottom: \"20px\",\n                    color: \"#000000\",\n                  }}>\n                    <img \n                      src={item.image} \n                      alt={item.name} \n                      style={{\n                        width: \"80px\",\n                        height: \"80px\",\n                        objectFit: \"cover\",\n                      }}\n                    />\n                    <div style={{\n                      color: \"#000000\",\n                      flex: 1,\n                    }}>\n                      <p style={{ \n                        fontWeight: \"bold\", \n                        marginBottom: \"6px\", \n                        fontSize: \"0.9em\" \n                      }}>\n                        {item.name}\n                      </p>\n                      <div style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"4px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                      }}>\n                        <span>Số lượng:</span>\n                        <span>{item.quantity}</span>\n                      </div>\n                      <div style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"4px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                      }}>\n                        <span>Màu:</span>\n                        <span>{item.color || \"Đen\"}</span>\n                      </div>\n                      <div style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"4px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                      }}>\n                        <span>Size:</span>\n                        <span>{item.size || \"Unknown\"}</span>\n                      </div>\n                      <div style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"4px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                      }}>\n                        <span>Thời gian:</span>\n                        <span>{item.shippingInfo || \"Dự kiến 5 ngày\"}</span>\n                      </div>\n                      <div style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"4px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                      }}>\n                        <span>Giá:</span>\n                        <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n                \n                <div style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: \"8px\",\n                  fontSize: \"0.7em\",\n                  color: \"#000000\",\n                }}>\n                  <span>Tổng phụ</span>\n                  <span>{(cart.reduce((total, item) => total + item.price * item.quantity, 0)).toLocaleString('vi-VN')} VND</span>\n                </div>\n                <div style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: \"8px\",\n                  fontSize: \"0.7em\",\n                  color: \"#000000\",\n                }}>\n                  <span>Vận chuyển</span>\n                  <span>Miễn phí (Express)</span>\n                </div>\n                {isPromoApplied && (\n                  <div style={{\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    marginBottom: \"8px\",\n                    fontSize: \"0.7em\",\n                    color: \"#000000\",\n                  }}>\n                    <span>Giảm giá</span>\n                    <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                  </div>\n                )}\n                <div style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: \"8px\",\n                  fontSize: \"0.7em\",\n                  fontWeight: \"bold\",\n                  color: \"#000000\",\n                }}>\n                  <span>Tổng cộng</span>\n                  <span>{calculateTotal()}</span>\n                </div>\n              </div>\n              <div style={{ \n                borderTop: \"1px solid #000000\", \n                paddingTop: \"10px\",\n                marginTop: \"20px\"\n              }}>\n                <div style={{\n                  display: \"flex\",\n                  gap: \"10px\",\n                  marginBottom: \"15px\",\n                }}>\n                  <input\n                    type=\"text\"\n                    value={promoCode}\n                    onChange={(e) => setPromoCode(e.target.value)}\n                    placeholder=\"Enter promo code\"\n                    style={{\n                      flex: 1,\n                      padding: \"8px\",\n                      fontSize: \"0.7em\",\n                      border: \"1px solid #000000\",\n                      color: \"#000000\",\n                    }}\n                  />\n                  <button\n                    onClick={handleApplyPromoCode}\n                    style={{\n                      padding: \"8px 15px\",\n                      fontSize: \"0.7em\",\n                      backgroundColor: \"#000000\",\n                      color: \"#ffffff\",\n                      border: \"none\",\n                      cursor: \"pointer\",\n                    }}\n                  >\n                    Apply\n                  </button>\n                </div>\n                {promoMessage && (\n                  <p style={{\n                    fontSize: \"0.7em\",\n                    color: isPromoApplied ? \"#059669\" : \"#dc2626\",\n                    marginBottom: \"10px\"\n                  }}>\n                    {promoMessage}\n                  </p>\n                )}\n                <div style={{ \n                  borderTop: \"1px solid #000000\", \n                  borderBottom: \"1px solid #000000\", \n                  paddingTop: \"10px\", \n                  paddingBottom: \"10px\",\n                  marginTop: \"20px\"\n                }}>\n                  <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n                  <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>+61 1300492212</p>\n                  <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>clientservice.au@gucci.com</p>\n                </div>\n              </div>\n              <button\n                onClick={handleCheckout}\n                className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n              >\n                CHECK OUT\n              </button>\n            </div>\n          </motion.div>\n        </div>\n      </div>\n\n      {showEditModal && editingItem && (\n        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-white/80 w-11/12 max-w-2xl relative\"\n          >\n            <button\n              onClick={handleCancelEdit}\n              className=\"absolute top-4 right-4 text-black\"\n            >\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </button>\n            <div className=\"text-center py-4\">\n              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n              <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n              <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>AU$ {editingItem.price?.toFixed(2) || \"450.00\"}</p>\n            </div>\n            <div className=\"flex flex-col md:flex-row border-t border-gray-200\">\n              <div className=\"md:w-1/2 p-6 flex flex-col items-center justify-center border-r border-gray-200\">\n                <img\n                  src={editingItem.image}\n                  alt={editingItem.name}\n                  style={{\n                    width: \"160px\",\n                    height: \"160px\",\n                    objectFit: \"cover\",\n                    marginBottom: \"16px\"\n                  }}\n                />\n                <div style={{ textAlign: \"center\" }}>\n                  <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Màu: {editingItem.color || \"Đen\"}</p>\n                  <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>Size: {editingItem.size || \"M\"}</p>\n                </div>\n              </div>\n              <div className=\"md:w-1/2 p-6\">\n                <div className=\"mb-6\">\n                  <label style={{ \n                    display: \"block\", \n                    marginBottom: \"8px\", \n                    fontSize: \"0.7em\", \n                    color: \"#000000\", \n                    textTransform: \"uppercase\", \n                    letterSpacing: \"0.1em\" \n                  }}>\n                    SIZE\n                  </label>\n                  <div className=\"relative\">\n                    <select\n                      value={selectedSize}\n                      onChange={handleSizeChange}\n                      style={{\n                        width: \"100%\",\n                        padding: \"8px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                        border: \"1px solid #000000\",\n                        appearance: \"none\",\n                        background: \"white\",\n                        cursor: \"pointer\"\n                      }}\n                    >\n                      {sizes.map((size) => {\n                        const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n                        const isDisabled = sizeQuantity === 0;\n                        return (\n                          <option \n                            key={size} \n                            value={size}\n                            disabled={isDisabled}\n                            style={{\n                              color: isDisabled ? \"#999\" : \"#000\",\n                              backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n                            }}\n                          >\n                            {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n                          </option>\n                        );\n                      })}\n                    </select>\n                    <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"border-t border-gray-200\">\n              <button\n                onClick={handleSaveChanges}\n                style={{\n                  width: \"100%\",\n                  padding: \"12px\",\n                  fontSize: \"0.7em\",\n                  color: \"#ffffff\",\n                  backgroundColor: \"#000000\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  textTransform: \"uppercase\",\n                  letterSpacing: \"0.1em\"\n                }}\n              >\n                Save Changes\n              </button>\n              <button\n                onClick={handleCancelEdit}\n                style={{\n                  width: \"100%\",\n                  padding: \"12px\",\n                  fontSize: \"0.7em\",\n                  color: \"#000000\",\n                  backgroundColor: \"transparent\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  textTransform: \"uppercase\",\n                  letterSpacing: \"0.1em\"\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </motion.div>\n        </div>\n      )}\n\n      {showDeleteModal && itemToDelete && (\n        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-white/80 w-11/12 max-w-md relative\"\n          >\n            <button\n              onClick={() => setShowDeleteModal(false)}\n              className=\"absolute top-4 right-4 text-black\"\n            >\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </button>\n            <div className=\"text-center py-8\">\n              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n                CONFIRM REMOVAL\n              </p>\n              <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n                Are you sure you want to remove this item?\n              </p>\n              <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                {itemToDelete.name}\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200\">\n              <button\n                onClick={confirmDelete}\n                style={{\n                  width: \"100%\",\n                  padding: \"12px\",\n                  fontSize: \"0.7em\",\n                  color: \"#ffffff\",\n                  backgroundColor: \"#000000\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  textTransform: \"uppercase\",\n                  letterSpacing: \"0.1em\"\n                }}\n              >\n                Confirm\n              </button>\n              <button\n                onClick={() => setShowDeleteModal(false)}\n                style={{\n                  width: \"100%\",\n                  padding: \"12px\",\n                  fontSize: \"0.7em\",\n                  color: \"#000000\",\n                  backgroundColor: \"transparent\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  textTransform: \"uppercase\",\n                  letterSpacing: \"0.1em\"\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </motion.div>\n        </div>\n      )}\n\n      <style jsx>{`\n        .underline-btn {\n          position: relative;\n          text-decoration: none;\n          transition: color 0.3s ease;\n        }\n        .underline-btn::after {\n          content: \"\";\n          position: absolute;\n          width: 0;\n          height: 1px;\n          bottom: -1px;\n          left: 0;\n          background-color: currentColor;\n          transition: width 0.3s ease;\n        }\n        .underline-btn:hover::after {\n          width: 100%;\n        }\n        .underline-btn:hover {\n          color: #000;\n        }\n        .underline-btn.remove:hover {\n          color: #dc2626;\n        }\n      `}</style>\n    </div>\n  );\n}"
        },
        {
            "activePatchIndex": 111,
            "patches": [
                {
                    "date": 1746893161734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746893207057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -330,73 +330,66 @@\n               }}>\n                 YOUR SELECTIONS\n               </h2>\n             </div>\n-            {cart.map((item, idx) => (\n-              <div key={item.id} style={{ display: 'flex', gap: 32, alignItems: 'flex-start', padding: '32px 0', borderBottom: idx < cart.length - 1 ? '1px solid #e0e0e0' : 'none' }}>\n-                {/* Ảnh sản phẩm */}\n-                <div style={{ minWidth: 140, maxWidth: 180, flex: '0 0 140px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n+            {cart.map((item) => (\n+              <div key={item.id} style={styles.cartItem}>\n+                <div style={styles.productInfo}>\n                   <Image\n                     src={item.image}\n                     alt={item.name}\n-                    width={140}\n-                    height={140}\n-                    style={{ objectFit: 'cover', borderRadius: 4 }}\n+                    width={100}\n+                    height={100}\n+                    style={styles.productImage}\n                   />\n-                </div>\n-                {/* Thông tin sản phẩm */}\n-                <div style={{ flex: 1, minWidth: 0, display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\n-                  <div style={{ fontWeight: 700, fontSize: 20, marginBottom: 8, fontFamily: 'serif' }}>{item.name}</div>\n-                  <div style={{ color: '#666', fontSize: 15, marginBottom: 2 }}>Màu: <span style={{ color: '#222' }}>{item.color || 'N/A'}</span></div>\n-                  <div style={{ color: '#666', fontSize: 15, marginBottom: 2 }}>Size: <span style={{ color: '#222' }}>{item.size || 'N/A'}</span></div>\n-                  <div style={{ color: '#666', fontSize: 15, marginBottom: 2 }}>Số lượng: <span style={{ color: '#222' }}>{item.quantity}</span></div>\n-                  <div style={{ color: '#d32d2f', fontSize: 15, margin: '10px 0 0 0', fontWeight: 500 }}>Order khoảng 5 ngày</div>\n-                  {/* 3 nút dưới cùng */}\n-                  <div style={{ display: 'flex', gap: 24, marginTop: 18 }}>\n-                    <button\n-                      onClick={() => handleEdit(item)}\n-                      className=\"cart-action-btn\"\n-                      style={{ background: 'none', border: 'none', color: '#000', fontWeight: 600, fontSize: 14, textTransform: 'uppercase', cursor: 'pointer', fontFamily: 'inherit', position: 'relative', padding: 0 }}\n-                    >\n-                      EDIT\n-                    </button>\n-                    <button\n-                      onClick={() => handleDelete(item)}\n-                      className=\"cart-action-btn\"\n-                      style={{ background: 'none', border: 'none', color: '#000', fontWeight: 600, fontSize: 14, textTransform: 'uppercase', cursor: 'pointer', fontFamily: 'inherit', position: 'relative', padding: 0 }}\n-                    >\n-                      REMOVE\n-                    </button>\n-                    <button\n-                      onClick={() => handleSaveItem(item)}\n-                      className=\"cart-action-btn\"\n-                      style={{ background: 'none', border: 'none', color: '#000', fontWeight: 600, fontSize: 14, textTransform: 'uppercase', cursor: 'pointer', fontFamily: 'inherit', position: 'relative', padding: 0, display: 'flex', alignItems: 'center', gap: 4 }}\n-                    >\n-                      <span style={{ fontSize: 18, color: '#d32d2f' }}>&#9829;</span> SAVED ITEMS\n-                    </button>\n+                  <div style={styles.productDetails}>\n+                    <h3 style={styles.productName}>{item.name}</h3>\n+                    <p style={styles.productPrice}>\n+                      {item.price.toLocaleString(\"vi-VN\")}đ\n+                    </p>\n+                    <div style={{ fontSize: \"0.7em\", color: \"#666\", marginTop: \"4px\" }}>\n+                      <p>Size: {item.size || \"M\"}</p>\n+                      <p>Màu: {item.color || \"Đen\"}</p>\n+                      <p>Thời gian: {item.shippingInfo || \"Dự kiến 5 ngày\"}</p>\n+                    </div>\n                   </div>\n                 </div>\n-                {/* Giá và số lượng */}\n-                <div style={{ minWidth: 160, textAlign: 'right', display: 'flex', flexDirection: 'column', alignItems: 'flex-end', gap: 16, justifyContent: 'center' }}>\n-                  <div style={{ fontWeight: 600, fontSize: 20, marginBottom: 12, fontFamily: 'serif' }}>AU$ {item.price?.toLocaleString('en-US', { minimumFractionDigits: 2 })}</div>\n-                  <div style={{ display: 'flex', alignItems: 'center', gap: 0 }}>\n-                    <button\n-                      onClick={() => handleQuantityChange(item, Math.max(1, item.quantity - 1))}\n-                      className=\"cart-qty-btn\"\n-                      style={{ width: 32, height: 32, border: '1px solid #ccc', background: '#fff', fontSize: 18, fontWeight: 600, cursor: 'pointer', borderRadius: 0, transition: 'background 0.2s' }}\n-                    >\n-                      -\n-                    </button>\n-                    <span style={{ width: 40, textAlign: 'center', fontSize: 16, fontWeight: 500 }}>{item.quantity}</span>\n-                    <button\n-                      onClick={() => handleQuantityChange(item, item.quantity + 1)}\n-                      className=\"cart-qty-btn\"\n-                      style={{ width: 32, height: 32, border: '1px solid #ccc', background: '#fff', fontSize: 18, fontWeight: 600, cursor: 'pointer', borderRadius: 0, transition: 'background 0.2s' }}\n-                    >\n-                      +\n-                    </button>\n-                  </div>\n+                <div style={styles.quantityControl}>\n+                  <button\n+                    onClick={() => handleQuantityChange(item, item.quantity - 1)}\n+                    style={styles.quantityButton}\n+                  >\n+                    -\n+                  </button>\n+                  <span style={styles.quantity}>{item.quantity}</span>\n+                  <button\n+                    onClick={() => handleQuantityChange(item, item.quantity + 1)}\n+                    style={styles.quantityButton}\n+                  >\n+                    +\n+                  </button>\n                 </div>\n+                <div style={{ display: \"flex\", gap: \"10px\" }}>\n+                  <button\n+                    onClick={() => handleEdit(item)}\n+                    style={{\n+                      padding: \"8px 16px\",\n+                      backgroundColor: \"#000\",\n+                      color: \"white\",\n+                      border: \"none\",\n+                      borderRadius: \"4px\",\n+                      cursor: \"pointer\",\n+                    }}\n+                  >\n+                    Sửa\n+                  </button>\n+                  <button\n+                    onClick={() => handleDelete(item)}\n+                    style={styles.removeButton}\n+                  >\n+                    Xóa\n+                  </button>\n+                </div>\n               </div>\n             ))}\n           </motion.div>\n \n@@ -832,32 +825,8 @@\n         }\n         .underline-btn.remove:hover {\n           color: #dc2626;\n         }\n-        .cart-action-btn {\n-          overflow: hidden;\n-        }\n-        .cart-action-btn::after {\n-          content: \"\";\n-          display: block;\n-          width: 0;\n-          height: 2px;\n-          background: #000;\n-          transition: width 0.3s;\n-          position: absolute;\n-          left: 0;\n-          bottom: -2px;\n-        }\n-        .cart-action-btn:hover::after {\n-          width: 100%;\n-        }\n-        .cart-action-btn:hover {\n-          color: #d32d2f;\n-        }\n-        .cart-qty-btn:hover {\n-          background: #f5f5f5;\n-          border-color: #000;\n-        }\n       `}</style>\n     </div>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746893455702,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,93 +2,11 @@\n import { motion } from \"framer-motion\";\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n-import Link from \"next/link\";\n-import Image from \"next/image\";\n \n-const styles = {\n-  emptyCart: {\n-    textAlign: \"center\",\n-    padding: \"40px\",\n-  },\n-  emptyCartTitle: {\n-    fontSize: \"24px\",\n-    fontWeight: \"bold\",\n-    marginBottom: \"10px\",\n-  },\n-  emptyCartText: {\n-    color: \"#666\",\n-    marginBottom: \"20px\",\n-  },\n-  continueShopping: {\n-    display: \"inline-block\",\n-    padding: \"10px 20px\",\n-    backgroundColor: \"#000\",\n-    color: \"white\",\n-    textDecoration: \"none\",\n-    borderRadius: \"4px\",\n-  },\n-  cartItem: {\n-    display: \"flex\",\n-    alignItems: \"center\",\n-    padding: \"20px\",\n-    borderBottom: \"1px solid #e0e0e0\",\n-    gap: \"20px\",\n-  },\n-  productInfo: {\n-    display: \"flex\",\n-    alignItems: \"center\",\n-    gap: \"20px\",\n-    flex: 1,\n-  },\n-  productImage: {\n-    objectFit: \"cover\",\n-    borderRadius: \"4px\",\n-  },\n-  productDetails: {\n-    flex: 1,\n-  },\n-  productName: {\n-    fontSize: \"16px\",\n-    marginBottom: \"8px\",\n-  },\n-  productPrice: {\n-    fontSize: \"14px\",\n-    color: \"#666\",\n-  },\n-  quantityControl: {\n-    display: \"flex\",\n-    alignItems: \"center\",\n-    gap: \"10px\",\n-  },\n-  quantityButton: {\n-    width: \"30px\",\n-    height: \"30px\",\n-    border: \"1px solid #e0e0e0\",\n-    backgroundColor: \"white\",\n-    cursor: \"pointer\",\n-  },\n-  quantity: {\n-    width: \"40px\",\n-    textAlign: \"center\",\n-  },\n-  removeButton: {\n-    padding: \"8px 16px\",\n-    backgroundColor: \"#ff4444\",\n-    color: \"white\",\n-    border: \"none\",\n-    borderRadius: \"4px\",\n-    cursor: \"pointer\",\n-  },\n-};\n-\n export default function Cart() {\n-  const {\n-    cartItems: cart,\n-    removeItem: removeFromCart,\n-    updateQuantity,\n-  } = useCart();\n+  const { cartItems, updateQuantity, removeItem } = useCart();\n   const router = useRouter();\n   const [savedItems, setSavedItems] = useState([]);\n   const [showEditModal, setShowEditModal] = useState(false);\n   const [editingItem, setEditingItem] = useState(null);\n@@ -104,9 +22,9 @@\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n-    const subtotal = cart\n+    const subtotal = cartItems\n       .reduce((total, item) => {\n         const itemTotal = item.price * item.quantity;\n         return total + itemTotal;\n       }, 0);\n@@ -122,9 +40,9 @@\n   const handleQuantityChange = (item, newQuantity) => {\n     const stockQuantity = item.currentStock || item.stock?.[item.size] || 0;\n     \n     if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n-      updateQuantity(item.id, newQuantity, item.size);\n+      updateQuantity(item.id, newQuantity);\n     } else if (newQuantity > stockQuantity) {\n       alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n@@ -139,18 +57,19 @@\n   const handleSizeChange = async (e) => {\n     const newSize = e.target.value;\n     setSelectedSize(newSize);\n \n-    const currentItem = cart.find(item => item.id === editingItem.id);\n+    // Lấy thông tin stock từ item hiện tại\n+    const currentItem = cartItems.find(item => item.id === editingItem.id);\n     if (currentItem) {\n       const sizeQuantity = currentItem.stock?.[newSize] || 0;\n       setEditingQuantity(Math.min(editingQuantity, sizeQuantity));\n     }\n   };\n \n   const handleSaveChanges = () => {\n     if (editingItem && selectedSize) {\n-      const currentItem = cart.find(item => item.id === editingItem.id);\n+      const currentItem = cartItems.find(item => item.id === editingItem.id);\n       if (!currentItem) return;\n \n       const sizeQuantity = currentItem.stock?.[selectedSize] || 0;\n       if (editingQuantity > sizeQuantity) {\n@@ -179,9 +98,9 @@\n   };\n \n   const confirmDelete = () => {\n     if (itemToDelete) {\n-      removeFromCart(itemToDelete.id);\n+      removeItem(itemToDelete.id);\n       setShowDeleteModal(false);\n       setItemToDelete(null);\n     }\n   };\n@@ -246,57 +165,31 @@\n     try {\n       const response = await fetch(\"/api/admin/notifications\");\n       const data = await response.json();\n       \n-      if (data.ok) {\n-        const foundPromoCode = data.promoCodes.find(\n-          (promo) => promo.code === promoCode.trim() && promo.isActive\n-        );\n-\n-        if (foundPromoCode) {\n-          setPromoAmount(foundPromoCode.amount);\n-          setIsPromoApplied(true);\n-          setPromoMessage(`Mã giảm giá ${foundPromoCode.amount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n-        } else {\n-          setPromoMessage(\"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n-          setPromoAmount(0);\n-          setIsPromoApplied(false);\n-        }\n+      if (data.ok && data.isPromoActive && data.promoCode === promoCode) {\n+        setPromoAmount(data.promoAmount);\n+        setIsPromoApplied(true);\n+        setPromoMessage(`Mã giảm giá ${data.promoAmount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n       } else {\n-        setPromoMessage(\"Có lỗi xảy ra khi kiểm tra mã giảm giá\");\n+        setPromoMessage(\"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n         setPromoAmount(0);\n         setIsPromoApplied(false);\n       }\n     } catch (error) {\n       console.error(\"Error applying promo code:\", error);\n       setPromoMessage(\"Có lỗi xảy ra khi áp dụng mã giảm giá\");\n-      setPromoAmount(0);\n-      setIsPromoApplied(false);\n     }\n   };\n \n   const handleCheckout = () => {\n-    if (cart.length === 0) {\n+    if (cartItems.length === 0) {\n       alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n       return;\n     }\n     router.push(\"/checkout\");\n   };\n \n-  if (cart.length === 0) {\n-    return (\n-      <div style={styles.emptyCart}>\n-        <h1 style={styles.emptyCartTitle}>Giỏ hàng trống</h1>\n-        <p style={styles.emptyCartText}>\n-          Bạn chưa có sản phẩm nào trong giỏ hàng.\n-        </p>\n-        <Link href=\"/\" style={styles.continueShopping}>\n-          Tiếp tục mua sắm\n-        </Link>\n-      </div>\n-    );\n-  }\n-\n   return (\n     <div className=\"bg-gray-100\">\n       <motion.div\n         initial={{ opacity: 0 }}\n@@ -310,301 +203,455 @@\n         <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n-        <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n-          <motion.div\n-            initial={{ opacity: 0, y: 20 }}\n-            animate={{ opacity: 1, y: 0 }}\n-            transition={{ duration: 0.5 }}\n-            className=\"lg:col-span-7\"\n-          >\n-            <div className=\"mb-6\">\n-              <h2 style={{\n-                fontSize: \"1em\",\n-                fontWeight: \"bold\",\n-                marginBottom: \"15px\",\n-                color: \"#000000\",\n-                textAlign: \"left\",\n-                borderBottom: \"1px solid #000000\",\n-                paddingBottom: \"10px\"\n-              }}>\n-                YOUR SELECTIONS\n-              </h2>\n-            </div>\n-            {cart.map((item) => (\n-              <div key={item.id} style={styles.cartItem}>\n-                <div style={styles.productInfo}>\n-                  <Image\n-                    src={item.image}\n-                    alt={item.name}\n-                    width={100}\n-                    height={100}\n-                    style={styles.productImage}\n-                  />\n-                  <div style={styles.productDetails}>\n-                    <h3 style={styles.productName}>{item.name}</h3>\n-                    <p style={styles.productPrice}>\n-                      {item.price.toLocaleString(\"vi-VN\")}đ\n-                    </p>\n-                    <div style={{ fontSize: \"0.7em\", color: \"#666\", marginTop: \"4px\" }}>\n-                      <p>Size: {item.size || \"M\"}</p>\n-                      <p>Màu: {item.color || \"Đen\"}</p>\n-                      <p>Thời gian: {item.shippingInfo || \"Dự kiến 5 ngày\"}</p>\n-                    </div>\n-                  </div>\n-                </div>\n-                <div style={styles.quantityControl}>\n-                  <button\n-                    onClick={() => handleQuantityChange(item, item.quantity - 1)}\n-                    style={styles.quantityButton}\n+        {cartItems.length === 0 ? (\n+          <div className=\"text-center py-16\">\n+            <h1 style={{\n+              fontSize: \"1.5em\",\n+              fontWeight: \"bold\",\n+              marginBottom: \"20px\",\n+              color: \"#000000\",\n+              textTransform: \"uppercase\",\n+              borderBottom: \"2px solid #000000\",\n+              display: \"inline-block\",\n+              paddingBottom: \"5px\"\n+            }}>\n+              SHOPPING BAG\n+            </h1>\n+            <p style={{ \n+              fontSize: \"1em\", \n+              color: \"#000000\", \n+              marginTop: \"20px\",\n+              marginBottom: \"20px\" \n+            }}>\n+              Bạn không có sản phẩm nào trong shopping bag cả.\n+            </p>\n+            <button\n+              onClick={() => router.push('/products')}\n+              style={{\n+                backgroundColor: \"#000000\",\n+                color: \"#FFFFFF\",\n+                padding: \"10px 20px\",\n+                border: \"none\",\n+                cursor: \"pointer\",\n+                fontSize: \"0.9em\"\n+              }}\n+            >\n+              Khám phá sản phẩm\n+            </button>\n+          </div>\n+        ) : (\n+          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n+            <motion.div\n+              initial={{ opacity: 0, y: 20 }}\n+              animate={{ opacity: 1, y: 0 }}\n+              transition={{ duration: 0.5 }}\n+              className=\"lg:col-span-7\"\n+            >\n+              <div className=\"mb-6\">\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  YOUR SELECTIONS\n+                </h2>\n+              </div>\n+              {cartItems.map((item) => (\n+                <div key={item.cartItemId || `${item.id}-${item.size}`}>\n+                  <motion.div\n+                    initial={{ opacity: 0, y: 10 }}\n+                    animate={{ opacity: 1, y: 0 }}\n+                    transition={{ duration: 0.3 }}\n+                    className={`flex items-start mb-8 pb-12`}\n                   >\n-                    -\n-                  </button>\n-                  <span style={styles.quantity}>{item.quantity}</span>\n-                  <button\n-                    onClick={() => handleQuantityChange(item, item.quantity + 1)}\n-                    style={styles.quantityButton}\n-                  >\n-                    +\n-                  </button>\n-                </div>\n-                <div style={{ display: \"flex\", gap: \"10px\" }}>\n-                  <button\n-                    onClick={() => handleEdit(item)}\n-                    style={{\n-                      padding: \"8px 16px\",\n-                      backgroundColor: \"#000\",\n-                      color: \"white\",\n-                      border: \"none\",\n-                      borderRadius: \"4px\",\n-                      cursor: \"pointer\",\n-                    }}\n-                  >\n-                    Sửa\n-                  </button>\n-                  <button\n-                    onClick={() => handleDelete(item)}\n-                    style={styles.removeButton}\n-                  >\n-                    Xóa\n-                  </button>\n-                </div>\n-              </div>\n-            ))}\n-          </motion.div>\n-\n-          <motion.div\n-            initial={{ opacity: 0, y: 20 }}\n-            animate={{ opacity: 1, y: 0 }}\n-            transition={{ duration: 0.5, delay: 0.2 }}\n-            className=\"lg:col-span-3\"\n-          >\n-            <div className=\"bg-white p-6 rounded-lg shadow-md sticky top-4\">\n-              <h2 style={{\n-                fontSize: \"1em\",\n-                fontWeight: \"bold\",\n-                marginBottom: \"15px\",\n-                color: \"#000000\",\n-                textAlign: \"left\",\n-                borderBottom: \"1px solid #000000\",\n-                paddingBottom: \"10px\"\n-              }}>\n-                ORDER SUMMARY\n-              </h2>\n-              <div className=\"space-y-4\">\n-                {cart.map((item) => (\n-                  <div key={item.id} style={{\n-                    display: \"flex\",\n-                    gap: \"15px\",\n-                    marginBottom: \"20px\",\n-                    color: \"#000000\",\n-                  }}>\n-                    <img \n-                      src={item.image} \n-                      alt={item.name} \n-                      style={{\n-                        width: \"80px\",\n-                        height: \"80px\",\n-                        objectFit: \"cover\",\n-                      }}\n+                    <img\n+                      src={item.image}\n+                      alt={item.name}\n+                      className=\"w-40 h-40 object-cover mr-6 rounded\"\n                     />\n-                    <div style={{\n-                      color: \"#000000\",\n-                      flex: 1,\n-                    }}>\n+                    <div className=\"flex-1 flex flex-col\">\n+                      <div className=\"flex justify-between items-start\">\n+                        <p style={{ \n+                          fontSize: \"0.9em\",\n+                          fontWeight: \"bold\",\n+                          color: \"#000000\",\n+                          marginBottom: \"6px\"\n+                        }}>{item.name}</p>\n+                        <p style={{ \n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                          fontWeight: \"bold\"\n+                        }}>\n+                          {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n+                        </p>\n+                      </div>\n                       <p style={{ \n-                        fontWeight: \"bold\", \n-                        marginBottom: \"6px\", \n-                        fontSize: \"0.9em\" \n-                      }}>\n-                        {item.name}\n-                      </p>\n-                      <div style={{\n-                        display: \"flex\",\n-                        justifyContent: \"space-between\",\n-                        marginBottom: \"4px\",\n                         fontSize: \"0.7em\",\n                         color: \"#000000\",\n+                        marginBottom: \"4px\"\n                       }}>\n-                        <span>Số lượng:</span>\n-                        <span>{item.quantity}</span>\n-                      </div>\n-                      <div style={{\n-                        display: \"flex\",\n-                        justifyContent: \"space-between\",\n-                        marginBottom: \"4px\",\n+                        Màu: {item.color || \"Đen\"}\n+                      </p>\n+                      <p style={{ \n                         fontSize: \"0.7em\",\n                         color: \"#000000\",\n+                        marginBottom: \"4px\"\n                       }}>\n-                        <span>Màu:</span>\n-                        <span>{item.color || \"Đen\"}</span>\n-                      </div>\n-                      <div style={{\n-                        display: \"flex\",\n-                        justifyContent: \"space-between\",\n-                        marginBottom: \"4px\",\n+                        Size: {item.size || \"M\"}\n+                      </p>\n+                      <p style={{ \n                         fontSize: \"0.7em\",\n+                        fontWeight: \"bold\",\n                         color: \"#000000\",\n+                        marginBottom: \"4px\"\n                       }}>\n-                        <span>Size:</span>\n-                        <span>{item.size || \"Unknown\"}</span>\n-                      </div>\n-                      <div style={{\n-                        display: \"flex\",\n-                        justifyContent: \"space-between\",\n-                        marginBottom: \"4px\",\n+                        {item.status || \"ORDER\"}\n+                      </p>\n+                      <p style={{ \n                         fontSize: \"0.7em\",\n                         color: \"#000000\",\n+                        marginBottom: \"4px\"\n                       }}>\n-                        <span>Thời gian:</span>\n-                        <span>{item.shippingInfo || \"Dự kiến 5 ngày\"}</span>\n+                        {item.shippingInfo || \"Dự kiến 5 ngày\"}\n+                      </p>\n+                      <div className=\"flex items-center mt-4 space-x-2\">\n+                        <button\n+                          onClick={() => handleQuantityChange(item, item.quantity - 1)}\n+                          style={{\n+                            width: \"24px\",\n+                            height: \"24px\",\n+                            display: \"flex\",\n+                            justifyContent: \"center\",\n+                            alignItems: \"center\",\n+                            border: \"1px solid #000000\",\n+                            color: \"#000000\",\n+                            fontSize: \"0.7em\",\n+                            backgroundColor: \"transparent\",\n+                            cursor: \"pointer\"\n+                          }}\n+                          disabled={item.quantity <= 1}\n+                        >\n+                          −\n+                        </button>\n+                        <span style={{\n+                          width: \"24px\",\n+                          textAlign: \"center\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                          border: \"1px solid #000000\",\n+                          padding: \"2px 0\"\n+                        }}>\n+                          {item.quantity}\n+                        </span>\n+                        <button\n+                          onClick={() => handleQuantityChange(item, item.quantity + 1)}\n+                          style={{\n+                            width: \"24px\",\n+                            height: \"24px\",\n+                            display: \"flex\",\n+                            justifyContent: \"center\",\n+                            alignItems: \"center\",\n+                            border: \"1px solid #000000\",\n+                            color: \"#000000\",\n+                            fontSize: \"0.7em\",\n+                            backgroundColor: \"transparent\",\n+                            cursor: \"pointer\"\n+                          }}\n+                          disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n+                        >\n+                          +\n+                        </button>\n+                        <span style={{ \n+                          fontSize: \"0.7em\", \n+                          color: \"#000000\",\n+                          marginLeft: \"8px\"\n+                        }}>\n+                          (Còn {item.currentStock || item.stock?.[item.size] || 0} sản phẩm)\n+                        </span>\n                       </div>\n+                      <div className=\"flex space-x-4 mt-4 items-center\">\n+                        <button\n+                          onClick={() => handleEdit(item)}\n+                          style={{\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            textDecoration: \"underline\",\n+                            backgroundColor: \"transparent\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                            fontWeight: \"bold\"\n+                          }}\n+                        >\n+                          EDIT\n+                        </button>\n+                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n+                        <button\n+                          onClick={() => handleDelete(item)}\n+                          style={{\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            textDecoration: \"underline\",\n+                            backgroundColor: \"transparent\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                            fontWeight: \"bold\"\n+                          }}\n+                          onMouseOver={(e) => e.target.style.color = \"#dc2626\"}\n+                          onMouseOut={(e) => e.target.style.color = \"#000000\"}\n+                        >\n+                          REMOVE\n+                        </button>\n+                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n+                        <button\n+                          onClick={() => handleSaveItem(item)}\n+                          style={{\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            textDecoration: \"underline\",\n+                            backgroundColor: \"transparent\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                            display: \"flex\",\n+                            alignItems: \"center\",\n+                            fontWeight: \"bold\"\n+                          }}\n+                        >\n+                          SAVED ITEM\n+                          <svg\n+                            className={`w-4 h-4 ml-2 ${savedItems.some(savedItem => savedItem.id === item.id) ? \"fill-black\" : \"fill-gray-400\"}`}\n+                            viewBox=\"0 0 24 24\"\n+                          >\n+                            <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\n+                          </svg>\n+                        </button>\n+                      </div>\n+                    </div>\n+                  </motion.div>\n+                  {item !== cartItems[cartItems.length - 1] && (\n+                    <hr className=\"w-full border-gray-300 border-1 mb-8\" />\n+                  )}\n+                </div>\n+              ))}\n+            </motion.div>\n+\n+            <motion.div\n+              initial={{ opacity: 0, y: 20 }}\n+              animate={{ opacity: 1, y: 0 }}\n+              transition={{ duration: 0.5, delay: 0.2 }}\n+              className=\"lg:col-span-3\"\n+            >\n+              <div className=\"bg-white p-6 rounded-lg shadow-md sticky top-4\">\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  ORDER SUMMARY\n+                </h2>\n+                <div className=\"space-y-4\">\n+                  {cartItems.map((item) => (\n+                    <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n+                      display: \"flex\",\n+                      gap: \"15px\",\n+                      marginBottom: \"20px\",\n+                      color: \"#000000\",\n+                    }}>\n+                      <img \n+                        src={item.image} \n+                        alt={item.name} \n+                        style={{\n+                          width: \"80px\",\n+                          height: \"80px\",\n+                          objectFit: \"cover\",\n+                        }}\n+                      />\n                       <div style={{\n-                        display: \"flex\",\n-                        justifyContent: \"space-between\",\n-                        marginBottom: \"4px\",\n-                        fontSize: \"0.7em\",\n                         color: \"#000000\",\n+                        flex: 1,\n                       }}>\n-                        <span>Giá:</span>\n-                        <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n+                        <p style={{ \n+                          fontWeight: \"bold\", \n+                          marginBottom: \"6px\", \n+                          fontSize: \"0.9em\" \n+                        }}>\n+                          {item.name}\n+                        </p>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                          <span>Số lượng:</span>\n+                          <span>{item.quantity}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                          <span>Màu:</span>\n+                          <span>{item.color || \"Đen\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                          <span>Size:</span>\n+                          <span>{item.size || \"Unknown\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                          <span>Thời gian:</span>\n+                          <span>{item.shippingInfo || \"Dự kiến 5 ngày\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                          <span>Giá:</span>\n+                          <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n+                        </div>\n                       </div>\n                     </div>\n+                  ))}\n+                  \n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                  }}>\n+                    <span>Tổng phụ</span>\n+                    <span>{(cartItems.reduce((total, item) => total + item.price * item.quantity, 0)).toLocaleString('vi-VN')} VND</span>\n                   </div>\n-                ))}\n-                \n-                <div style={{\n-                  display: \"flex\",\n-                  justifyContent: \"space-between\",\n-                  marginBottom: \"8px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#000000\",\n-                }}>\n-                  <span>Tổng phụ</span>\n-                  <span>{(cart.reduce((total, item) => total + item.price * item.quantity, 0)).toLocaleString('vi-VN')} VND</span>\n-                </div>\n-                <div style={{\n-                  display: \"flex\",\n-                  justifyContent: \"space-between\",\n-                  marginBottom: \"8px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#000000\",\n-                }}>\n-                  <span>Vận chuyển</span>\n-                  <span>Miễn phí (Express)</span>\n-                </div>\n-                {isPromoApplied && (\n                   <div style={{\n                     display: \"flex\",\n                     justifyContent: \"space-between\",\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                    <span>Giảm giá</span>\n-                    <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n+                    <span>Vận chuyển</span>\n+                    <span>Miễn phí (Express)</span>\n                   </div>\n-                )}\n-                <div style={{\n-                  display: \"flex\",\n-                  justifyContent: \"space-between\",\n-                  marginBottom: \"8px\",\n-                  fontSize: \"0.7em\",\n-                  fontWeight: \"bold\",\n-                  color: \"#000000\",\n-                }}>\n-                  <span>Tổng cộng</span>\n-                  <span>{calculateTotal()}</span>\n-                </div>\n-              </div>\n-              <div style={{ \n-                borderTop: \"1px solid #000000\", \n-                paddingTop: \"10px\",\n-                marginTop: \"20px\"\n-              }}>\n-                <div style={{\n-                  display: \"flex\",\n-                  gap: \"10px\",\n-                  marginBottom: \"15px\",\n-                }}>\n-                  <input\n-                    type=\"text\"\n-                    value={promoCode}\n-                    onChange={(e) => setPromoCode(e.target.value)}\n-                    placeholder=\"Enter promo code\"\n-                    style={{\n-                      flex: 1,\n-                      padding: \"8px\",\n+                  {isPromoApplied && (\n+                    <div style={{\n+                      display: \"flex\",\n+                      justifyContent: \"space-between\",\n+                      marginBottom: \"8px\",\n                       fontSize: \"0.7em\",\n-                      border: \"1px solid #000000\",\n                       color: \"#000000\",\n-                    }}\n-                  />\n-                  <button\n-                    onClick={handleApplyPromoCode}\n-                    style={{\n-                      padding: \"8px 15px\",\n-                      fontSize: \"0.7em\",\n-                      backgroundColor: \"#000000\",\n-                      color: \"#ffffff\",\n-                      border: \"none\",\n-                      cursor: \"pointer\",\n-                    }}\n-                  >\n-                    Apply\n-                  </button>\n-                </div>\n-                {promoMessage && (\n-                  <p style={{\n+                    }}>\n+                      <span>Giảm giá</span>\n+                      <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n+                    </div>\n+                  )}\n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n-                    color: isPromoApplied ? \"#059669\" : \"#dc2626\",\n-                    marginBottom: \"10px\"\n+                    fontWeight: \"bold\",\n+                    color: \"#000000\",\n                   }}>\n-                    {promoMessage}\n-                  </p>\n-                )}\n+                    <span>Tổng cộng</span>\n+                    <span>{calculateTotal()}</span>\n+                  </div>\n+                </div>\n                 <div style={{ \n                   borderTop: \"1px solid #000000\", \n-                  borderBottom: \"1px solid #000000\", \n-                  paddingTop: \"10px\", \n-                  paddingBottom: \"10px\",\n+                  paddingTop: \"10px\",\n                   marginTop: \"20px\"\n                 }}>\n-                  <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n-                  <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>+61 1300492212</p>\n-                  <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>clientservice.au@gucci.com</p>\n+                  <div style={{\n+                    display: \"flex\",\n+                    gap: \"10px\",\n+                    marginBottom: \"15px\",\n+                  }}>\n+                    <input\n+                      type=\"text\"\n+                      value={promoCode}\n+                      onChange={(e) => setPromoCode(e.target.value)}\n+                      placeholder=\"Enter promo code\"\n+                      style={{\n+                        flex: 1,\n+                        padding: \"8px\",\n+                        fontSize: \"0.7em\",\n+                        border: \"1px solid #000000\",\n+                        color: \"#000000\",\n+                      }}\n+                    />\n+                    <button\n+                      onClick={handleApplyPromoCode}\n+                      style={{\n+                        padding: \"8px 15px\",\n+                        fontSize: \"0.7em\",\n+                        backgroundColor: \"#000000\",\n+                        color: \"#ffffff\",\n+                        border: \"none\",\n+                        cursor: \"pointer\",\n+                      }}\n+                    >\n+                      Apply\n+                    </button>\n+                  </div>\n+                  {promoMessage && (\n+                    <p style={{\n+                      fontSize: \"0.7em\",\n+                      color: isPromoApplied ? \"#059669\" : \"#dc2626\",\n+                      marginBottom: \"10px\"\n+                    }}>\n+                      {promoMessage}\n+                    </p>\n+                  )}\n+                  <div style={{ \n+                    borderTop: \"1px solid #000000\", \n+                    borderBottom: \"1px solid #000000\", \n+                    paddingTop: \"10px\", \n+                    paddingBottom: \"10px\",\n+                    marginTop: \"20px\"\n+                  }}>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>+61 1300492212</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>clientservice.au@gucci.com</p>\n+                  </div>\n                 </div>\n+                <button\n+                  onClick={handleCheckout}\n+                  className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n+                >\n+                  CHECK OUT\n+                </button>\n               </div>\n-              <button\n-                onClick={handleCheckout}\n-                className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n-              >\n-                CHECK OUT\n-              </button>\n-            </div>\n-          </motion.div>\n-        </div>\n+            </motion.div>\n+          </div>\n+        )}\n       </div>\n \n       {showEditModal && editingItem && (\n         <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n"
                },
                {
                    "date": 1746893890003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,9 @@\n   const [showDeleteModal, setShowDeleteModal] = useState(false);\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n+  const [cartItems, setCartItems] = useState([]);\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -160,8 +161,15 @@\n \n     fetchProductStock();\n   }, [editingItem]);\n \n+  useEffect(() => {\n+    if (typeof window !== \"undefined\") {\n+      const stored = localStorage.getItem(\"cartItems\");\n+      if (stored) setCartItems(JSON.parse(stored));\n+    }\n+  }, []);\n+\n   const handleApplyPromoCode = async () => {\n     try {\n       const response = await fetch(\"/api/admin/notifications\");\n       const data = await response.json();\n"
                },
                {
                    "date": 1746893941121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,8 @@\n   const [showDeleteModal, setShowDeleteModal] = useState(false);\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n-  const [cartItems, setCartItems] = useState([]);\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -161,15 +160,8 @@\n \n     fetchProductStock();\n   }, [editingItem]);\n \n-  useEffect(() => {\n-    if (typeof window !== \"undefined\") {\n-      const stored = localStorage.getItem(\"cartItems\");\n-      if (stored) setCartItems(JSON.parse(stored));\n-    }\n-  }, []);\n-\n   const handleApplyPromoCode = async () => {\n     try {\n       const response = await fetch(\"/api/admin/notifications\");\n       const data = await response.json();\n"
                },
                {
                    "date": 1746894014909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,9 @@\n   const [showDeleteModal, setShowDeleteModal] = useState(false);\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n+  const [isMounted, setIsMounted] = useState(false);\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -160,8 +161,14 @@\n \n     fetchProductStock();\n   }, [editingItem]);\n \n+  useEffect(() => {\n+    setIsMounted(true);\n+  }, []);\n+\n+  if (!isMounted) return null;\n+\n   const handleApplyPromoCode = async () => {\n     try {\n       const response = await fetch(\"/api/admin/notifications\");\n       const data = await response.json();\n"
                },
                {
                    "date": 1746900565166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -168,8 +168,18 @@\n \n   if (!isMounted) return null;\n \n   const handleApplyPromoCode = async () => {\n+    // Reset states khi người dùng nhập mã mới\n+    setPromoMessage(\"\");\n+    setPromoAmount(0);\n+    setIsPromoApplied(false);\n+\n+    if (!promoCode.trim()) {\n+      setPromoMessage(\"Vui lòng nhập mã giảm giá\");\n+      return;\n+    }\n+\n     try {\n       const response = await fetch(\"/api/admin/notifications\");\n       const data = await response.json();\n       \n@@ -184,11 +194,21 @@\n       }\n     } catch (error) {\n       console.error(\"Error applying promo code:\", error);\n       setPromoMessage(\"Có lỗi xảy ra khi áp dụng mã giảm giá\");\n+      setPromoAmount(0);\n+      setIsPromoApplied(false);\n     }\n   };\n \n+  // Thêm hàm reset mã giảm giá\n+  const handleResetPromoCode = () => {\n+    setPromoCode(\"\");\n+    setPromoMessage(\"\");\n+    setPromoAmount(0);\n+    setIsPromoApplied(false);\n+  };\n+\n   const handleCheckout = () => {\n     if (cartItems.length === 0) {\n       alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n       return;\n@@ -602,9 +622,15 @@\n                   }}>\n                     <input\n                       type=\"text\"\n                       value={promoCode}\n-                      onChange={(e) => setPromoCode(e.target.value)}\n+                      onChange={(e) => {\n+                        setPromoCode(e.target.value);\n+                        // Reset message khi người dùng bắt đầu nhập lại\n+                        if (promoMessage) {\n+                          setPromoMessage(\"\");\n+                        }\n+                      }}\n                       placeholder=\"Enter promo code\"\n                       style={{\n                         flex: 1,\n                         padding: \"8px\",\n@@ -625,8 +651,23 @@\n                       }}\n                     >\n                       Apply\n                     </button>\n+                    {isPromoApplied && (\n+                      <button\n+                        onClick={handleResetPromoCode}\n+                        style={{\n+                          padding: \"8px 15px\",\n+                          fontSize: \"0.7em\",\n+                          backgroundColor: \"#dc2626\",\n+                          color: \"#ffffff\",\n+                          border: \"none\",\n+                          cursor: \"pointer\",\n+                        }}\n+                      >\n+                        Reset\n+                      </button>\n+                    )}\n                   </div>\n                   {promoMessage && (\n                     <p style={{\n                       fontSize: \"0.7em\",\n"
                },
                {
                    "date": 1746900629534,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,14 +182,27 @@\n     try {\n       const response = await fetch(\"/api/admin/notifications\");\n       const data = await response.json();\n       \n-      if (data.ok && data.isPromoActive && data.promoCode === promoCode) {\n+      // Debug log\n+      console.log(\"API Response:\", data);\n+      console.log(\"Promo Code Input:\", promoCode);\n+      console.log(\"Is Promo Active:\", data.isPromoActive);\n+      console.log(\"Promo Code from API:\", data.promoCode);\n+      \n+      // Kiểm tra chính xác hơn\n+      if (data.ok && data.isPromoActive && data.promoCode && data.promoCode.toLowerCase() === promoCode.toLowerCase()) {\n         setPromoAmount(data.promoAmount);\n         setIsPromoApplied(true);\n         setPromoMessage(`Mã giảm giá ${data.promoAmount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n       } else {\n-        setPromoMessage(\"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n+        let errorMessage = \"Mã giảm giá không hợp lệ\";\n+        if (!data.isPromoActive) {\n+          errorMessage = \"Mã giảm giá đã hết hạn\";\n+        } else if (data.promoCode && data.promoCode.toLowerCase() !== promoCode.toLowerCase()) {\n+          errorMessage = \"Mã giảm giá không đúng\";\n+        }\n+        setPromoMessage(errorMessage);\n         setPromoAmount(0);\n         setIsPromoApplied(false);\n       }\n     } catch (error) {\n"
                },
                {
                    "date": 1746900708298,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -185,24 +185,26 @@\n       \n       // Debug log\n       console.log(\"API Response:\", data);\n       console.log(\"Promo Code Input:\", promoCode);\n-      console.log(\"Is Promo Active:\", data.isPromoActive);\n-      console.log(\"Promo Code from API:\", data.promoCode);\n       \n-      // Kiểm tra chính xác hơn\n-      if (data.ok && data.isPromoActive && data.promoCode && data.promoCode.toLowerCase() === promoCode.toLowerCase()) {\n-        setPromoAmount(data.promoAmount);\n-        setIsPromoApplied(true);\n-        setPromoMessage(`Mã giảm giá ${data.promoAmount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n+      if (data.ok && data.promoCodes) {\n+        // Tìm mã giảm giá trong mảng promoCodes\n+        const foundPromo = data.promoCodes.find(\n+          promo => promo.code.toLowerCase() === promoCode.toLowerCase() && promo.isActive\n+        );\n+        \n+        if (foundPromo) {\n+          setPromoAmount(foundPromo.amount);\n+          setIsPromoApplied(true);\n+          setPromoMessage(`Mã giảm giá ${foundPromo.amount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n+        } else {\n+          setPromoMessage(\"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n+          setPromoAmount(0);\n+          setIsPromoApplied(false);\n+        }\n       } else {\n-        let errorMessage = \"Mã giảm giá không hợp lệ\";\n-        if (!data.isPromoActive) {\n-          errorMessage = \"Mã giảm giá đã hết hạn\";\n-        } else if (data.promoCode && data.promoCode.toLowerCase() !== promoCode.toLowerCase()) {\n-          errorMessage = \"Mã giảm giá không đúng\";\n-        }\n-        setPromoMessage(errorMessage);\n+        setPromoMessage(\"Không thể kiểm tra mã giảm giá\");\n         setPromoAmount(0);\n         setIsPromoApplied(false);\n       }\n     } catch (error) {\n"
                },
                {
                    "date": 1746901064736,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -587,18 +587,8 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                    <span>Tổng phụ</span>\n-                    <span>{(cartItems.reduce((total, item) => total + item.price * item.quantity, 0)).toLocaleString('vi-VN')} VND</span>\n-                  </div>\n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#000000\",\n-                  }}>\n                     <span>Vận chuyển</span>\n                     <span>Miễn phí (Express)</span>\n                   </div>\n                   {isPromoApplied && (\n"
                },
                {
                    "date": 1746901157099,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,9 +474,9 @@\n                       </div>\n                     </div>\n                   </motion.div>\n                   {item !== cartItems[cartItems.length - 1] && (\n-                    <hr className=\"w-full border-gray-300 border-1 mb-8\" />\n+                    <hr className=\"w-full border-black border-[0.5px] mb-8\" />\n                   )}\n                 </div>\n               ))}\n             </motion.div>\n"
                },
                {
                    "date": 1746901210855,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,9 +474,9 @@\n                       </div>\n                     </div>\n                   </motion.div>\n                   {item !== cartItems[cartItems.length - 1] && (\n-                    <hr className=\"w-full border-black border-[0.5px] mb-8\" />\n+                    <hr className=\"w-full border-black border-[0.1px] mb-8\" />\n                   )}\n                 </div>\n               ))}\n             </motion.div>\n"
                },
                {
                    "date": 1746901234061,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,9 +474,9 @@\n                       </div>\n                     </div>\n                   </motion.div>\n                   {item !== cartItems[cartItems.length - 1] && (\n-                    <hr className=\"w-full border-black border-[0.1px] mb-8\" />\n+                    <hr className=\"w-full border-black border-[0.01px] mb-8\" />\n                   )}\n                 </div>\n               ))}\n             </motion.div>\n"
                },
                {
                    "date": 1746901248881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,9 +474,9 @@\n                       </div>\n                     </div>\n                   </motion.div>\n                   {item !== cartItems[cartItems.length - 1] && (\n-                    <hr className=\"w-full border-black border-[0.01px] mb-8\" />\n+                    <hr className=\"w-full border-black border-[0.1px] mb-8\" />\n                   )}\n                 </div>\n               ))}\n             </motion.div>\n"
                },
                {
                    "date": 1746901279734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,9 +474,9 @@\n                       </div>\n                     </div>\n                   </motion.div>\n                   {item !== cartItems[cartItems.length - 1] && (\n-                    <hr className=\"w-full border-black border-[0.1px] mb-8\" />\n+                    <hr className=\"w-full border-black border-[0.05px] mb-8\" />\n                   )}\n                 </div>\n               ))}\n             </motion.div>\n"
                },
                {
                    "date": 1746901309854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,9 +474,9 @@\n                       </div>\n                     </div>\n                   </motion.div>\n                   {item !== cartItems[cartItems.length - 1] && (\n-                    <hr className=\"w-full border-black border-[0.05px] mb-8\" />\n+                    <hr className=\"w-full border-black border-[0.00005px] mb-8\" />\n                   )}\n                 </div>\n               ))}\n             </motion.div>\n"
                },
                {
                    "date": 1746901324593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,9 +474,9 @@\n                       </div>\n                     </div>\n                   </motion.div>\n                   {item !== cartItems[cartItems.length - 1] && (\n-                    <hr className=\"w-full border-black border-[0.00005px] mb-8\" />\n+                    <hr className=\"w-full border-black border-[0.5px] mb-8\" />\n                   )}\n                 </div>\n               ))}\n             </motion.div>\n"
                },
                {
                    "date": 1746901357708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,9 +474,9 @@\n                       </div>\n                     </div>\n                   </motion.div>\n                   {item !== cartItems[cartItems.length - 1] && (\n-                    <hr className=\"w-full border-black border-[0.5px] mb-8\" />\n+                    <hr className=\"w-full border-black border-[1px] mb-8\" />\n                   )}\n                 </div>\n               ))}\n             </motion.div>\n"
                },
                {
                    "date": 1746901418314,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,9 +474,9 @@\n                       </div>\n                     </div>\n                   </motion.div>\n                   {item !== cartItems[cartItems.length - 1] && (\n-                    <hr className=\"w-full border-black border-[1px] mb-8\" />\n+                    <hr style={{ width: \"100%\", borderBottom: \"1px solid #000000\", marginBottom: \"32px\" }} />\n                   )}\n                 </div>\n               ))}\n             </motion.div>\n"
                },
                {
                    "date": 1746901475450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,12 +31,9 @@\n       }, 0);\n \n     const finalTotal = subtotal - (isPromoApplied ? promoAmount : 0);\n     \n-    return finalTotal.toLocaleString('vi-VN', {\n-      style: 'currency',\n-      currency: 'VND'\n-    });\n+    return finalTotal.toLocaleString('vi-VN') + \" VND\";\n   };\n \n   const handleQuantityChange = (item, newQuantity) => {\n     const stockQuantity = item.currentStock || item.stock?.[item.size] || 0;\n"
                },
                {
                    "date": 1746903476193,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -228,8 +228,474 @@\n     router.push(\"/checkout\");\n   };\n \n   return (\n+    <div style={{\n+      minHeight: \"100vh\",\n+      backgroundColor: \"#FFFFFF\",\n+      padding: \"20px\",\n+    }}>\n+      <div style={{\n+        maxWidth: \"1200px\",\n+        margin: \"0 auto\",\n+        backgroundColor: \"#FFFFFF\",\n+      }}>\n+        <motion.div\n+          initial={{ opacity: 0 }}\n+          animate={{ opacity: 1 }}\n+          transition={{ duration: 0.5 }}\n+          className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n+          style={{\n+            backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n+          }}\n+        >\n+          <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n+        </motion.div>\n+\n+        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n+          {cartItems.length === 0 ? (\n+            <div className=\"text-center py-16\">\n+              <h1 style={{\n+                fontSize: \"1.5em\",\n+                fontWeight: \"bold\",\n+                marginBottom: \"20px\",\n+                color: \"#000000\",\n+                textTransform: \"uppercase\",\n+                borderBottom: \"2px solid #000000\",\n+                display: \"inline-block\",\n+                paddingBottom: \"5px\"\n+              }}>\n+                SHOPPING BAG\n+              </h1>\n+              <p style={{ \n+                fontSize: \"1em\", \n+                color: \"#000000\", \n+                marginTop: \"20px\",\n+                marginBottom: \"20px\" \n+              }}>\n+                Bạn không có sản phẩm nào trong shopping bag cả.\n+              </p>\n+              <button\n+                onClick={() => router.push('/products')}\n+                style={{\n+                  backgroundColor: \"#000000\",\n+                  color: \"#FFFFFF\",\n+                  padding: \"10px 20px\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  fontSize: \"0.9em\"\n+                }}\n+              >\n+                Khám phá sản phẩm\n+              </button>\n+            </div>\n+          ) : (\n+            <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n+              <motion.div\n+                initial={{ opacity: 0, y: 20 }}\n+                animate={{ opacity: 1, y: 0 }}\n+                transition={{ duration: 0.5 }}\n+                className=\"lg:col-span-7\"\n+              >\n+                <div className=\"mb-6\">\n+                  <h2 style={{\n+                    fontSize: \"1em\",\n+                    fontWeight: \"bold\",\n+                    marginBottom: \"15px\",\n+                    color: \"#000000\",\n+                    textAlign: \"left\",\n+                    borderBottom: \"1px solid #000000\",\n+                    paddingBottom: \"10px\"\n+                  }}>\n+                    YOUR SELECTIONS\n+                  </h2>\n+                </div>\n+                {cartItems.map((item) => (\n+                  <div key={item.cartItemId || `${item.id}-${item.size}`}>\n+                    <motion.div\n+                      initial={{ opacity: 0, y: 10 }}\n+                      animate={{ opacity: 1, y: 0 }}\n+                      transition={{ duration: 0.3 }}\n+                      className={`flex items-start mb-8 pb-12`}\n+                    >\n+                      <img\n+                        src={item.image}\n+                        alt={item.name}\n+                        className=\"w-40 h-40 object-cover mr-6 rounded\"\n+                      />\n+                      <div className=\"flex-1 flex flex-col\">\n+                        <div className=\"flex justify-between items-start\">\n+                          <p style={{ \n+                            fontSize: \"0.9em\",\n+                            fontWeight: \"bold\",\n+                            color: \"#000000\",\n+                            marginBottom: \"6px\"\n+                          }}>{item.name}</p>\n+                          <p style={{ \n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            fontWeight: \"bold\"\n+                          }}>\n+                            {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n+                          </p>\n+                        </div>\n+                        <p style={{ \n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                          marginBottom: \"4px\"\n+                        }}>\n+                          Màu: {item.color || \"Đen\"}\n+                        </p>\n+                        <p style={{ \n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                          marginBottom: \"4px\"\n+                        }}>\n+                          Size: {item.size || \"M\"}\n+                        </p>\n+                        <p style={{ \n+                          fontSize: \"0.7em\",\n+                          fontWeight: \"bold\",\n+                          color: \"#000000\",\n+                          marginBottom: \"4px\"\n+                        }}>\n+                          {item.status || \"ORDER\"}\n+                        </p>\n+                        <p style={{ \n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                          marginBottom: \"4px\"\n+                        }}>\n+                          {item.shippingInfo || \"Dự kiến 5 ngày\"}\n+                        </p>\n+                        <div className=\"flex items-center mt-4 space-x-2\">\n+                          <button\n+                            onClick={() => handleQuantityChange(item, item.quantity - 1)}\n+                            style={{\n+                              width: \"24px\",\n+                              height: \"24px\",\n+                              display: \"flex\",\n+                              justifyContent: \"center\",\n+                              alignItems: \"center\",\n+                              border: \"1px solid #000000\",\n+                              color: \"#000000\",\n+                              fontSize: \"0.7em\",\n+                              backgroundColor: \"transparent\",\n+                              cursor: \"pointer\"\n+                            }}\n+                            disabled={item.quantity <= 1}\n+                          >\n+                            −\n+                          </button>\n+                          <span style={{\n+                            width: \"24px\",\n+                            textAlign: \"center\",\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            border: \"1px solid #000000\",\n+                            padding: \"2px 0\"\n+                          }}>\n+                            {item.quantity}\n+                          </span>\n+                          <button\n+                            onClick={() => handleQuantityChange(item, item.quantity + 1)}\n+                            style={{\n+                              width: \"24px\",\n+                              height: \"24px\",\n+                              display: \"flex\",\n+                              justifyContent: \"center\",\n+                              alignItems: \"center\",\n+                              border: \"1px solid #000000\",\n+                              color: \"#000000\",\n+                              fontSize: \"0.7em\",\n+                              backgroundColor: \"transparent\",\n+                              cursor: \"pointer\"\n+                            }}\n+                            disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n+                          >\n+                            +\n+                          </button>\n+                          <span style={{ \n+                            fontSize: \"0.7em\", \n+                            color: \"#000000\",\n+                            marginLeft: \"8px\"\n+                          }}>\n+                            (Còn {item.currentStock || item.stock?.[item.size] || 0} sản phẩm)\n+                          </span>\n+                        </div>\n+                        <div className=\"flex space-x-4 mt-4 items-center\">\n+                          <button\n+                            onClick={() => handleEdit(item)}\n+                            style={{\n+                              fontSize: \"0.7em\",\n+                              color: \"#000000\",\n+                              textDecoration: \"underline\",\n+                              backgroundColor: \"transparent\",\n+                              border: \"none\",\n+                              cursor: \"pointer\",\n+                              fontWeight: \"bold\"\n+                            }}\n+                          >\n+                            EDIT\n+                          </button>\n+                          <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n+                          <button\n+                            onClick={() => handleDelete(item)}\n+                            style={{\n+                              fontSize: \"0.7em\",\n+                              color: \"#000000\",\n+                              textDecoration: \"underline\",\n+                              backgroundColor: \"transparent\",\n+                              border: \"none\",\n+                              cursor: \"pointer\",\n+                              fontWeight: \"bold\"\n+                            }}\n+                            onMouseOver={(e) => e.target.style.color = \"#dc2626\"}\n+                            onMouseOut={(e) => e.target.style.color = \"#000000\"}\n+                          >\n+                            REMOVE\n+                          </button>\n+                          <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n+                          <button\n+                            onClick={() => handleSaveItem(item)}\n+                            style={{\n+                              fontSize: \"0.7em\",\n+                              color: \"#000000\",\n+                              textDecoration: \"underline\",\n+                              backgroundColor: \"transparent\",\n+                              border: \"none\",\n+                              cursor: \"pointer\",\n+                              display: \"flex\",\n+                              alignItems: \"center\",\n+                              fontWeight: \"bold\"\n+                            }}\n+                          >\n+                            SAVED ITEM\n+                            <svg\n+                              className={`w-4 h-4 ml-2 ${savedItems.some(savedItem => savedItem.id === item.id) ? \"fill-black\" : \"fill-gray-400\"}`}\n+                              viewBox=\"0 0 24 24\"\n+                            >\n+                              <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\n+                            </svg>\n+                          </button>\n+                        </div>\n+                      </div>\n+                    </motion.div>\n+                    {item !== cartItems[cartItems.length - 1] && (\n+                      <hr style={{ width: \"100%\", borderBottom: \"1px solid #000000\", marginBottom: \"32px\" }} />\n+                    )}\n+                  </div>\n+                ))}\n+              </motion.div>\n+\n+              <motion.div\n+                initial={{ opacity: 0, y: 20 }}\n+                animate={{ opacity: 1, y: 0 }}\n+                transition={{ duration: 0.5, delay: 0.2 }}\n+                className=\"lg:col-span-3\"\n+              >\n+                <div className=\"bg-white p-6 rounded-lg shadow-md sticky top-4\">\n+                  <h2 style={{\n+                    fontSize: \"1em\",\n+                    fontWeight: \"bold\",\n+                    marginBottom: \"15px\",\n+                    color: \"#000000\",\n+                    textAlign: \"left\",\n+                    borderBottom: \"1px solid #000000\",\n+                    paddingBottom: \"10px\"\n+                  }}>\n+                    ORDER SUMMARY\n+                  </h2>\n+                  <div className=\"space-y-4\">\n+                    {cartItems.map((item) => (\n+                      <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n+                        display: \"flex\",\n+                        gap: \"15px\",\n+                        marginBottom: \"20px\",\n+                        color: \"#000000\",\n+                      }}>\n+                        <img \n+                          src={item.image} \n+                          alt={item.name} \n+                          style={{\n+                            width: \"80px\",\n+                            height: \"80px\",\n+                            objectFit: \"cover\",\n+                          }}\n+                        />\n+                        <div style={{\n+                          color: \"#000000\",\n+                          flex: 1,\n+                        }}>\n+                          <p style={{ \n+                            fontWeight: \"bold\", \n+                            marginBottom: \"6px\", \n+                            fontSize: \"0.9em\" \n+                          }}>\n+                            {item.name}\n+                          </p>\n+                          <div style={{\n+                            display: \"flex\",\n+                            justifyContent: \"space-between\",\n+                            marginBottom: \"4px\",\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                          }}>\n+                            <span>Số lượng:</span>\n+                            <span>{item.quantity}</span>\n+                          </div>\n+                          <div style={{\n+                            display: \"flex\",\n+                            justifyContent: \"space-between\",\n+                            marginBottom: \"4px\",\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                          }}>\n+                            <span>Màu:</span>\n+                            <span>{item.color || \"Đen\"}</span>\n+                          </div>\n+                          <div style={{\n+                            display: \"flex\",\n+                            justifyContent: \"space-between\",\n+                            marginBottom: \"4px\",\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                          }}>\n+                            <span>Size:</span>\n+                            <span>{item.size || \"Unknown\"}</span>\n+                          </div>\n+                          <div style={{\n+                            display: \"flex\",\n+                            justifyContent: \"space-between\",\n+                            marginBottom: \"4px\",\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                          }}>\n+                            <span>Thời gian:</span>\n+                            <span>{item.shippingInfo || \"Dự kiến 5 ngày\"}</span>\n+                          </div>\n+                          <div style={{\n+                            display: \"flex\",\n+                            justifyContent: \"space-between\",\n+                            marginBottom: \"4px\",\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                          }}>\n+                            <span>Giá:</span>\n+                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n+                          </div>\n+                        </div>\n+                      </div>\n+                    ))}\n+                    \n+                    <div style={{\n+                      display: \"flex\",\n+                      justifyContent: \"space-between\",\n+                      marginBottom: \"8px\",\n+                      fontSize: \"0.7em\",\n+                      color: \"#000000\",\n+                    }}>\n+                      <span>Vận chuyển</span>\n+                      <span>Miễn phí (Express)</span>\n+                    </div>\n+                    {isPromoApplied && (\n+                      <div style={{\n+                        display: \"flex\",\n+                        justifyContent: \"space-between\",\n+                        marginBottom: \"8px\",\n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                      }}>\n+                        <span>Giảm giá</span>\n+                        <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n+                      </div>\n+                    )}\n+                    <div style={{\n+                      display: \"flex\",\n+                      justifyContent: \"space-between\",\n+                      marginBottom: \"8px\",\n+                      fontSize: \"0.7em\",\n+                      fontWeight: \"bold\",\n+                      color: \"#000000\",\n+                    }}>\n+                      <span>Tổng cộng</span>\n+                      <span>{calculateTotal()}</span>\n+                    </div>\n+                  </div>\n+                  <div style={{ \n+                    borderTop: \"1px solid #000000\", \n+                    paddingTop: \"10px\",\n+                    marginTop: \"20px\"\n+                  }}>\n+                    <div style={{\n+                      display: \"flex\",\n+                      gap: \"10px\",\n+                      marginBottom: \"15px\",\n+                    }}>\n+                      <input\n+                        type=\"text\"\n+                        value={promoCode}\n+                        onChange={(e) => {\n+                          setPromoCode(e.target.value);\n+                          // Reset message khi người dùng bắt đầu nhập lại\n+                          if (promoMessage) {\n+                            setPromoMessage(\"\");\n+                          }\n+                        }}\n+                        placeholder=\"Enter promo code\"\n+                        style={{\n+                          flex: 1,\n+                          padding: \"8px\",\n+                          fontSize: \"0.7em\",\n+                          border: \"1px solid #000000\",\n+                          color: \"#000000\",\n+                        }}\n+                      />\n+                      <button\n+                        onClick={handleApplyPromoCode}\n+                        style={{\n+                          padding: \"8px 15px\",\n+                          fontSize: \"0.7em\",\n+                          backgroundColor: \"#000000\",\n+                          color: \"#ffffff\",\n+                          border: \"none\",\n+                          cursor: \"pointer\",\n+                        }}\n+                      >\n+                        Apply\n+                      </button>\n+                      {isPromoApplied && (\n+                        <button\n+                          onClick={handleResetPromoCode}\n+                          style={{\n+                            padding: \"8px 15px\",\n+                            fontSize: \"0.7em\",\n+                            backgroundColor: \"#dc2626\",\n+                            color: \"#ffffff\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                          }}\n+                        >\n+                          Reset\n+                        </button>\n+                      )}\n+                    </div>\n+                    {promoMessage && (\n+                      <p style={{\n+                        fontSize: \"0.7em\",\n+                        color: isPromoApplied ? \"#059669\" : \"#dc2626\",\n+                        marginBottom: \"10px\"\n+                      }}>\n+                        {promoMessage}\n+                      </p>\n+                    )}\n+                    <div style={{ \n+                      borderTop: \"1px solid #000000\", \n+                      borderBottom: \"1px solid #000000\", \n+                      paddingTop: \"10px\", \n+                      paddingBottom: \"10px\",\n+                      marginTop: \"20px\"\n+                    }}>\n     <div className=\"bg-gray-100\">\n       <motion.div\n         initial={{ opacity: 0 }}\n         animate={{ opacity: 1 }}\n"
                },
                {
                    "date": 1746903495445,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -694,702 +694,246 @@\n                       paddingTop: \"10px\", \n                       paddingBottom: \"10px\",\n                       marginTop: \"20px\"\n                     }}>\n-    <div className=\"bg-gray-100\">\n-      <motion.div\n-        initial={{ opacity: 0 }}\n-        animate={{ opacity: 1 }}\n-        transition={{ duration: 0.5 }}\n-        className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n-        style={{\n-          backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n-        }}\n-      >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n-      </motion.div>\n+                      <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                      <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>+61 1300492212</p>\n+                      <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>clientservice.au@gucci.com</p>\n+                    </div>\n+                  </div>\n+                  <button\n+                    onClick={handleCheckout}\n+                    className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n+                  >\n+                    CHECK OUT\n+                  </button>\n+                </div>\n+              </motion.div>\n+            </div>\n+          )}\n+        </div>\n \n-      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n-        {cartItems.length === 0 ? (\n-          <div className=\"text-center py-16\">\n-            <h1 style={{\n-              fontSize: \"1.5em\",\n-              fontWeight: \"bold\",\n-              marginBottom: \"20px\",\n-              color: \"#000000\",\n-              textTransform: \"uppercase\",\n-              borderBottom: \"2px solid #000000\",\n-              display: \"inline-block\",\n-              paddingBottom: \"5px\"\n-            }}>\n-              SHOPPING BAG\n-            </h1>\n-            <p style={{ \n-              fontSize: \"1em\", \n-              color: \"#000000\", \n-              marginTop: \"20px\",\n-              marginBottom: \"20px\" \n-            }}>\n-              Bạn không có sản phẩm nào trong shopping bag cả.\n-            </p>\n-            <button\n-              onClick={() => router.push('/products')}\n-              style={{\n-                backgroundColor: \"#000000\",\n-                color: \"#FFFFFF\",\n-                padding: \"10px 20px\",\n-                border: \"none\",\n-                cursor: \"pointer\",\n-                fontSize: \"0.9em\"\n-              }}\n-            >\n-              Khám phá sản phẩm\n-            </button>\n-          </div>\n-        ) : (\n-          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n+        {showEditModal && editingItem && (\n+          <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n             <motion.div\n               initial={{ opacity: 0, y: 20 }}\n               animate={{ opacity: 1, y: 0 }}\n-              transition={{ duration: 0.5 }}\n-              className=\"lg:col-span-7\"\n+              className=\"bg-white/80 w-11/12 max-w-2xl relative\"\n             >\n-              <div className=\"mb-6\">\n-                <h2 style={{\n-                  fontSize: \"1em\",\n-                  fontWeight: \"bold\",\n-                  marginBottom: \"15px\",\n-                  color: \"#000000\",\n-                  textAlign: \"left\",\n-                  borderBottom: \"1px solid #000000\",\n-                  paddingBottom: \"10px\"\n-                }}>\n-                  YOUR SELECTIONS\n-                </h2>\n+              <button\n+                onClick={handleCancelEdit}\n+                className=\"absolute top-4 right-4 text-black\"\n+              >\n+                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                  <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                  <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                </svg>\n+              </button>\n+              <div className=\"text-center py-4\">\n+                <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n+                <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n+                <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>AU$ {editingItem.price?.toFixed(2) || \"450.00\"}</p>\n               </div>\n-              {cartItems.map((item) => (\n-                <div key={item.cartItemId || `${item.id}-${item.size}`}>\n-                  <motion.div\n-                    initial={{ opacity: 0, y: 10 }}\n-                    animate={{ opacity: 1, y: 0 }}\n-                    transition={{ duration: 0.3 }}\n-                    className={`flex items-start mb-8 pb-12`}\n-                  >\n-                    <img\n-                      src={item.image}\n-                      alt={item.name}\n-                      className=\"w-40 h-40 object-cover mr-6 rounded\"\n-                    />\n-                    <div className=\"flex-1 flex flex-col\">\n-                      <div className=\"flex justify-between items-start\">\n-                        <p style={{ \n-                          fontSize: \"0.9em\",\n-                          fontWeight: \"bold\",\n-                          color: \"#000000\",\n-                          marginBottom: \"6px\"\n-                        }}>{item.name}</p>\n-                        <p style={{ \n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                          fontWeight: \"bold\"\n-                        }}>\n-                          {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n-                        </p>\n-                      </div>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                        Màu: {item.color || \"Đen\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                        Size: {item.size || \"M\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        fontWeight: \"bold\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                        {item.status || \"ORDER\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                        {item.shippingInfo || \"Dự kiến 5 ngày\"}\n-                      </p>\n-                      <div className=\"flex items-center mt-4 space-x-2\">\n-                        <button\n-                          onClick={() => handleQuantityChange(item, item.quantity - 1)}\n-                          style={{\n-                            width: \"24px\",\n-                            height: \"24px\",\n-                            display: \"flex\",\n-                            justifyContent: \"center\",\n-                            alignItems: \"center\",\n-                            border: \"1px solid #000000\",\n-                            color: \"#000000\",\n-                            fontSize: \"0.7em\",\n-                            backgroundColor: \"transparent\",\n-                            cursor: \"pointer\"\n-                          }}\n-                          disabled={item.quantity <= 1}\n-                        >\n-                          −\n-                        </button>\n-                        <span style={{\n-                          width: \"24px\",\n-                          textAlign: \"center\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                          border: \"1px solid #000000\",\n-                          padding: \"2px 0\"\n-                        }}>\n-                          {item.quantity}\n-                        </span>\n-                        <button\n-                          onClick={() => handleQuantityChange(item, item.quantity + 1)}\n-                          style={{\n-                            width: \"24px\",\n-                            height: \"24px\",\n-                            display: \"flex\",\n-                            justifyContent: \"center\",\n-                            alignItems: \"center\",\n-                            border: \"1px solid #000000\",\n-                            color: \"#000000\",\n-                            fontSize: \"0.7em\",\n-                            backgroundColor: \"transparent\",\n-                            cursor: \"pointer\"\n-                          }}\n-                          disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n-                        >\n-                          +\n-                        </button>\n-                        <span style={{ \n-                          fontSize: \"0.7em\", \n-                          color: \"#000000\",\n-                          marginLeft: \"8px\"\n-                        }}>\n-                          (Còn {item.currentStock || item.stock?.[item.size] || 0} sản phẩm)\n-                        </span>\n-                      </div>\n-                      <div className=\"flex space-x-4 mt-4 items-center\">\n-                        <button\n-                          onClick={() => handleEdit(item)}\n-                          style={{\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            textDecoration: \"underline\",\n-                            backgroundColor: \"transparent\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                            fontWeight: \"bold\"\n-                          }}\n-                        >\n-                          EDIT\n-                        </button>\n-                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n-                        <button\n-                          onClick={() => handleDelete(item)}\n-                          style={{\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            textDecoration: \"underline\",\n-                            backgroundColor: \"transparent\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                            fontWeight: \"bold\"\n-                          }}\n-                          onMouseOver={(e) => e.target.style.color = \"#dc2626\"}\n-                          onMouseOut={(e) => e.target.style.color = \"#000000\"}\n-                        >\n-                          REMOVE\n-                        </button>\n-                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n-                        <button\n-                          onClick={() => handleSaveItem(item)}\n-                          style={{\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            textDecoration: \"underline\",\n-                            backgroundColor: \"transparent\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                            display: \"flex\",\n-                            alignItems: \"center\",\n-                            fontWeight: \"bold\"\n-                          }}\n-                        >\n-                          SAVED ITEM\n-                          <svg\n-                            className={`w-4 h-4 ml-2 ${savedItems.some(savedItem => savedItem.id === item.id) ? \"fill-black\" : \"fill-gray-400\"}`}\n-                            viewBox=\"0 0 24 24\"\n-                          >\n-                            <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\n-                          </svg>\n-                        </button>\n-                      </div>\n-                    </div>\n-                  </motion.div>\n-                  {item !== cartItems[cartItems.length - 1] && (\n-                    <hr style={{ width: \"100%\", borderBottom: \"1px solid #000000\", marginBottom: \"32px\" }} />\n-                  )}\n+              <div className=\"flex flex-col md:flex-row border-t border-gray-200\">\n+                <div className=\"md:w-1/2 p-6 flex flex-col items-center justify-center border-r border-gray-200\">\n+                  <img\n+                    src={editingItem.image}\n+                    alt={editingItem.name}\n+                    style={{\n+                      width: \"160px\",\n+                      height: \"160px\",\n+                      objectFit: \"cover\",\n+                      marginBottom: \"16px\"\n+                    }}\n+                  />\n+                  <div style={{ textAlign: \"center\" }}>\n+                    <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Màu: {editingItem.color || \"Đen\"}</p>\n+                    <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>Size: {editingItem.size || \"M\"}</p>\n+                  </div>\n                 </div>\n-              ))}\n-            </motion.div>\n-\n-            <motion.div\n-              initial={{ opacity: 0, y: 20 }}\n-              animate={{ opacity: 1, y: 0 }}\n-              transition={{ duration: 0.5, delay: 0.2 }}\n-              className=\"lg:col-span-3\"\n-            >\n-              <div className=\"bg-white p-6 rounded-lg shadow-md sticky top-4\">\n-                <h2 style={{\n-                  fontSize: \"1em\",\n-                  fontWeight: \"bold\",\n-                  marginBottom: \"15px\",\n-                  color: \"#000000\",\n-                  textAlign: \"left\",\n-                  borderBottom: \"1px solid #000000\",\n-                  paddingBottom: \"10px\"\n-                }}>\n-                  ORDER SUMMARY\n-                </h2>\n-                <div className=\"space-y-4\">\n-                  {cartItems.map((item) => (\n-                    <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n-                      display: \"flex\",\n-                      gap: \"15px\",\n-                      marginBottom: \"20px\",\n-                      color: \"#000000\",\n+                <div className=\"md:w-1/2 p-6\">\n+                  <div className=\"mb-6\">\n+                    <label style={{ \n+                      display: \"block\", \n+                      marginBottom: \"8px\", \n+                      fontSize: \"0.7em\", \n+                      color: \"#000000\", \n+                      textTransform: \"uppercase\", \n+                      letterSpacing: \"0.1em\" \n                     }}>\n-                      <img \n-                        src={item.image} \n-                        alt={item.name} \n+                      SIZE\n+                    </label>\n+                    <div className=\"relative\">\n+                      <select\n+                        value={selectedSize}\n+                        onChange={handleSizeChange}\n                         style={{\n-                          width: \"80px\",\n-                          height: \"80px\",\n-                          objectFit: \"cover\",\n-                        }}\n-                      />\n-                      <div style={{\n-                        color: \"#000000\",\n-                        flex: 1,\n-                      }}>\n-                        <p style={{ \n-                          fontWeight: \"bold\", \n-                          marginBottom: \"6px\", \n-                          fontSize: \"0.9em\" \n-                        }}>\n-                          {item.name}\n-                        </p>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n+                          width: \"100%\",\n+                          padding: \"8px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n-                        }}>\n-                          <span>Số lượng:</span>\n-                          <span>{item.quantity}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                          <span>Màu:</span>\n-                          <span>{item.color || \"Đen\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                          <span>Size:</span>\n-                          <span>{item.size || \"Unknown\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                          <span>Thời gian:</span>\n-                          <span>{item.shippingInfo || \"Dự kiến 5 ngày\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                          <span>Giá:</span>\n-                          <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n-                        </div>\n+                          border: \"1px solid #000000\",\n+                          appearance: \"none\",\n+                          background: \"white\",\n+                          cursor: \"pointer\"\n+                        }}\n+                      >\n+                        {sizes.map((size) => {\n+                          const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n+                          const isDisabled = sizeQuantity === 0;\n+                          return (\n+                            <option \n+                              key={size} \n+                              value={size}\n+                              disabled={isDisabled}\n+                              style={{\n+                                color: isDisabled ? \"#999\" : \"#000\",\n+                                backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n+                              }}\n+                            >\n+                              {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n+                            </option>\n+                          );\n+                        })}\n+                      </select>\n+                      <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n+                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                          <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                        </svg>\n                       </div>\n                     </div>\n-                  ))}\n-                  \n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#000000\",\n-                  }}>\n-                    <span>Vận chuyển</span>\n-                    <span>Miễn phí (Express)</span>\n                   </div>\n-                  {isPromoApplied && (\n-                    <div style={{\n-                      display: \"flex\",\n-                      justifyContent: \"space-between\",\n-                      marginBottom: \"8px\",\n-                      fontSize: \"0.7em\",\n-                      color: \"#000000\",\n-                    }}>\n-                      <span>Giảm giá</span>\n-                      <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n-                    </div>\n-                  )}\n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    fontWeight: \"bold\",\n-                    color: \"#000000\",\n-                  }}>\n-                    <span>Tổng cộng</span>\n-                    <span>{calculateTotal()}</span>\n-                  </div>\n                 </div>\n-                <div style={{ \n-                  borderTop: \"1px solid #000000\", \n-                  paddingTop: \"10px\",\n-                  marginTop: \"20px\"\n-                }}>\n-                  <div style={{\n-                    display: \"flex\",\n-                    gap: \"10px\",\n-                    marginBottom: \"15px\",\n-                  }}>\n-                    <input\n-                      type=\"text\"\n-                      value={promoCode}\n-                      onChange={(e) => {\n-                        setPromoCode(e.target.value);\n-                        // Reset message khi người dùng bắt đầu nhập lại\n-                        if (promoMessage) {\n-                          setPromoMessage(\"\");\n-                        }\n-                      }}\n-                      placeholder=\"Enter promo code\"\n-                      style={{\n-                        flex: 1,\n-                        padding: \"8px\",\n-                        fontSize: \"0.7em\",\n-                        border: \"1px solid #000000\",\n-                        color: \"#000000\",\n-                      }}\n-                    />\n-                    <button\n-                      onClick={handleApplyPromoCode}\n-                      style={{\n-                        padding: \"8px 15px\",\n-                        fontSize: \"0.7em\",\n-                        backgroundColor: \"#000000\",\n-                        color: \"#ffffff\",\n-                        border: \"none\",\n-                        cursor: \"pointer\",\n-                      }}\n-                    >\n-                      Apply\n-                    </button>\n-                    {isPromoApplied && (\n-                      <button\n-                        onClick={handleResetPromoCode}\n-                        style={{\n-                          padding: \"8px 15px\",\n-                          fontSize: \"0.7em\",\n-                          backgroundColor: \"#dc2626\",\n-                          color: \"#ffffff\",\n-                          border: \"none\",\n-                          cursor: \"pointer\",\n-                        }}\n-                      >\n-                        Reset\n-                      </button>\n-                    )}\n-                  </div>\n-                  {promoMessage && (\n-                    <p style={{\n-                      fontSize: \"0.7em\",\n-                      color: isPromoApplied ? \"#059669\" : \"#dc2626\",\n-                      marginBottom: \"10px\"\n-                    }}>\n-                      {promoMessage}\n-                    </p>\n-                  )}\n-                  <div style={{ \n-                    borderTop: \"1px solid #000000\", \n-                    borderBottom: \"1px solid #000000\", \n-                    paddingTop: \"10px\", \n-                    paddingBottom: \"10px\",\n-                    marginTop: \"20px\"\n-                  }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n-                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>+61 1300492212</p>\n-                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>clientservice.au@gucci.com</p>\n-                  </div>\n-                </div>\n+              </div>\n+              <div className=\"border-t border-gray-200\">\n                 <button\n-                  onClick={handleCheckout}\n-                  className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n+                  onClick={handleSaveChanges}\n+                  style={{\n+                    width: \"100%\",\n+                    padding: \"12px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#ffffff\",\n+                    backgroundColor: \"#000000\",\n+                    border: \"none\",\n+                    cursor: \"pointer\",\n+                    textTransform: \"uppercase\",\n+                    letterSpacing: \"0.1em\"\n+                  }}\n                 >\n-                  CHECK OUT\n+                  Save Changes\n                 </button>\n+                <button\n+                  onClick={handleCancelEdit}\n+                  style={{\n+                    width: \"100%\",\n+                    padding: \"12px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                    backgroundColor: \"transparent\",\n+                    border: \"none\",\n+                    cursor: \"pointer\",\n+                    textTransform: \"uppercase\",\n+                    letterSpacing: \"0.1em\"\n+                  }}\n+                >\n+                  Cancel\n+                </button>\n               </div>\n             </motion.div>\n           </div>\n         )}\n-      </div>\n \n-      {showEditModal && editingItem && (\n-        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n-          <motion.div\n-            initial={{ opacity: 0, y: 20 }}\n-            animate={{ opacity: 1, y: 0 }}\n-            className=\"bg-white/80 w-11/12 max-w-2xl relative\"\n-          >\n-            <button\n-              onClick={handleCancelEdit}\n-              className=\"absolute top-4 right-4 text-black\"\n+        {showDeleteModal && itemToDelete && (\n+          <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n+            <motion.div\n+              initial={{ opacity: 0, y: 20 }}\n+              animate={{ opacity: 1, y: 0 }}\n+              className=\"bg-white/80 w-11/12 max-w-md relative\"\n             >\n-              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-              </svg>\n-            </button>\n-            <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n-              <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>AU$ {editingItem.price?.toFixed(2) || \"450.00\"}</p>\n-            </div>\n-            <div className=\"flex flex-col md:flex-row border-t border-gray-200\">\n-              <div className=\"md:w-1/2 p-6 flex flex-col items-center justify-center border-r border-gray-200\">\n-                <img\n-                  src={editingItem.image}\n-                  alt={editingItem.name}\n-                  style={{\n-                    width: \"160px\",\n-                    height: \"160px\",\n-                    objectFit: \"cover\",\n-                    marginBottom: \"16px\"\n-                  }}\n-                />\n-                <div style={{ textAlign: \"center\" }}>\n-                  <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Màu: {editingItem.color || \"Đen\"}</p>\n-                  <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>Size: {editingItem.size || \"M\"}</p>\n-                </div>\n-              </div>\n-              <div className=\"md:w-1/2 p-6\">\n-                <div className=\"mb-6\">\n-                  <label style={{ \n-                    display: \"block\", \n-                    marginBottom: \"8px\", \n-                    fontSize: \"0.7em\", \n-                    color: \"#000000\", \n-                    textTransform: \"uppercase\", \n-                    letterSpacing: \"0.1em\" \n-                  }}>\n-                    SIZE\n-                  </label>\n-                  <div className=\"relative\">\n-                    <select\n-                      value={selectedSize}\n-                      onChange={handleSizeChange}\n-                      style={{\n-                        width: \"100%\",\n-                        padding: \"8px\",\n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        border: \"1px solid #000000\",\n-                        appearance: \"none\",\n-                        background: \"white\",\n-                        cursor: \"pointer\"\n-                      }}\n-                    >\n-                      {sizes.map((size) => {\n-                        const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n-                        const isDisabled = sizeQuantity === 0;\n-                        return (\n-                          <option \n-                            key={size} \n-                            value={size}\n-                            disabled={isDisabled}\n-                            style={{\n-                              color: isDisabled ? \"#999\" : \"#000\",\n-                              backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n-                            }}\n-                          >\n-                            {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n-                          </option>\n-                        );\n-                      })}\n-                    </select>\n-                    <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n-                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                        <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                      </svg>\n-                    </div>\n-                  </div>\n-                </div>\n-              </div>\n-            </div>\n-            <div className=\"border-t border-gray-200\">\n               <button\n-                onClick={handleSaveChanges}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#ffffff\",\n-                  backgroundColor: \"#000000\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Save Changes\n-              </button>\n-              <button\n-                onClick={handleCancelEdit}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#000000\",\n-                  backgroundColor: \"transparent\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Cancel\n-              </button>\n-            </div>\n-          </motion.div>\n-        </div>\n-      )}\n-\n-      {showDeleteModal && itemToDelete && (\n-        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n-          <motion.div\n-            initial={{ opacity: 0, y: 20 }}\n-            animate={{ opacity: 1, y: 0 }}\n-            className=\"bg-white/80 w-11/12 max-w-md relative\"\n-          >\n-            <button\n-              onClick={() => setShowDeleteModal(false)}\n-              className=\"absolute top-4 right-4 text-black\"\n-            >\n-              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-              </svg>\n-            </button>\n-            <div className=\"text-center py-8\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                CONFIRM REMOVAL\n-              </p>\n-              <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                Are you sure you want to remove this item?\n-              </p>\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                {itemToDelete.name}\n-              </p>\n-            </div>\n-            <div className=\"border-t border-gray-200\">\n-              <button\n-                onClick={confirmDelete}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#ffffff\",\n-                  backgroundColor: \"#000000\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Confirm\n-              </button>\n-              <button\n                 onClick={() => setShowDeleteModal(false)}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#000000\",\n-                  backgroundColor: \"transparent\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n+                className=\"absolute top-4 right-4 text-black\"\n               >\n-                Cancel\n+                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                  <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                  <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                </svg>\n               </button>\n-            </div>\n-          </motion.div>\n-        </div>\n-      )}\n+              <div className=\"text-center py-8\">\n+                <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n+                  CONFIRM REMOVAL\n+                </p>\n+                <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n+                  Are you sure you want to remove this item?\n+                </p>\n+                <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n+                  {itemToDelete.name}\n+                </p>\n+              </div>\n+              <div className=\"border-t border-gray-200\">\n+                <button\n+                  onClick={confirmDelete}\n+                  style={{\n+                    width: \"100%\",\n+                    padding: \"12px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#ffffff\",\n+                    backgroundColor: \"#000000\",\n+                    border: \"none\",\n+                    cursor: \"pointer\",\n+                    textTransform: \"uppercase\",\n+                    letterSpacing: \"0.1em\"\n+                  }}\n+                >\n+                  Confirm\n+                </button>\n+                <button\n+                  onClick={() => setShowDeleteModal(false)}\n+                  style={{\n+                    width: \"100%\",\n+                    padding: \"12px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                    backgroundColor: \"transparent\",\n+                    border: \"none\",\n+                    cursor: \"pointer\",\n+                    textTransform: \"uppercase\",\n+                    letterSpacing: \"0.1em\"\n+                  }}\n+                >\n+                  Cancel\n+                </button>\n+              </div>\n+            </motion.div>\n+          </div>\n+        )}\n \n-      <style jsx>{`\n-        .underline-btn {\n-          position: relative;\n-          text-decoration: none;\n-          transition: color 0.3s ease;\n-        }\n-        .underline-btn::after {\n-          content: \"\";\n-          position: absolute;\n-          width: 0;\n-          height: 1px;\n-          bottom: -1px;\n-          left: 0;\n-          background-color: currentColor;\n-          transition: width 0.3s ease;\n-        }\n-        .underline-btn:hover::after {\n-          width: 100%;\n-        }\n-        .underline-btn:hover {\n-          color: #000;\n-        }\n-        .underline-btn.remove:hover {\n-          color: #dc2626;\n-        }\n-      `}</style>\n+        <style jsx>{`\n+          .underline-btn {\n+            position: relative;\n+            text-decoration: none;\n+            transition: color 0.3s ease;\n+          }\n+          .underline-btn::after {\n+            content: \"\";\n+            position: absolute;\n+            width: 0;\n+            height: 1px;\n+            bottom: -1px;\n+            left: 0;\n+            background-color: currentColor;\n+            transition: width 0.3s ease;\n+          }\n+          .underline-btn:hover::after {\n+            width: 100%;\n+          }\n+          .underline-btn:hover {\n+            color: #000;\n+          }\n+          .underline-btn.remove:hover {\n+            color: #dc2626;\n+          }\n+        `}</style>\n+      </div>\n     </div>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1746903506890,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -228,13 +228,9 @@\n     router.push(\"/checkout\");\n   };\n \n   return (\n-    <div style={{\n-      minHeight: \"100vh\",\n-      backgroundColor: \"#FFFFFF\",\n-      padding: \"20px\",\n-    }}>\n+    <div className=\"bg-white\">\n       <div style={{\n         maxWidth: \"1200px\",\n         margin: \"0 auto\",\n         backgroundColor: \"#FFFFFF\",\n"
                },
                {
                    "date": 1746903582589,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -488,9 +488,13 @@\n                 animate={{ opacity: 1, y: 0 }}\n                 transition={{ duration: 0.5, delay: 0.2 }}\n                 className=\"lg:col-span-3\"\n               >\n-                <div className=\"bg-white p-6 rounded-lg shadow-md sticky top-4\">\n+                <div className=\"bg-white p-6 rounded-lg sticky top-4\" style={{\n+                  boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n+                  border: \"1px solid #e5e7eb\",\n+                  borderRadius: \"8px\",\n+                }}>\n                   <h2 style={{\n                     fontSize: \"1em\",\n                     fontWeight: \"bold\",\n                     marginBottom: \"15px\",\n"
                },
                {
                    "date": 1746903652735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -625,70 +625,8 @@\n                     borderTop: \"1px solid #000000\", \n                     paddingTop: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <div style={{\n-                      display: \"flex\",\n-                      gap: \"10px\",\n-                      marginBottom: \"15px\",\n-                    }}>\n-                      <input\n-                        type=\"text\"\n-                        value={promoCode}\n-                        onChange={(e) => {\n-                          setPromoCode(e.target.value);\n-                          // Reset message khi người dùng bắt đầu nhập lại\n-                          if (promoMessage) {\n-                            setPromoMessage(\"\");\n-                          }\n-                        }}\n-                        placeholder=\"Enter promo code\"\n-                        style={{\n-                          flex: 1,\n-                          padding: \"8px\",\n-                          fontSize: \"0.7em\",\n-                          border: \"1px solid #000000\",\n-                          color: \"#000000\",\n-                        }}\n-                      />\n-                      <button\n-                        onClick={handleApplyPromoCode}\n-                        style={{\n-                          padding: \"8px 15px\",\n-                          fontSize: \"0.7em\",\n-                          backgroundColor: \"#000000\",\n-                          color: \"#ffffff\",\n-                          border: \"none\",\n-                          cursor: \"pointer\",\n-                        }}\n-                      >\n-                        Apply\n-                      </button>\n-                      {isPromoApplied && (\n-                        <button\n-                          onClick={handleResetPromoCode}\n-                          style={{\n-                            padding: \"8px 15px\",\n-                            fontSize: \"0.7em\",\n-                            backgroundColor: \"#dc2626\",\n-                            color: \"#ffffff\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                          }}\n-                        >\n-                          Reset\n-                        </button>\n-                      )}\n-                    </div>\n-                    {promoMessage && (\n-                      <p style={{\n-                        fontSize: \"0.7em\",\n-                        color: isPromoApplied ? \"#059669\" : \"#dc2626\",\n-                        marginBottom: \"10px\"\n-                      }}>\n-                        {promoMessage}\n-                      </p>\n-                    )}\n                     <div style={{ \n                       borderTop: \"1px solid #000000\", \n                       borderBottom: \"1px solid #000000\", \n                       paddingTop: \"10px\", \n"
                },
                {
                    "date": 1746903712176,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -627,9 +627,8 @@\n                     marginTop: \"20px\"\n                   }}>\n                     <div style={{ \n                       borderTop: \"1px solid #000000\", \n-                      borderBottom: \"1px solid #000000\", \n                       paddingTop: \"10px\", \n                       paddingBottom: \"10px\",\n                       marginTop: \"20px\"\n                     }}>\n"
                },
                {
                    "date": 1746903733888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -627,8 +627,9 @@\n                     marginTop: \"20px\"\n                   }}>\n                     <div style={{ \n                       borderTop: \"1px solid #000000\", \n+                      borderBottom: \"1px solid #000000\", \n                       paddingTop: \"10px\", \n                       paddingBottom: \"10px\",\n                       marginTop: \"20px\"\n                     }}>\n"
                },
                {
                    "date": 1746903760747,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -621,9 +621,8 @@\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{ \n-                    borderTop: \"1px solid #000000\", \n                     paddingTop: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n                     <div style={{ \n"
                },
                {
                    "date": 1747040998436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,487 +234,487 @@\n         maxWidth: \"1200px\",\n         margin: \"0 auto\",\n         backgroundColor: \"#FFFFFF\",\n       }}>\n-        <motion.div\n-          initial={{ opacity: 0 }}\n-          animate={{ opacity: 1 }}\n-          transition={{ duration: 0.5 }}\n-          className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n-          style={{\n-            backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n-          }}\n-        >\n-          <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n-        </motion.div>\n+      <motion.div\n+        initial={{ opacity: 0 }}\n+        animate={{ opacity: 1 }}\n+        transition={{ duration: 0.5 }}\n+        className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n+        style={{\n+          backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n+        }}\n+      >\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n+      </motion.div>\n \n-        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n-          {cartItems.length === 0 ? (\n-            <div className=\"text-center py-16\">\n-              <h1 style={{\n-                fontSize: \"1.5em\",\n-                fontWeight: \"bold\",\n-                marginBottom: \"20px\",\n-                color: \"#000000\",\n-                textTransform: \"uppercase\",\n-                borderBottom: \"2px solid #000000\",\n-                display: \"inline-block\",\n-                paddingBottom: \"5px\"\n-              }}>\n-                SHOPPING BAG\n-              </h1>\n-              <p style={{ \n-                fontSize: \"1em\", \n-                color: \"#000000\", \n-                marginTop: \"20px\",\n-                marginBottom: \"20px\" \n-              }}>\n-                Bạn không có sản phẩm nào trong shopping bag cả.\n-              </p>\n-              <button\n-                onClick={() => router.push('/products')}\n-                style={{\n-                  backgroundColor: \"#000000\",\n-                  color: \"#FFFFFF\",\n-                  padding: \"10px 20px\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  fontSize: \"0.9em\"\n-                }}\n-              >\n-                Khám phá sản phẩm\n-              </button>\n-            </div>\n-          ) : (\n-            <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n-              <motion.div\n-                initial={{ opacity: 0, y: 20 }}\n-                animate={{ opacity: 1, y: 0 }}\n-                transition={{ duration: 0.5 }}\n-                className=\"lg:col-span-7\"\n-              >\n-                <div className=\"mb-6\">\n-                  <h2 style={{\n-                    fontSize: \"1em\",\n-                    fontWeight: \"bold\",\n-                    marginBottom: \"15px\",\n-                    color: \"#000000\",\n-                    textAlign: \"left\",\n-                    borderBottom: \"1px solid #000000\",\n-                    paddingBottom: \"10px\"\n-                  }}>\n-                    YOUR SELECTIONS\n-                  </h2>\n-                </div>\n-                {cartItems.map((item) => (\n-                  <div key={item.cartItemId || `${item.id}-${item.size}`}>\n-                    <motion.div\n-                      initial={{ opacity: 0, y: 10 }}\n-                      animate={{ opacity: 1, y: 0 }}\n-                      transition={{ duration: 0.3 }}\n-                      className={`flex items-start mb-8 pb-12`}\n-                    >\n-                      <img\n-                        src={item.image}\n-                        alt={item.name}\n-                        className=\"w-40 h-40 object-cover mr-6 rounded\"\n-                      />\n-                      <div className=\"flex-1 flex flex-col\">\n-                        <div className=\"flex justify-between items-start\">\n-                          <p style={{ \n-                            fontSize: \"0.9em\",\n-                            fontWeight: \"bold\",\n-                            color: \"#000000\",\n-                            marginBottom: \"6px\"\n-                          }}>{item.name}</p>\n-                          <p style={{ \n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            fontWeight: \"bold\"\n-                          }}>\n-                            {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n-                          </p>\n-                        </div>\n+      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n+        {cartItems.length === 0 ? (\n+          <div className=\"text-center py-16\">\n+            <h1 style={{\n+              fontSize: \"1.5em\",\n+              fontWeight: \"bold\",\n+              marginBottom: \"20px\",\n+              color: \"#000000\",\n+              textTransform: \"uppercase\",\n+              borderBottom: \"2px solid #000000\",\n+              display: \"inline-block\",\n+              paddingBottom: \"5px\"\n+            }}>\n+              SHOPPING BAG\n+            </h1>\n+            <p style={{ \n+              fontSize: \"1em\", \n+              color: \"#000000\", \n+              marginTop: \"20px\",\n+              marginBottom: \"20px\" \n+            }}>\n+              Bạn không có sản phẩm nào trong shopping bag cả.\n+            </p>\n+            <button\n+              onClick={() => router.push('/products')}\n+              style={{\n+                backgroundColor: \"#000000\",\n+                color: \"#FFFFFF\",\n+                padding: \"10px 20px\",\n+                border: \"none\",\n+                cursor: \"pointer\",\n+                fontSize: \"0.9em\"\n+              }}\n+            >\n+              Khám phá sản phẩm\n+            </button>\n+          </div>\n+        ) : (\n+          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n+            <motion.div\n+              initial={{ opacity: 0, y: 20 }}\n+              animate={{ opacity: 1, y: 0 }}\n+              transition={{ duration: 0.5 }}\n+              className=\"lg:col-span-7\"\n+            >\n+              <div className=\"mb-6\">\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  YOUR SELECTIONS\n+                </h2>\n+              </div>\n+              {cartItems.map((item) => (\n+                <div key={item.cartItemId || `${item.id}-${item.size}`}>\n+                  <motion.div\n+                    initial={{ opacity: 0, y: 10 }}\n+                    animate={{ opacity: 1, y: 0 }}\n+                    transition={{ duration: 0.3 }}\n+                    className={`flex items-start mb-8 pb-12`}\n+                  >\n+                    <img\n+                      src={item.image}\n+                      alt={item.name}\n+                      className=\"w-40 h-40 object-cover mr-6 rounded\"\n+                    />\n+                    <div className=\"flex-1 flex flex-col\">\n+                      <div className=\"flex justify-between items-start\">\n                         <p style={{ \n-                          fontSize: \"0.7em\",\n+                          fontSize: \"0.9em\",\n+                          fontWeight: \"bold\",\n                           color: \"#000000\",\n-                          marginBottom: \"4px\"\n-                        }}>\n-                          Màu: {item.color || \"Đen\"}\n-                        </p>\n+                          marginBottom: \"6px\"\n+                        }}>{item.name}</p>\n                         <p style={{ \n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n-                          marginBottom: \"4px\"\n+                          fontWeight: \"bold\"\n                         }}>\n+                            {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n+                        </p>\n+                      </div>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n+                          Màu: {item.color || \"Đen\"}\n+                      </p>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n                           Size: {item.size || \"M\"}\n-                        </p>\n-                        <p style={{ \n-                          fontSize: \"0.7em\",\n-                          fontWeight: \"bold\",\n-                          color: \"#000000\",\n-                          marginBottom: \"4px\"\n-                        }}>\n+                      </p>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        fontWeight: \"bold\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n                           {item.status || \"ORDER\"}\n-                        </p>\n-                        <p style={{ \n+                      </p>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n+                          {item.shippingInfo || \"Dự kiến 5 ngày\"}\n+                      </p>\n+                      <div className=\"flex items-center mt-4 space-x-2\">\n+                        <button\n+                            onClick={() => handleQuantityChange(item, item.quantity - 1)}\n+                          style={{\n+                            width: \"24px\",\n+                            height: \"24px\",\n+                            display: \"flex\",\n+                            justifyContent: \"center\",\n+                            alignItems: \"center\",\n+                            border: \"1px solid #000000\",\n+                            color: \"#000000\",\n+                            fontSize: \"0.7em\",\n+                            backgroundColor: \"transparent\",\n+                            cursor: \"pointer\"\n+                          }}\n+                          disabled={item.quantity <= 1}\n+                        >\n+                          −\n+                        </button>\n+                        <span style={{\n+                          width: \"24px\",\n+                          textAlign: \"center\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n-                          marginBottom: \"4px\"\n+                          border: \"1px solid #000000\",\n+                          padding: \"2px 0\"\n                         }}>\n-                          {item.shippingInfo || \"Dự kiến 5 ngày\"}\n-                        </p>\n-                        <div className=\"flex items-center mt-4 space-x-2\">\n-                          <button\n-                            onClick={() => handleQuantityChange(item, item.quantity - 1)}\n-                            style={{\n-                              width: \"24px\",\n-                              height: \"24px\",\n-                              display: \"flex\",\n-                              justifyContent: \"center\",\n-                              alignItems: \"center\",\n-                              border: \"1px solid #000000\",\n-                              color: \"#000000\",\n-                              fontSize: \"0.7em\",\n-                              backgroundColor: \"transparent\",\n-                              cursor: \"pointer\"\n-                            }}\n-                            disabled={item.quantity <= 1}\n-                          >\n-                            −\n-                          </button>\n-                          <span style={{\n+                          {item.quantity}\n+                        </span>\n+                        <button\n+                            onClick={() => handleQuantityChange(item, item.quantity + 1)}\n+                          style={{\n                             width: \"24px\",\n-                            textAlign: \"center\",\n+                            height: \"24px\",\n+                            display: \"flex\",\n+                            justifyContent: \"center\",\n+                            alignItems: \"center\",\n+                            border: \"1px solid #000000\",\n+                            color: \"#000000\",\n                             fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            border: \"1px solid #000000\",\n-                            padding: \"2px 0\"\n-                          }}>\n-                            {item.quantity}\n-                          </span>\n-                          <button\n-                            onClick={() => handleQuantityChange(item, item.quantity + 1)}\n-                            style={{\n-                              width: \"24px\",\n-                              height: \"24px\",\n-                              display: \"flex\",\n-                              justifyContent: \"center\",\n-                              alignItems: \"center\",\n-                              border: \"1px solid #000000\",\n-                              color: \"#000000\",\n-                              fontSize: \"0.7em\",\n-                              backgroundColor: \"transparent\",\n-                              cursor: \"pointer\"\n-                            }}\n+                            backgroundColor: \"transparent\",\n+                            cursor: \"pointer\"\n+                          }}\n                             disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n-                          >\n-                            +\n-                          </button>\n+                        >\n+                          +\n+                        </button>\n                           <span style={{ \n                             fontSize: \"0.7em\", \n                             color: \"#000000\",\n                             marginLeft: \"8px\"\n                           }}>\n                             (Còn {item.currentStock || item.stock?.[item.size] || 0} sản phẩm)\n                           </span>\n-                        </div>\n-                        <div className=\"flex space-x-4 mt-4 items-center\">\n-                          <button\n-                            onClick={() => handleEdit(item)}\n-                            style={{\n-                              fontSize: \"0.7em\",\n-                              color: \"#000000\",\n-                              textDecoration: \"underline\",\n-                              backgroundColor: \"transparent\",\n-                              border: \"none\",\n-                              cursor: \"pointer\",\n-                              fontWeight: \"bold\"\n-                            }}\n+                      </div>\n+                      <div className=\"flex space-x-4 mt-4 items-center\">\n+                        <button\n+                          onClick={() => handleEdit(item)}\n+                          style={{\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            textDecoration: \"underline\",\n+                            backgroundColor: \"transparent\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                            fontWeight: \"bold\"\n+                          }}\n+                        >\n+                          EDIT\n+                        </button>\n+                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n+                        <button\n+                          onClick={() => handleDelete(item)}\n+                          style={{\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            textDecoration: \"underline\",\n+                            backgroundColor: \"transparent\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                            fontWeight: \"bold\"\n+                          }}\n+                          onMouseOver={(e) => e.target.style.color = \"#dc2626\"}\n+                          onMouseOut={(e) => e.target.style.color = \"#000000\"}\n+                        >\n+                          REMOVE\n+                        </button>\n+                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n+                        <button\n+                          onClick={() => handleSaveItem(item)}\n+                          style={{\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            textDecoration: \"underline\",\n+                            backgroundColor: \"transparent\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                            display: \"flex\",\n+                            alignItems: \"center\",\n+                            fontWeight: \"bold\"\n+                          }}\n+                        >\n+                          SAVED ITEM\n+                          <svg\n+                            className={`w-4 h-4 ml-2 ${savedItems.some(savedItem => savedItem.id === item.id) ? \"fill-black\" : \"fill-gray-400\"}`}\n+                            viewBox=\"0 0 24 24\"\n                           >\n-                            EDIT\n-                          </button>\n-                          <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n-                          <button\n-                            onClick={() => handleDelete(item)}\n-                            style={{\n-                              fontSize: \"0.7em\",\n-                              color: \"#000000\",\n-                              textDecoration: \"underline\",\n-                              backgroundColor: \"transparent\",\n-                              border: \"none\",\n-                              cursor: \"pointer\",\n-                              fontWeight: \"bold\"\n-                            }}\n-                            onMouseOver={(e) => e.target.style.color = \"#dc2626\"}\n-                            onMouseOut={(e) => e.target.style.color = \"#000000\"}\n-                          >\n-                            REMOVE\n-                          </button>\n-                          <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n-                          <button\n-                            onClick={() => handleSaveItem(item)}\n-                            style={{\n-                              fontSize: \"0.7em\",\n-                              color: \"#000000\",\n-                              textDecoration: \"underline\",\n-                              backgroundColor: \"transparent\",\n-                              border: \"none\",\n-                              cursor: \"pointer\",\n-                              display: \"flex\",\n-                              alignItems: \"center\",\n-                              fontWeight: \"bold\"\n-                            }}\n-                          >\n-                            SAVED ITEM\n-                            <svg\n-                              className={`w-4 h-4 ml-2 ${savedItems.some(savedItem => savedItem.id === item.id) ? \"fill-black\" : \"fill-gray-400\"}`}\n-                              viewBox=\"0 0 24 24\"\n-                            >\n-                              <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\n-                            </svg>\n-                          </button>\n-                        </div>\n+                            <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\n+                          </svg>\n+                        </button>\n                       </div>\n-                    </motion.div>\n-                    {item !== cartItems[cartItems.length - 1] && (\n+                    </div>\n+                  </motion.div>\n+                  {item !== cartItems[cartItems.length - 1] && (\n                       <hr style={{ width: \"100%\", borderBottom: \"1px solid #000000\", marginBottom: \"32px\" }} />\n-                    )}\n-                  </div>\n-                ))}\n-              </motion.div>\n+                  )}\n+                </div>\n+              ))}\n+            </motion.div>\n \n-              <motion.div\n-                initial={{ opacity: 0, y: 20 }}\n-                animate={{ opacity: 1, y: 0 }}\n-                transition={{ duration: 0.5, delay: 0.2 }}\n-                className=\"lg:col-span-3\"\n-              >\n+            <motion.div\n+              initial={{ opacity: 0, y: 20 }}\n+              animate={{ opacity: 1, y: 0 }}\n+              transition={{ duration: 0.5, delay: 0.2 }}\n+              className=\"lg:col-span-3\"\n+            >\n                 <div className=\"bg-white p-6 rounded-lg sticky top-4\" style={{\n                   boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n                   border: \"1px solid #e5e7eb\",\n                   borderRadius: \"8px\",\n                 }}>\n-                  <h2 style={{\n-                    fontSize: \"1em\",\n-                    fontWeight: \"bold\",\n-                    marginBottom: \"15px\",\n-                    color: \"#000000\",\n-                    textAlign: \"left\",\n-                    borderBottom: \"1px solid #000000\",\n-                    paddingBottom: \"10px\"\n-                  }}>\n-                    ORDER SUMMARY\n-                  </h2>\n-                  <div className=\"space-y-4\">\n-                    {cartItems.map((item) => (\n-                      <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n-                        display: \"flex\",\n-                        gap: \"15px\",\n-                        marginBottom: \"20px\",\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  ORDER SUMMARY\n+                </h2>\n+                <div className=\"space-y-4\">\n+                  {cartItems.map((item) => (\n+                    <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n+                      display: \"flex\",\n+                      gap: \"15px\",\n+                      marginBottom: \"20px\",\n+                      color: \"#000000\",\n+                    }}>\n+                      <img \n+                        src={item.image} \n+                        alt={item.name} \n+                        style={{\n+                          width: \"80px\",\n+                          height: \"80px\",\n+                          objectFit: \"cover\",\n+                        }}\n+                      />\n+                      <div style={{\n                         color: \"#000000\",\n+                        flex: 1,\n                       }}>\n-                        <img \n-                          src={item.image} \n-                          alt={item.name} \n-                          style={{\n-                            width: \"80px\",\n-                            height: \"80px\",\n-                            objectFit: \"cover\",\n-                          }}\n-                        />\n+                        <p style={{ \n+                          fontWeight: \"bold\", \n+                          marginBottom: \"6px\", \n+                          fontSize: \"0.9em\" \n+                        }}>\n+                          {item.name}\n+                        </p>\n                         <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n                           color: \"#000000\",\n-                          flex: 1,\n                         }}>\n-                          <p style={{ \n-                            fontWeight: \"bold\", \n-                            marginBottom: \"6px\", \n-                            fontSize: \"0.9em\" \n-                          }}>\n-                            {item.name}\n-                          </p>\n-                          <div style={{\n-                            display: \"flex\",\n-                            justifyContent: \"space-between\",\n-                            marginBottom: \"4px\",\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                          }}>\n                             <span>Số lượng:</span>\n-                            <span>{item.quantity}</span>\n-                          </div>\n-                          <div style={{\n-                            display: \"flex\",\n-                            justifyContent: \"space-between\",\n-                            marginBottom: \"4px\",\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                          }}>\n+                          <span>{item.quantity}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n                             <span>Màu:</span>\n                             <span>{item.color || \"Đen\"}</span>\n-                          </div>\n-                          <div style={{\n-                            display: \"flex\",\n-                            justifyContent: \"space-between\",\n-                            marginBottom: \"4px\",\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                          }}>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n                             <span>Size:</span>\n-                            <span>{item.size || \"Unknown\"}</span>\n-                          </div>\n-                          <div style={{\n-                            display: \"flex\",\n-                            justifyContent: \"space-between\",\n-                            marginBottom: \"4px\",\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                          }}>\n+                          <span>{item.size || \"Unknown\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n                             <span>Thời gian:</span>\n                             <span>{item.shippingInfo || \"Dự kiến 5 ngày\"}</span>\n-                          </div>\n-                          <div style={{\n-                            display: \"flex\",\n-                            justifyContent: \"space-between\",\n-                            marginBottom: \"4px\",\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                          }}>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n                             <span>Giá:</span>\n                             <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n-                          </div>\n                         </div>\n                       </div>\n-                    ))}\n-                    \n-                    <div style={{\n-                      display: \"flex\",\n-                      justifyContent: \"space-between\",\n-                      marginBottom: \"8px\",\n-                      fontSize: \"0.7em\",\n-                      color: \"#000000\",\n-                    }}>\n+                    </div>\n+                  ))}\n+                  \n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                  }}>\n                       <span>Vận chuyển</span>\n                       <span>Miễn phí (Express)</span>\n-                    </div>\n+                  </div>\n                     {isPromoApplied && (\n-                      <div style={{\n-                        display: \"flex\",\n-                        justifyContent: \"space-between\",\n-                        marginBottom: \"8px\",\n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                      }}>\n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                  }}>\n                         <span>Giảm giá</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n-                      </div>\n+                  </div>\n                     )}\n-                    <div style={{\n-                      display: \"flex\",\n-                      justifyContent: \"space-between\",\n-                      marginBottom: \"8px\",\n-                      fontSize: \"0.7em\",\n-                      fontWeight: \"bold\",\n-                      color: \"#000000\",\n-                    }}>\n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    fontWeight: \"bold\",\n+                    color: \"#000000\",\n+                  }}>\n                       <span>Tổng cộng</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n+                  <div style={{\n+                  paddingTop: \"10px\",\n+                  marginTop: \"20px\"\n+                }}>\n                   <div style={{ \n-                    paddingTop: \"10px\",\n+                    borderTop: \"1px solid #000000\", \n+                    borderBottom: \"1px solid #000000\", \n+                    paddingTop: \"10px\", \n+                    paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <div style={{ \n-                      borderTop: \"1px solid #000000\", \n-                      borderBottom: \"1px solid #000000\", \n-                      paddingTop: \"10px\", \n-                      paddingBottom: \"10px\",\n-                      marginTop: \"20px\"\n-                    }}>\n-                      <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n-                      <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>+61 1300492212</p>\n-                      <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>clientservice.au@gucci.com</p>\n-                    </div>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>+61 1300492212</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>clientservice.au@gucci.com</p>\n                   </div>\n-                  <button\n-                    onClick={handleCheckout}\n-                    className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n-                  >\n-                    CHECK OUT\n-                  </button>\n                 </div>\n-              </motion.div>\n-            </div>\n-          )}\n-        </div>\n+                <button\n+                  onClick={handleCheckout}\n+                  className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n+                >\n+                  CHECK OUT\n+                </button>\n+              </div>\n+            </motion.div>\n+          </div>\n+        )}\n+      </div>\n \n-        {showEditModal && editingItem && (\n-          <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n-            <motion.div\n-              initial={{ opacity: 0, y: 20 }}\n-              animate={{ opacity: 1, y: 0 }}\n-              className=\"bg-white/80 w-11/12 max-w-2xl relative\"\n+      {showEditModal && editingItem && (\n+        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n+          <motion.div\n+            initial={{ opacity: 0, y: 20 }}\n+            animate={{ opacity: 1, y: 0 }}\n+            className=\"bg-white/80 w-11/12 max-w-2xl relative\"\n+          >\n+            <button\n+              onClick={handleCancelEdit}\n+              className=\"absolute top-4 right-4 text-black\"\n             >\n-              <button\n-                onClick={handleCancelEdit}\n-                className=\"absolute top-4 right-4 text-black\"\n-              >\n-                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                  <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                  <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                </svg>\n-              </button>\n-              <div className=\"text-center py-4\">\n-                <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n-                <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n-                <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>AU$ {editingItem.price?.toFixed(2) || \"450.00\"}</p>\n-              </div>\n-              <div className=\"flex flex-col md:flex-row border-t border-gray-200\">\n-                <div className=\"md:w-1/2 p-6 flex flex-col items-center justify-center border-r border-gray-200\">\n-                  <img\n-                    src={editingItem.image}\n-                    alt={editingItem.name}\n-                    style={{\n-                      width: \"160px\",\n-                      height: \"160px\",\n-                      objectFit: \"cover\",\n-                      marginBottom: \"16px\"\n-                    }}\n-                  />\n-                  <div style={{ textAlign: \"center\" }}>\n+              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+              </svg>\n+            </button>\n+            <div className=\"text-center py-4\">\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n+              <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>AU$ {editingItem.price?.toFixed(2) || \"450.00\"}</p>\n+            </div>\n+            <div className=\"flex flex-col md:flex-row border-t border-gray-200\">\n+              <div className=\"md:w-1/2 p-6 flex flex-col items-center justify-center border-r border-gray-200\">\n+                <img\n+                  src={editingItem.image}\n+                  alt={editingItem.name}\n+                  style={{\n+                    width: \"160px\",\n+                    height: \"160px\",\n+                    objectFit: \"cover\",\n+                    marginBottom: \"16px\"\n+                  }}\n+                />\n+                <div style={{ textAlign: \"center\" }}>\n                     <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Màu: {editingItem.color || \"Đen\"}</p>\n                     <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>Size: {editingItem.size || \"M\"}</p>\n-                  </div>\n                 </div>\n-                <div className=\"md:w-1/2 p-6\">\n-                  <div className=\"mb-6\">\n-                    <label style={{ \n-                      display: \"block\", \n-                      marginBottom: \"8px\", \n-                      fontSize: \"0.7em\", \n-                      color: \"#000000\", \n-                      textTransform: \"uppercase\", \n-                      letterSpacing: \"0.1em\" \n-                    }}>\n-                      SIZE\n-                    </label>\n-                    <div className=\"relative\">\n-                      <select\n-                        value={selectedSize}\n+              </div>\n+              <div className=\"md:w-1/2 p-6\">\n+                <div className=\"mb-6\">\n+                  <label style={{ \n+                    display: \"block\", \n+                    marginBottom: \"8px\", \n+                    fontSize: \"0.7em\", \n+                    color: \"#000000\", \n+                    textTransform: \"uppercase\", \n+                    letterSpacing: \"0.1em\" \n+                  }}>\n+                    SIZE\n+                  </label>\n+                  <div className=\"relative\">\n+                    <select\n+                      value={selectedSize}\n                         onChange={handleSizeChange}\n-                        style={{\n-                          width: \"100%\",\n-                          padding: \"8px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                          border: \"1px solid #000000\",\n-                          appearance: \"none\",\n-                          background: \"white\",\n-                          cursor: \"pointer\"\n-                        }}\n-                      >\n+                      style={{\n+                        width: \"100%\",\n+                        padding: \"8px\",\n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        border: \"1px solid #000000\",\n+                        appearance: \"none\",\n+                        background: \"white\",\n+                        cursor: \"pointer\"\n+                      }}\n+                    >\n                         {sizes.map((size) => {\n                           const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n                           const isDisabled = sizeQuantity === 0;\n                           return (\n@@ -727,150 +727,150 @@\n                                 backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n                               }}\n                             >\n                               {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n-                            </option>\n+                        </option>\n                           );\n                         })}\n-                      </select>\n-                      <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n-                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                          <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                        </svg>\n-                      </div>\n+                    </select>\n+                    <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n+                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                        <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                      </svg>\n                     </div>\n                   </div>\n                 </div>\n               </div>\n-              <div className=\"border-t border-gray-200\">\n-                <button\n-                  onClick={handleSaveChanges}\n-                  style={{\n-                    width: \"100%\",\n-                    padding: \"12px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#ffffff\",\n-                    backgroundColor: \"#000000\",\n-                    border: \"none\",\n-                    cursor: \"pointer\",\n-                    textTransform: \"uppercase\",\n-                    letterSpacing: \"0.1em\"\n-                  }}\n-                >\n-                  Save Changes\n-                </button>\n-                <button\n-                  onClick={handleCancelEdit}\n-                  style={{\n-                    width: \"100%\",\n-                    padding: \"12px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#000000\",\n-                    backgroundColor: \"transparent\",\n-                    border: \"none\",\n-                    cursor: \"pointer\",\n-                    textTransform: \"uppercase\",\n-                    letterSpacing: \"0.1em\"\n-                  }}\n-                >\n-                  Cancel\n-                </button>\n-              </div>\n-            </motion.div>\n-          </div>\n-        )}\n+            </div>\n+            <div className=\"border-t border-gray-200\">\n+              <button\n+                onClick={handleSaveChanges}\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#ffffff\",\n+                  backgroundColor: \"#000000\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n+              >\n+                Save Changes\n+              </button>\n+              <button\n+                onClick={handleCancelEdit}\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#000000\",\n+                  backgroundColor: \"transparent\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n+              >\n+                Cancel\n+              </button>\n+            </div>\n+          </motion.div>\n+        </div>\n+      )}\n \n-        {showDeleteModal && itemToDelete && (\n-          <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n-            <motion.div\n-              initial={{ opacity: 0, y: 20 }}\n-              animate={{ opacity: 1, y: 0 }}\n-              className=\"bg-white/80 w-11/12 max-w-md relative\"\n+      {showDeleteModal && itemToDelete && (\n+        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n+          <motion.div\n+            initial={{ opacity: 0, y: 20 }}\n+            animate={{ opacity: 1, y: 0 }}\n+            className=\"bg-white/80 w-11/12 max-w-md relative\"\n+          >\n+            <button\n+              onClick={() => setShowDeleteModal(false)}\n+              className=\"absolute top-4 right-4 text-black\"\n             >\n+              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+              </svg>\n+            </button>\n+            <div className=\"text-center py-8\">\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n+                CONFIRM REMOVAL\n+              </p>\n+              <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n+                Are you sure you want to remove this item?\n+              </p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n+                {itemToDelete.name}\n+              </p>\n+            </div>\n+            <div className=\"border-t border-gray-200\">\n               <button\n+                onClick={confirmDelete}\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#ffffff\",\n+                  backgroundColor: \"#000000\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n+              >\n+                Confirm\n+              </button>\n+              <button\n                 onClick={() => setShowDeleteModal(false)}\n-                className=\"absolute top-4 right-4 text-black\"\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#000000\",\n+                  backgroundColor: \"transparent\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n               >\n-                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                  <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                  <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                </svg>\n+                Cancel\n               </button>\n-              <div className=\"text-center py-8\">\n-                <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                  CONFIRM REMOVAL\n-                </p>\n-                <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                  Are you sure you want to remove this item?\n-                </p>\n-                <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                  {itemToDelete.name}\n-                </p>\n-              </div>\n-              <div className=\"border-t border-gray-200\">\n-                <button\n-                  onClick={confirmDelete}\n-                  style={{\n-                    width: \"100%\",\n-                    padding: \"12px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#ffffff\",\n-                    backgroundColor: \"#000000\",\n-                    border: \"none\",\n-                    cursor: \"pointer\",\n-                    textTransform: \"uppercase\",\n-                    letterSpacing: \"0.1em\"\n-                  }}\n-                >\n-                  Confirm\n-                </button>\n-                <button\n-                  onClick={() => setShowDeleteModal(false)}\n-                  style={{\n-                    width: \"100%\",\n-                    padding: \"12px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#000000\",\n-                    backgroundColor: \"transparent\",\n-                    border: \"none\",\n-                    cursor: \"pointer\",\n-                    textTransform: \"uppercase\",\n-                    letterSpacing: \"0.1em\"\n-                  }}\n-                >\n-                  Cancel\n-                </button>\n-              </div>\n-            </motion.div>\n-          </div>\n-        )}\n+            </div>\n+          </motion.div>\n+        </div>\n+      )}\n \n-        <style jsx>{`\n-          .underline-btn {\n-            position: relative;\n-            text-decoration: none;\n-            transition: color 0.3s ease;\n-          }\n-          .underline-btn::after {\n-            content: \"\";\n-            position: absolute;\n-            width: 0;\n-            height: 1px;\n-            bottom: -1px;\n-            left: 0;\n-            background-color: currentColor;\n-            transition: width 0.3s ease;\n-          }\n-          .underline-btn:hover::after {\n-            width: 100%;\n-          }\n-          .underline-btn:hover {\n-            color: #000;\n-          }\n-          .underline-btn.remove:hover {\n-            color: #dc2626;\n-          }\n-        `}</style>\n+      <style jsx>{`\n+        .underline-btn {\n+          position: relative;\n+          text-decoration: none;\n+          transition: color 0.3s ease;\n+        }\n+        .underline-btn::after {\n+          content: \"\";\n+          position: absolute;\n+          width: 0;\n+          height: 1px;\n+          bottom: -1px;\n+          left: 0;\n+          background-color: currentColor;\n+          transition: width 0.3s ease;\n+        }\n+        .underline-btn:hover::after {\n+          width: 100%;\n+        }\n+        .underline-btn:hover {\n+          color: #000;\n+        }\n+        .underline-btn.remove:hover {\n+          color: #dc2626;\n+        }\n+      `}</style>\n       </div>\n     </div>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747207609548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n     // Lấy thông tin stock từ item hiện tại\n     const currentItem = cartItems.find(item => item.id === editingItem.id);\n     if (currentItem) {\n       const sizeQuantity = currentItem.stock?.[newSize] || 0;\n-      setEditingQuantity(Math.min(editingQuantity, sizeQuantity));\n+      setEditingQuantity(sizeQuantity > 0 ? 1 : 0); // luôn reset về 1 hoặc 0\n     }\n   };\n \n   const handleSaveChanges = () => {\n"
                },
                {
                    "date": 1747207752614,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -738,8 +738,16 @@\n                       </svg>\n                     </div>\n                   </div>\n                 </div>\n+                <div className=\"mb-6\">\n+                  <label style={{ display: \"block\", marginBottom: \"8px\", fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n+                    SỐ LƯỢNG TỒN KHO\n+                  </label>\n+                  <div style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n+                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} sản phẩm\n+                  </div>\n+                </div>\n               </div>\n             </div>\n             <div className=\"border-t border-gray-200\">\n               <button\n"
                },
                {
                    "date": 1747207960597,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,15 +68,15 @@\n     if (editingItem && selectedSize) {\n       const currentItem = cartItems.find(item => item.id === editingItem.id);\n       if (!currentItem) return;\n \n-      const sizeQuantity = currentItem.stock?.[selectedSize] || 0;\n+      const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n       if (editingQuantity > sizeQuantity) {\n         alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n         return;\n       }\n \n-      updateQuantity(editingItem.id, editingQuantity, selectedSize);\n+      updateQuantity(editingItem.id, editingQuantity, selectedSize, sizeQuantity);\n     }\n     setShowEditModal(false);\n     setEditingItem(null);\n     setProductStock(null);\n"
                },
                {
                    "date": 1747208110913,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -667,9 +667,11 @@\n             </button>\n             <div className=\"text-center py-4\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>AU$ {editingItem.price?.toFixed(2) || \"450.00\"}</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n+                {editingItem.price?.toLocaleString('vi-VN')} VND\n+              </p>\n             </div>\n             <div className=\"flex flex-col md:flex-row border-t border-gray-200\">\n               <div className=\"md:w-1/2 p-6 flex flex-col items-center justify-center border-r border-gray-200\">\n                 <img\n"
                },
                {
                    "date": 1747211221678,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,13 +2,14 @@\n import { motion } from \"framer-motion\";\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n+import { useWishlist } from \"../../context/WishlistContext\";\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem } = useCart();\n+  const { toggleWishlist, isInWishlist } = useWishlist();\n   const router = useRouter();\n-  const [savedItems, setSavedItems] = useState([]);\n   const [showEditModal, setShowEditModal] = useState(false);\n   const [editingItem, setEditingItem] = useState(null);\n   const [selectedSize, setSelectedSize] = useState(\"\");\n   const [promoCode, setPromoCode] = useState(\"\");\n@@ -102,65 +103,9 @@\n       setItemToDelete(null);\n     }\n   };\n \n-  const handleSaveItem = (item) => {\n-    setSavedItems(prev => {\n-      const isAlreadySaved = prev.some(savedItem => savedItem.id === item.id);\n-      if (isAlreadySaved) {\n-        const updatedItems = prev.filter(savedItem => savedItem.id !== item.id);\n-        localStorage.setItem('savedItems', JSON.stringify(updatedItems));\n-        return updatedItems;\n-      } else {\n-        const updatedItems = [...prev, { ...item, savedAt: new Date().toISOString() }];\n-        localStorage.setItem('savedItems', JSON.stringify(updatedItems));\n-        return updatedItems;\n-      }\n-    });\n-\n-    const message = savedItems.some(savedItem => savedItem.id === item.id) \n-      ? \"Item removed from saved items\"\n-      : \"Item saved successfully\";\n-    alert(message);\n-  };\n-\n   useEffect(() => {\n-    const loadSavedItems = () => {\n-      try {\n-        const savedItemsFromStorage = JSON.parse(localStorage.getItem('savedItems') || '[]');\n-        setSavedItems(savedItemsFromStorage);\n-      } catch (error) {\n-        console.error('Error loading saved items:', error);\n-        setSavedItems([]);\n-      }\n-    };\n-\n-    loadSavedItems();\n-\n-    window.addEventListener('storage', loadSavedItems);\n-    return () => window.removeEventListener('storage', loadSavedItems);\n-  }, []);\n-\n-  useEffect(() => {\n-    const fetchProductStock = async () => {\n-      if (editingItem) {\n-        try {\n-          const response = await fetch(`/api/products/${editingItem.id}`);\n-          const data = await response.json();\n-          if (data.ok) {\n-            setProductStock(data.product);\n-            setEditingQuantity(1);\n-          }\n-        } catch (error) {\n-          console.error(\"Error fetching product stock:\", error);\n-        }\n-      }\n-    };\n-\n-    fetchProductStock();\n-  }, [editingItem]);\n-\n-  useEffect(() => {\n     setIsMounted(true);\n   }, []);\n \n   if (!isMounted) return null;\n@@ -451,9 +396,9 @@\n                           REMOVE\n                         </button>\n                         <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n                         <button\n-                          onClick={() => handleSaveItem(item)}\n+                          onClick={() => toggleWishlist(item)}\n                           style={{\n                             fontSize: \"0.7em\",\n                             color: \"#000000\",\n                             textDecoration: \"underline\",\n@@ -466,9 +411,9 @@\n                           }}\n                         >\n                           SAVED ITEM\n                           <svg\n-                            className={`w-4 h-4 ml-2 ${savedItems.some(savedItem => savedItem.id === item.id) ? \"fill-black\" : \"fill-gray-400\"}`}\n+                            className={`w-4 h-4 ml-2 ${isInWishlist(item._id) ? \"fill-black\" : \"fill-gray-400\"}`}\n                             viewBox=\"0 0 24 24\"\n                           >\n                             <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\n                           </svg>\n"
                },
                {
                    "date": 1747211575855,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -396,9 +396,22 @@\n                           REMOVE\n                         </button>\n                         <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n                         <button\n-                          onClick={() => toggleWishlist(item)}\n+                          onClick={async () => {\n+                            try {\n+                              const res = await fetch(`/api/products/${item._id}`);\n+                              const data = await res.json();\n+                              if (data.ok && data.product) {\n+                                toggleWishlist(data.product);\n+                              } else {\n+                                // fallback: vẫn lưu item nếu không fetch được\n+                                toggleWishlist(item);\n+                              }\n+                            } catch (e) {\n+                              toggleWishlist(item);\n+                            }\n+                          }}\n                           style={{\n                             fontSize: \"0.7em\",\n                             color: \"#000000\",\n                             textDecoration: \"underline\",\n@@ -661,171 +674,5 @@\n                         cursor: \"pointer\"\n                       }}\n                     >\n                         {sizes.map((size) => {\n-                          const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n-                          const isDisabled = sizeQuantity === 0;\n-                          return (\n-                            <option \n-                              key={size} \n-                              value={size}\n-                              disabled={isDisabled}\n-                              style={{\n-                                color: isDisabled ? \"#999\" : \"#000\",\n-                                backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n-                              }}\n-                            >\n-                              {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n-                        </option>\n-                          );\n-                        })}\n-                    </select>\n-                    <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n-                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                        <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                      </svg>\n-                    </div>\n-                  </div>\n-                </div>\n-                <div className=\"mb-6\">\n-                  <label style={{ display: \"block\", marginBottom: \"8px\", fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n-                    SỐ LƯỢNG TỒN KHO\n-                  </label>\n-                  <div style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} sản phẩm\n-                  </div>\n-                </div>\n-              </div>\n-            </div>\n-            <div className=\"border-t border-gray-200\">\n-              <button\n-                onClick={handleSaveChanges}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#ffffff\",\n-                  backgroundColor: \"#000000\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Save Changes\n-              </button>\n-              <button\n-                onClick={handleCancelEdit}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#000000\",\n-                  backgroundColor: \"transparent\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Cancel\n-              </button>\n-            </div>\n-          </motion.div>\n-        </div>\n-      )}\n-\n-      {showDeleteModal && itemToDelete && (\n-        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n-          <motion.div\n-            initial={{ opacity: 0, y: 20 }}\n-            animate={{ opacity: 1, y: 0 }}\n-            className=\"bg-white/80 w-11/12 max-w-md relative\"\n-          >\n-            <button\n-              onClick={() => setShowDeleteModal(false)}\n-              className=\"absolute top-4 right-4 text-black\"\n-            >\n-              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-              </svg>\n-            </button>\n-            <div className=\"text-center py-8\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                CONFIRM REMOVAL\n-              </p>\n-              <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                Are you sure you want to remove this item?\n-              </p>\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                {itemToDelete.name}\n-              </p>\n-            </div>\n-            <div className=\"border-t border-gray-200\">\n-              <button\n-                onClick={confirmDelete}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#ffffff\",\n-                  backgroundColor: \"#000000\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Confirm\n-              </button>\n-              <button\n-                onClick={() => setShowDeleteModal(false)}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#000000\",\n-                  backgroundColor: \"transparent\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Cancel\n-              </button>\n-            </div>\n-          </motion.div>\n-        </div>\n-      )}\n-\n-      <style jsx>{`\n-        .underline-btn {\n-          position: relative;\n-          text-decoration: none;\n-          transition: color 0.3s ease;\n-        }\n-        .underline-btn::after {\n-          content: \"\";\n-          position: absolute;\n-          width: 0;\n-          height: 1px;\n-          bottom: -1px;\n-          left: 0;\n-          background-color: currentColor;\n-          transition: width 0.3s ease;\n-        }\n-        .underline-btn:hover::after {\n-          width: 100%;\n-        }\n-        .underline-btn:hover {\n-          color: #000;\n-        }\n-        .underline-btn.remove:hover {\n-          color: #dc2626;\n-        }\n-      `}</style>\n-      </div>\n-    </div>\n-  );\n-}\n\\ No newline at end of file\n+                          const sizeQuantity = productStock?.[`\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747211587267,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -403,9 +403,8 @@\n                               const data = await res.json();\n                               if (data.ok && data.product) {\n                                 toggleWishlist(data.product);\n                               } else {\n-                                // fallback: vẫn lưu item nếu không fetch được\n                                 toggleWishlist(item);\n                               }\n                             } catch (e) {\n                               toggleWishlist(item);\n@@ -674,5 +673,104 @@\n                         cursor: \"pointer\"\n                       }}\n                     >\n                         {sizes.map((size) => {\n-                          const sizeQuantity = productStock?.[`\n\\ No newline at end of file\n+                          const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n+                          return (\n+                            <option key={size} value={size}>\n+                              {size} ({sizeQuantity} sản phẩm)\n+                            </option>\n+                          );\n+                        })}\n+                    </select>\n+                  </div>\n+                </div>\n+                <div className=\"mb-6\">\n+                  <label style={{ \n+                    display: \"block\", \n+                    marginBottom: \"8px\", \n+                    fontSize: \"0.7em\", \n+                    color: \"#000000\", \n+                    textTransform: \"uppercase\", \n+                    letterSpacing: \"0.1em\" \n+                  }}>\n+                    QUANTITY\n+                  </label>\n+                  <div className=\"relative\">\n+                    <input\n+                      type=\"number\"\n+                      value={editingQuantity}\n+                      onChange={(e) => setEditingQuantity(Number(e.target.value))}\n+                      style={{\n+                        width: \"100%\",\n+                        padding: \"8px\",\n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        border: \"1px solid #000000\",\n+                        background: \"white\"\n+                      }}\n+                    />\n+                  </div>\n+                </div>\n+                <div className=\"flex space-x-4\">\n+                  <button\n+                    onClick={handleSaveChanges}\n+                    className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 rounded hover:bg-gray-800 transition-colors\"\n+                  >\n+                    SAVE CHANGES\n+                  </button>\n+                  <button\n+                    onClick={handleCancelEdit}\n+                    className=\"w-full bg-gray-300 text-black text-sm font-semibold py-3 px-4 rounded hover:bg-gray-400 transition-colors\"\n+                  >\n+                    CANCEL\n+                  </button>\n+                </div>\n+              </div>\n+            </div>\n+          </motion.div>\n+        </div>\n+      )}\n+\n+      {showDeleteModal && itemToDelete && (\n+        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n+          <motion.div\n+            initial={{ opacity: 0, y: 20 }}\n+            animate={{ opacity: 1, y: 0 }}\n+            className=\"bg-white/80 w-11/12 max-w-2xl relative\"\n+          >\n+            <button\n+              onClick={confirmDelete}\n+              className=\"absolute top-4 right-4 text-black\"\n+            >\n+              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+              </svg>\n+            </button>\n+            <div className=\"text-center py-4\">\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>XÁC NHẬN XÓA</p>\n+              <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{itemToDelete.name}</h2>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n+                {itemToDelete.price?.toLocaleString('vi-VN')} VND\n+              </p>\n+            </div>\n+            <div className=\"flex space-x-4\">\n+              <button\n+                onClick={confirmDelete}\n+                className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 rounded hover:bg-gray-800 transition-colors\"\n+              >\n+                XÓA\n+              </button>\n+              <button\n+                onClick={() => setShowDeleteModal(false)}\n+                className=\"w-full bg-gray-300 text-black text-sm font-semibold py-3 px-4 rounded hover:bg-gray-400 transition-colors\"\n+              >\n+                HỦY\n+              </button>\n+            </div>\n+          </motion.div>\n+        </div>\n+      )}\n+    </div>\n+  );\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747211633214,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -396,21 +396,9 @@\n                           REMOVE\n                         </button>\n                         <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n                         <button\n-                          onClick={async () => {\n-                            try {\n-                              const res = await fetch(`/api/products/${item._id}`);\n-                              const data = await res.json();\n-                              if (data.ok && data.product) {\n-                                toggleWishlist(data.product);\n-                              } else {\n-                                toggleWishlist(item);\n-                              }\n-                            } catch (e) {\n-                              toggleWishlist(item);\n-                            }\n-                          }}\n+                          onClick={() => toggleWishlist(item)}\n                           style={{\n                             fontSize: \"0.7em\",\n                             color: \"#000000\",\n                             textDecoration: \"underline\",\n@@ -674,60 +662,75 @@\n                       }}\n                     >\n                         {sizes.map((size) => {\n                           const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n+                          const isDisabled = sizeQuantity === 0;\n                           return (\n-                            <option key={size} value={size}>\n-                              {size} ({sizeQuantity} sản phẩm)\n-                            </option>\n+                            <option \n+                              key={size} \n+                              value={size}\n+                              disabled={isDisabled}\n+                              style={{\n+                                color: isDisabled ? \"#999\" : \"#000\",\n+                                backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n+                              }}\n+                            >\n+                              {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n+                        </option>\n                           );\n                         })}\n                     </select>\n+                    <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n+                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                        <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                      </svg>\n+                    </div>\n                   </div>\n                 </div>\n                 <div className=\"mb-6\">\n-                  <label style={{ \n-                    display: \"block\", \n-                    marginBottom: \"8px\", \n-                    fontSize: \"0.7em\", \n-                    color: \"#000000\", \n-                    textTransform: \"uppercase\", \n-                    letterSpacing: \"0.1em\" \n-                  }}>\n-                    QUANTITY\n+                  <label style={{ display: \"block\", marginBottom: \"8px\", fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n+                    SỐ LƯỢNG TỒN KHO\n                   </label>\n-                  <div className=\"relative\">\n-                    <input\n-                      type=\"number\"\n-                      value={editingQuantity}\n-                      onChange={(e) => setEditingQuantity(Number(e.target.value))}\n-                      style={{\n-                        width: \"100%\",\n-                        padding: \"8px\",\n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        border: \"1px solid #000000\",\n-                        background: \"white\"\n-                      }}\n-                    />\n+                  <div style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n+                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} sản phẩm\n                   </div>\n                 </div>\n-                <div className=\"flex space-x-4\">\n-                  <button\n-                    onClick={handleSaveChanges}\n-                    className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 rounded hover:bg-gray-800 transition-colors\"\n-                  >\n-                    SAVE CHANGES\n-                  </button>\n-                  <button\n-                    onClick={handleCancelEdit}\n-                    className=\"w-full bg-gray-300 text-black text-sm font-semibold py-3 px-4 rounded hover:bg-gray-400 transition-colors\"\n-                  >\n-                    CANCEL\n-                  </button>\n-                </div>\n               </div>\n             </div>\n+            <div className=\"border-t border-gray-200\">\n+              <button\n+                onClick={handleSaveChanges}\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#ffffff\",\n+                  backgroundColor: \"#000000\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n+              >\n+                Save Changes\n+              </button>\n+              <button\n+                onClick={handleCancelEdit}\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#000000\",\n+                  backgroundColor: \"transparent\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n+              >\n+                Cancel\n+              </button>\n+            </div>\n           </motion.div>\n         </div>\n       )}\n \n@@ -735,42 +738,94 @@\n         <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n           <motion.div\n             initial={{ opacity: 0, y: 20 }}\n             animate={{ opacity: 1, y: 0 }}\n-            className=\"bg-white/80 w-11/12 max-w-2xl relative\"\n+            className=\"bg-white/80 w-11/12 max-w-md relative\"\n           >\n             <button\n-              onClick={confirmDelete}\n+              onClick={() => setShowDeleteModal(false)}\n               className=\"absolute top-4 right-4 text-black\"\n             >\n               <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                 <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n-            <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>XÁC NHẬN XÓA</p>\n-              <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{itemToDelete.name}</h2>\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n-                {itemToDelete.price?.toLocaleString('vi-VN')} VND\n+            <div className=\"text-center py-8\">\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n+                CONFIRM REMOVAL\n               </p>\n+              <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n+                Are you sure you want to remove this item?\n+              </p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n+                {itemToDelete.name}\n+              </p>\n             </div>\n-            <div className=\"flex space-x-4\">\n+            <div className=\"border-t border-gray-200\">\n               <button\n                 onClick={confirmDelete}\n-                className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 rounded hover:bg-gray-800 transition-colors\"\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#ffffff\",\n+                  backgroundColor: \"#000000\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n               >\n-                XÓA\n+                Confirm\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n-                className=\"w-full bg-gray-300 text-black text-sm font-semibold py-3 px-4 rounded hover:bg-gray-400 transition-colors\"\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#000000\",\n+                  backgroundColor: \"transparent\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n               >\n-                HỦY\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n       )}\n+\n+      <style jsx>{`\n+        .underline-btn {\n+          position: relative;\n+          text-decoration: none;\n+          transition: color 0.3s ease;\n+        }\n+        .underline-btn::after {\n+          content: \"\";\n+          position: absolute;\n+          width: 0;\n+          height: 1px;\n+          bottom: -1px;\n+          left: 0;\n+          background-color: currentColor;\n+          transition: width 0.3s ease;\n+        }\n+        .underline-btn:hover::after {\n+          width: 100%;\n+        }\n+        .underline-btn:hover {\n+          color: #000;\n+        }\n+        .underline-btn.remove:hover {\n+          color: #dc2626;\n+        }\n+      `}</style>\n+      </div>\n     </div>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747211651895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -396,9 +396,21 @@\n                           REMOVE\n                         </button>\n                         <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n                         <button\n-                          onClick={() => toggleWishlist(item)}\n+                          onClick={async () => {\n+                            try {\n+                              const res = await fetch(`/api/products/${item._id}`);\n+                              const data = await res.json();\n+                              if (data.ok && data.product) {\n+                                toggleWishlist(data.product);\n+                              } else {\n+                                toggleWishlist(item);\n+                              }\n+                            } catch (e) {\n+                              toggleWishlist(item);\n+                            }\n+                          }}\n                           style={{\n                             fontSize: \"0.7em\",\n                             color: \"#000000\",\n                             textDecoration: \"underline\",\n"
                },
                {
                    "date": 1747212061036,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -396,19 +396,25 @@\n                           REMOVE\n                         </button>\n                         <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n                         <button\n-                          onClick={async () => {\n-                            try {\n-                              const res = await fetch(`/api/products/${item._id}`);\n-                              const data = await res.json();\n-                              if (data.ok && data.product) {\n-                                toggleWishlist(data.product);\n-                              } else {\n+                          onClick={async (e) => {\n+                            e.preventDefault();\n+                            e.stopPropagation();\n+                            if (item.images && item.images.length > 0 && item.slug) {\n+                              toggleWishlist(item);\n+                            } else {\n+                              try {\n+                                const res = await fetch(`/api/products/${item._id}`);\n+                                const data = await res.json();\n+                                if (data.ok && data.product) {\n+                                  toggleWishlist(data.product);\n+                                } else {\n+                                  toggleWishlist(item);\n+                                }\n+                              } catch (e) {\n                                 toggleWishlist(item);\n                               }\n-                            } catch (e) {\n-                              toggleWishlist(item);\n                             }\n                           }}\n                           style={{\n                             fontSize: \"0.7em\",\n"
                },
                {
                    "date": 1747212286959,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -415,26 +415,23 @@\n                                 toggleWishlist(item);\n                               }\n                             }\n                           }}\n-                          style={{\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            textDecoration: \"underline\",\n-                            backgroundColor: \"transparent\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                            display: \"flex\",\n-                            alignItems: \"center\",\n-                            fontWeight: \"bold\"\n-                          }}\n+                          className=\"text-black hover:text-gray-500 transition duration-300 bg-white bg-opacity-70 rounded-full p-1\"\n+                          style={{ marginLeft: 8 }}\n                         >\n-                          SAVED ITEM\n                           <svg\n-                            className={`w-4 h-4 ml-2 ${isInWishlist(item._id) ? \"fill-black\" : \"fill-gray-400\"}`}\n+                            className=\"h-4 w-4\"\n                             viewBox=\"0 0 24 24\"\n+                            fill={isInWishlist(item._id) ? \"currentColor\" : \"none\"}\n+                            stroke=\"currentColor\"\n                           >\n-                            <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\n+                            <path\n+                              strokeLinecap=\"round\"\n+                              strokeLinejoin=\"round\"\n+                              strokeWidth={1.5}\n+                              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n+                            />\n                           </svg>\n                         </button>\n                       </div>\n                     </div>\n"
                },
                {
                    "date": 1747212367533,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -394,46 +394,8 @@\n                           onMouseOut={(e) => e.target.style.color = \"#000000\"}\n                         >\n                           REMOVE\n                         </button>\n-                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n-                        <button\n-                          onClick={async (e) => {\n-                            e.preventDefault();\n-                            e.stopPropagation();\n-                            if (item.images && item.images.length > 0 && item.slug) {\n-                              toggleWishlist(item);\n-                            } else {\n-                              try {\n-                                const res = await fetch(`/api/products/${item._id}`);\n-                                const data = await res.json();\n-                                if (data.ok && data.product) {\n-                                  toggleWishlist(data.product);\n-                                } else {\n-                                  toggleWishlist(item);\n-                                }\n-                              } catch (e) {\n-                                toggleWishlist(item);\n-                              }\n-                            }\n-                          }}\n-                          className=\"text-black hover:text-gray-500 transition duration-300 bg-white bg-opacity-70 rounded-full p-1\"\n-                          style={{ marginLeft: 8 }}\n-                        >\n-                          <svg\n-                            className=\"h-4 w-4\"\n-                            viewBox=\"0 0 24 24\"\n-                            fill={isInWishlist(item._id) ? \"currentColor\" : \"none\"}\n-                            stroke=\"currentColor\"\n-                          >\n-                            <path\n-                              strokeLinecap=\"round\"\n-                              strokeLinejoin=\"round\"\n-                              strokeWidth={1.5}\n-                              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n-                            />\n-                          </svg>\n-                        </button>\n                       </div>\n                     </div>\n                   </motion.div>\n                   {item !== cartItems[cartItems.length - 1] && (\n"
                },
                {
                    "date": 1747278440545,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -804,5 +804,9 @@\n       `}</style>\n       </div>\n     </div>\n   );\n-}\n\\ No newline at end of file\n+}\n+export const metadata = {\n+  title: 'Giỏ hàng | AISH',\n+};\n+// ... existing code ...\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747279373827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -805,8 +805,4 @@\n       </div>\n     </div>\n   );\n }\n-export const metadata = {\n-  title: 'Giỏ hàng | AISH',\n-};\n-// ... existing code ...\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747324999540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,13 +45,26 @@\n       alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n-  const handleEdit = (item) => {\n+  const handleEdit = async (item) => {\n     setEditingItem(item);\n     setSelectedSize(item.size || \"M\");\n     setEditingQuantity(item.quantity);\n     setShowEditModal(true);\n+\n+    // Fetch lại thông tin sản phẩm để lấy stock\n+    try {\n+      const res = await fetch(`/api/products/by-id/${item.id}`);\n+      const data = await res.json();\n+      if (data.ok) {\n+        setProductStock(data.product);\n+      } else {\n+        setProductStock(null);\n+      }\n+    } catch (err) {\n+      setProductStock(null);\n+    }\n   };\n \n   const handleSizeChange = async (e) => {\n     const newSize = e.target.value;\n"
                },
                {
                    "date": 1747325082240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,26 +45,13 @@\n       alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n-  const handleEdit = async (item) => {\n+  const handleEdit = (item) => {\n     setEditingItem(item);\n     setSelectedSize(item.size || \"M\");\n     setEditingQuantity(item.quantity);\n     setShowEditModal(true);\n-\n-    // Fetch lại thông tin sản phẩm để lấy stock\n-    try {\n-      const res = await fetch(`/api/products/by-id/${item.id}`);\n-      const data = await res.json();\n-      if (data.ok) {\n-        setProductStock(data.product);\n-      } else {\n-        setProductStock(null);\n-      }\n-    } catch (err) {\n-      setProductStock(null);\n-    }\n   };\n \n   const handleSizeChange = async (e) => {\n     const newSize = e.target.value;\n"
                },
                {
                    "date": 1747325256356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,13 +45,27 @@\n       alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n-  const handleEdit = (item) => {\n+  const handleEdit = async (item) => {\n     setEditingItem(item);\n     setSelectedSize(item.size || \"M\");\n     setEditingQuantity(item.quantity);\n     setShowEditModal(true);\n+\n+    // Fetch lại thông tin sản phẩm để lấy stock\n+    try {\n+      const res = await fetch(`/api/products/by-id/${item.id}`);\n+      const data = await res.json();\n+      console.log('API productStock:', data.product); // Thêm log kiểm tra\n+      if (data.ok) {\n+        setProductStock(data.product);\n+      } else {\n+        setProductStock(null);\n+      }\n+    } catch (err) {\n+      setProductStock(null);\n+    }\n   };\n \n   const handleSizeChange = async (e) => {\n     const newSize = e.target.value;\n@@ -638,9 +652,17 @@\n                         cursor: \"pointer\"\n                       }}\n                     >\n                         {sizes.map((size) => {\n-                          const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n+                          // Tự động nhận diện kiểu dữ liệu tồn kho\n+                          let sizeQuantity = 0;\n+                          if (productStock) {\n+                            if (productStock[`quantity${size}`] !== undefined) {\n+                              sizeQuantity = productStock[`quantity${size}`];\n+                            } else if (productStock.stock && productStock.stock[size] !== undefined) {\n+                              sizeQuantity = productStock.stock[size];\n+                            }\n+                          }\n                           const isDisabled = sizeQuantity === 0;\n                           return (\n                             <option \n                               key={size} \n"
                },
                {
                    "date": 1747325311905,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,27 +45,13 @@\n       alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n-  const handleEdit = async (item) => {\n+  const handleEdit = (item) => {\n     setEditingItem(item);\n     setSelectedSize(item.size || \"M\");\n     setEditingQuantity(item.quantity);\n     setShowEditModal(true);\n-\n-    // Fetch lại thông tin sản phẩm để lấy stock\n-    try {\n-      const res = await fetch(`/api/products/by-id/${item.id}`);\n-      const data = await res.json();\n-      console.log('API productStock:', data.product); // Thêm log kiểm tra\n-      if (data.ok) {\n-        setProductStock(data.product);\n-      } else {\n-        setProductStock(null);\n-      }\n-    } catch (err) {\n-      setProductStock(null);\n-    }\n   };\n \n   const handleSizeChange = async (e) => {\n     const newSize = e.target.value;\n@@ -652,17 +638,9 @@\n                         cursor: \"pointer\"\n                       }}\n                     >\n                         {sizes.map((size) => {\n-                          // Tự động nhận diện kiểu dữ liệu tồn kho\n-                          let sizeQuantity = 0;\n-                          if (productStock) {\n-                            if (productStock[`quantity${size}`] !== undefined) {\n-                              sizeQuantity = productStock[`quantity${size}`];\n-                            } else if (productStock.stock && productStock.stock[size] !== undefined) {\n-                              sizeQuantity = productStock.stock[size];\n-                            }\n-                          }\n+                          const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n                           const isDisabled = sizeQuantity === 0;\n                           return (\n                             <option \n                               key={size} \n"
                },
                {
                    "date": 1747326152791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,9 +69,16 @@\n     if (editingItem && selectedSize) {\n       const currentItem = cartItems.find(item => item.id === editingItem.id);\n       if (!currentItem) return;\n \n-      const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n+      let sizeQuantity = 0;\n+      if (productStock) {\n+        if (productStock[`quantity${selectedSize}`] !== undefined) {\n+          sizeQuantity = productStock[`quantity${selectedSize}`];\n+        } else if (productStock.stock && productStock.stock[selectedSize] !== undefined) {\n+          sizeQuantity = productStock.stock[selectedSize];\n+        }\n+      }\n       if (editingQuantity > sizeQuantity) {\n         alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n         return;\n       }\n@@ -638,9 +645,16 @@\n                         cursor: \"pointer\"\n                       }}\n                     >\n                         {sizes.map((size) => {\n-                          const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n+                          let sizeQuantity = 0;\n+                          if (productStock) {\n+                            if (productStock[`quantity${size}`] !== undefined) {\n+                              sizeQuantity = productStock[`quantity${size}`];\n+                            } else if (productStock.stock && productStock.stock[size] !== undefined) {\n+                              sizeQuantity = productStock.stock[size];\n+                            }\n+                          }\n                           const isDisabled = sizeQuantity === 0;\n                           return (\n                             <option \n                               key={size} \n@@ -667,9 +681,19 @@\n                   <label style={{ display: \"block\", marginBottom: \"8px\", fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n                     SỐ LƯỢNG TỒN KHO\n                   </label>\n                   <div style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} sản phẩm\n+                    {(() => {\n+                      let selectedStock = 0;\n+                      if (productStock) {\n+                        if (productStock[`quantity${selectedSize}`] !== undefined) {\n+                          selectedStock = productStock[`quantity${selectedSize}`];\n+                        } else if (productStock.stock && productStock.stock[selectedSize] !== undefined) {\n+                          selectedStock = productStock.stock[selectedSize];\n+                        }\n+                      }\n+                      return `${selectedStock} sản phẩm`;\n+                    })()}\n                   </div>\n                 </div>\n               </div>\n             </div>\n"
                },
                {
                    "date": 1747326196636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,16 +69,9 @@\n     if (editingItem && selectedSize) {\n       const currentItem = cartItems.find(item => item.id === editingItem.id);\n       if (!currentItem) return;\n \n-      let sizeQuantity = 0;\n-      if (productStock) {\n-        if (productStock[`quantity${selectedSize}`] !== undefined) {\n-          sizeQuantity = productStock[`quantity${selectedSize}`];\n-        } else if (productStock.stock && productStock.stock[selectedSize] !== undefined) {\n-          sizeQuantity = productStock.stock[selectedSize];\n-        }\n-      }\n+      const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n       if (editingQuantity > sizeQuantity) {\n         alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n         return;\n       }\n@@ -645,16 +638,9 @@\n                         cursor: \"pointer\"\n                       }}\n                     >\n                         {sizes.map((size) => {\n-                          let sizeQuantity = 0;\n-                          if (productStock) {\n-                            if (productStock[`quantity${size}`] !== undefined) {\n-                              sizeQuantity = productStock[`quantity${size}`];\n-                            } else if (productStock.stock && productStock.stock[size] !== undefined) {\n-                              sizeQuantity = productStock.stock[size];\n-                            }\n-                          }\n+                          const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n                           const isDisabled = sizeQuantity === 0;\n                           return (\n                             <option \n                               key={size} \n@@ -681,19 +667,9 @@\n                   <label style={{ display: \"block\", marginBottom: \"8px\", fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n                     SỐ LƯỢNG TỒN KHO\n                   </label>\n                   <div style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                    {(() => {\n-                      let selectedStock = 0;\n-                      if (productStock) {\n-                        if (productStock[`quantity${selectedSize}`] !== undefined) {\n-                          selectedStock = productStock[`quantity${selectedSize}`];\n-                        } else if (productStock.stock && productStock.stock[selectedSize] !== undefined) {\n-                          selectedStock = productStock.stock[selectedSize];\n-                        }\n-                      }\n-                      return `${selectedStock} sản phẩm`;\n-                    })()}\n+                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} sản phẩm\n                   </div>\n                 </div>\n               </div>\n             </div>\n"
                },
                {
                    "date": 1747362842206,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,13 +45,26 @@\n       alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n-  const handleEdit = (item) => {\n+  const handleEdit = async (item) => {\n     setEditingItem(item);\n     setSelectedSize(item.size || \"M\");\n     setEditingQuantity(item.quantity);\n     setShowEditModal(true);\n+\n+    // Fetch lại thông tin sản phẩm để lấy stock\n+    try {\n+      const res = await fetch(`/api/products/by-id/${item.id}`);\n+      const data = await res.json();\n+      if (data.ok) {\n+        setProductStock(data.product);\n+      } else {\n+        setProductStock(null);\n+      }\n+    } catch (err) {\n+      setProductStock(null);\n+    }\n   };\n \n   const handleSizeChange = async (e) => {\n     const newSize = e.target.value;\n"
                },
                {
                    "date": 1747362918901,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,26 +45,13 @@\n       alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n-  const handleEdit = async (item) => {\n+  const handleEdit = (item) => {\n     setEditingItem(item);\n     setSelectedSize(item.size || \"M\");\n     setEditingQuantity(item.quantity);\n     setShowEditModal(true);\n-\n-    // Fetch lại thông tin sản phẩm để lấy stock\n-    try {\n-      const res = await fetch(`/api/products/by-id/${item.id}`);\n-      const data = await res.json();\n-      if (data.ok) {\n-        setProductStock(data.product);\n-      } else {\n-        setProductStock(null);\n-      }\n-    } catch (err) {\n-      setProductStock(null);\n-    }\n   };\n \n   const handleSizeChange = async (e) => {\n     const newSize = e.target.value;\n"
                },
                {
                    "date": 1747363185378,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,13 +45,26 @@\n       alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n-  const handleEdit = (item) => {\n+  const handleEdit = async (item) => {\n     setEditingItem(item);\n     setSelectedSize(item.size || \"M\");\n     setEditingQuantity(item.quantity);\n     setShowEditModal(true);\n+\n+    // Fetch lại thông tin sản phẩm để lấy stock\n+    try {\n+      const res = await fetch(`/api/products/${item.id}`);\n+      const data = await res.json();\n+      if (data.ok) {\n+        setProductStock(data.product);\n+      } else {\n+        setProductStock(null);\n+      }\n+    } catch (err) {\n+      setProductStock(null);\n+    }\n   };\n \n   const handleSizeChange = async (e) => {\n     const newSize = e.target.value;\n"
                },
                {
                    "date": 1747363211616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,26 +45,13 @@\n       alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n-  const handleEdit = async (item) => {\n+  const handleEdit = (item) => {\n     setEditingItem(item);\n     setSelectedSize(item.size || \"M\");\n     setEditingQuantity(item.quantity);\n     setShowEditModal(true);\n-\n-    // Fetch lại thông tin sản phẩm để lấy stock\n-    try {\n-      const res = await fetch(`/api/products/${item.id}`);\n-      const data = await res.json();\n-      if (data.ok) {\n-        setProductStock(data.product);\n-      } else {\n-        setProductStock(null);\n-      }\n-    } catch (err) {\n-      setProductStock(null);\n-    }\n   };\n \n   const handleSizeChange = async (e) => {\n     const newSize = e.target.value;\n"
                },
                {
                    "date": 1747363223871,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,13 +45,26 @@\n       alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n-  const handleEdit = (item) => {\n+  const handleEdit = async (item) => {\n     setEditingItem(item);\n     setSelectedSize(item.size || \"M\");\n     setEditingQuantity(item.quantity);\n     setShowEditModal(true);\n+\n+    // Fetch lại thông tin sản phẩm để lấy stock\n+    try {\n+      const res = await fetch(`/api/products/${item.id}`);\n+      const data = await res.json();\n+      if (data.ok) {\n+        setProductStock(data.product);\n+      } else {\n+        setProductStock(null);\n+      }\n+    } catch (err) {\n+      setProductStock(null);\n+    }\n   };\n \n   const handleSizeChange = async (e) => {\n     const newSize = e.target.value;\n"
                },
                {
                    "date": 1747367085094,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -318,9 +318,9 @@\n                         fontSize: \"0.7em\",\n                         color: \"#000000\",\n                         marginBottom: \"4px\"\n                       }}>\n-                          {item.shippingInfo || \"Dự kiến 5 ngày\"}\n+                          {item.shippingInfo || \"Dự kiến 2-3 ngày\"}\n                       </p>\n                       <div className=\"flex items-center mt-4 space-x-2\">\n                         <button\n                             onClick={() => handleQuantityChange(item, item.quantity - 1)}\n@@ -505,9 +505,9 @@\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n                             <span>Thời gian:</span>\n-                            <span>{item.shippingInfo || \"Dự kiến 5 ngày\"}</span>\n+                            <span>{item.shippingInfo || \"Dự kiến 2-3 ngày\"}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n                           justifyContent: \"space-between\",\n"
                },
                {
                    "date": 1747367402253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -568,9 +568,9 @@\n                     marginTop: \"20px\"\n                   }}>\n                     <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>+61 1300492212</p>\n-                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>clientservice.au@gucci.com</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n"
                },
                {
                    "date": 1747367408643,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -567,9 +567,9 @@\n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n                     <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n-                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>+61 1300492212</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n"
                },
                {
                    "date": 1747380310861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -296,16 +296,16 @@\n                         fontSize: \"0.7em\",\n                         color: \"#000000\",\n                         marginBottom: \"4px\"\n                       }}>\n-                          Màu: {item.color || \"Đen\"}\n+                          Color: {item.color || \"Black\"}\n                       </p>\n                       <p style={{ \n                         fontSize: \"0.7em\",\n                         color: \"#000000\",\n                         marginBottom: \"4px\"\n                       }}>\n-                          Size: {item.size || \"M\"}\n+                          Size: {item.size || \"Unknown\"}\n                       </p>\n                       <p style={{ \n                         fontSize: \"0.7em\",\n                         fontWeight: \"bold\",\n@@ -318,9 +318,9 @@\n                         fontSize: \"0.7em\",\n                         color: \"#000000\",\n                         marginBottom: \"4px\"\n                       }}>\n-                          {item.shippingInfo || \"Dự kiến 2-3 ngày\"}\n+                          {item.shippingInfo || \"Expected 2-3 days\"}\n                       </p>\n                       <div className=\"flex items-center mt-4 space-x-2\">\n                         <button\n                             onClick={() => handleQuantityChange(item, item.quantity - 1)}\n@@ -474,9 +474,9 @@\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>Số lượng:</span>\n+                            <span>Quantity:</span>\n                           <span>{item.quantity}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n@@ -484,10 +484,10 @@\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>Màu:</span>\n-                            <span>{item.color || \"Đen\"}</span>\n+                            <span>Color:</span>\n+                            <span>{item.color || \"Black\"}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n                           justifyContent: \"space-between\",\n@@ -504,19 +504,19 @@\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>Thời gian:</span>\n-                            <span>{item.shippingInfo || \"Dự kiến 2-3 ngày\"}</span>\n+                            <span>Time:</span>\n+                            <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n                           justifyContent: \"space-between\",\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>Giá:</span>\n+                            <span>Price:</span>\n                             <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n                         </div>\n                       </div>\n                     </div>\n@@ -619,9 +619,9 @@\n                     marginBottom: \"16px\"\n                   }}\n                 />\n                 <div style={{ textAlign: \"center\" }}>\n-                    <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Màu: {editingItem.color || \"Đen\"}</p>\n+                    <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Color: {editingItem.color || \"Black\"}</p>\n                     <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>Size: {editingItem.size || \"M\"}</p>\n                 </div>\n               </div>\n               <div className=\"md:w-1/2 p-6\">\n"
                },
                {
                    "date": 1747380365680,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -372,9 +372,9 @@\n                             fontSize: \"0.7em\", \n                             color: \"#000000\",\n                             marginLeft: \"8px\"\n                           }}>\n-                            (Còn {item.currentStock || item.stock?.[item.size] || 0} sản phẩm)\n+                            ({item.currentStock || item.stock?.[item.size] || 0} items left)\n                           </span>\n                       </div>\n                       <div className=\"flex space-x-4 mt-4 items-center\">\n                         <button\n@@ -528,10 +528,10 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>Vận chuyển</span>\n-                      <span>Miễn phí (Express)</span>\n+                      <span>Shipping</span>\n+                      <span>Free (Express)</span>\n                   </div>\n                     {isPromoApplied && (\n                   <div style={{\n                     display: \"flex\",\n@@ -539,9 +539,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>Giảm giá</span>\n+                        <span>Discount</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -551,9 +551,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>Tổng cộng</span>\n+                      <span>Total</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n"
                },
                {
                    "date": 1747380433108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -677,12 +677,12 @@\n                   </div>\n                 </div>\n                 <div className=\"mb-6\">\n                   <label style={{ display: \"block\", marginBottom: \"8px\", fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n-                    SỐ LƯỢNG TỒN KHO\n+                    STOCK QUANTITY\n                   </label>\n                   <div style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} sản phẩm\n+                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} items\n                   </div>\n                 </div>\n               </div>\n             </div>\n"
                },
                {
                    "date": 1747387791761,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,12 +201,12 @@\n         style={{\n           backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n+        <h1 className=\"text-2xl sm:text-4xl font-bold uppercase text-center\">SHOPPING BAG</h1>\n       </motion.div>\n \n-      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n+      <div className=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 pt-8 pb-8\">\n         {cartItems.length === 0 ? (\n           <div className=\"text-center py-16\">\n             <h1 style={{\n               fontSize: \"1.5em\",\n@@ -242,179 +242,62 @@\n               Khám phá sản phẩm\n             </button>\n           </div>\n         ) : (\n-          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n+          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n             <motion.div\n               initial={{ opacity: 0, y: 20 }}\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n               className=\"lg:col-span-7\"\n             >\n-              <div className=\"mb-6\">\n-                <h2 style={{\n-                  fontSize: \"1em\",\n-                  fontWeight: \"bold\",\n-                  marginBottom: \"15px\",\n-                  color: \"#000000\",\n-                  textAlign: \"left\",\n-                  borderBottom: \"1px solid #000000\",\n-                  paddingBottom: \"10px\"\n-                }}>\n-                  YOUR SELECTIONS\n-                </h2>\n+              <div className=\"mb-4 md:mb-6\">\n+                <h2 className=\"text-base md:text-lg font-bold mb-2 md:mb-4 text-black border-b border-black pb-2\">YOUR SELECTIONS</h2>\n               </div>\n               {cartItems.map((item) => (\n-                <div key={item.cartItemId || `${item.id}-${item.size}`}>\n-                  <motion.div\n-                    initial={{ opacity: 0, y: 10 }}\n-                    animate={{ opacity: 1, y: 0 }}\n-                    transition={{ duration: 0.3 }}\n-                    className={`flex items-start mb-8 pb-12`}\n-                  >\n-                    <img\n-                      src={item.image}\n-                      alt={item.name}\n-                      className=\"w-40 h-40 object-cover mr-6 rounded\"\n-                    />\n-                    <div className=\"flex-1 flex flex-col\">\n-                      <div className=\"flex justify-between items-start\">\n-                        <p style={{ \n-                          fontSize: \"0.9em\",\n-                          fontWeight: \"bold\",\n-                          color: \"#000000\",\n-                          marginBottom: \"6px\"\n-                        }}>{item.name}</p>\n-                        <p style={{ \n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                          fontWeight: \"bold\"\n-                        }}>\n-                            {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n-                        </p>\n-                      </div>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          Color: {item.color || \"Black\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          Size: {item.size || \"Unknown\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        fontWeight: \"bold\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          {item.status || \"ORDER\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          {item.shippingInfo || \"Expected 2-3 days\"}\n-                      </p>\n-                      <div className=\"flex items-center mt-4 space-x-2\">\n-                        <button\n-                            onClick={() => handleQuantityChange(item, item.quantity - 1)}\n-                          style={{\n-                            width: \"24px\",\n-                            height: \"24px\",\n-                            display: \"flex\",\n-                            justifyContent: \"center\",\n-                            alignItems: \"center\",\n-                            border: \"1px solid #000000\",\n-                            color: \"#000000\",\n-                            fontSize: \"0.7em\",\n-                            backgroundColor: \"transparent\",\n-                            cursor: \"pointer\"\n-                          }}\n-                          disabled={item.quantity <= 1}\n-                        >\n-                          −\n-                        </button>\n-                        <span style={{\n-                          width: \"24px\",\n-                          textAlign: \"center\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                          border: \"1px solid #000000\",\n-                          padding: \"2px 0\"\n-                        }}>\n-                          {item.quantity}\n-                        </span>\n-                        <button\n-                            onClick={() => handleQuantityChange(item, item.quantity + 1)}\n-                          style={{\n-                            width: \"24px\",\n-                            height: \"24px\",\n-                            display: \"flex\",\n-                            justifyContent: \"center\",\n-                            alignItems: \"center\",\n-                            border: \"1px solid #000000\",\n-                            color: \"#000000\",\n-                            fontSize: \"0.7em\",\n-                            backgroundColor: \"transparent\",\n-                            cursor: \"pointer\"\n-                          }}\n-                            disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n-                        >\n-                          +\n-                        </button>\n-                          <span style={{ \n-                            fontSize: \"0.7em\", \n-                            color: \"#000000\",\n-                            marginLeft: \"8px\"\n-                          }}>\n-                            ({item.currentStock || item.stock?.[item.size] || 0} items left)\n-                          </span>\n-                      </div>\n-                      <div className=\"flex space-x-4 mt-4 items-center\">\n-                        <button\n-                          onClick={() => handleEdit(item)}\n-                          style={{\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            textDecoration: \"underline\",\n-                            backgroundColor: \"transparent\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                            fontWeight: \"bold\"\n-                          }}\n-                        >\n-                          EDIT\n-                        </button>\n-                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n-                        <button\n-                          onClick={() => handleDelete(item)}\n-                          style={{\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            textDecoration: \"underline\",\n-                            backgroundColor: \"transparent\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                            fontWeight: \"bold\"\n-                          }}\n-                          onMouseOver={(e) => e.target.style.color = \"#dc2626\"}\n-                          onMouseOut={(e) => e.target.style.color = \"#000000\"}\n-                        >\n-                          REMOVE\n-                        </button>\n-                      </div>\n+                <div key={item.cartItemId || `${item.id}-${item.size}`}\n+                  className=\"mb-6 md:mb-8 pb-6 md:pb-12 border-b border-gray-200 last:border-b-0 flex flex-col md:flex-row gap-4 md:gap-0\"\n+                >\n+                  <img\n+                    src={item.image}\n+                    alt={item.name}\n+                    className=\"w-24 h-24 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n+                  />\n+                  <div className=\"flex-1 flex flex-col\">\n+                    <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n+                      <p className=\"text-sm md:text-base font-bold text-black mb-1\">{item.name}</p>\n+                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n                     </div>\n-                  </motion.div>\n-                  {item !== cartItems[cartItems.length - 1] && (\n-                      <hr style={{ width: \"100%\", borderBottom: \"1px solid #000000\", marginBottom: \"32px\" }} />\n-                  )}\n+                    <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n+                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n+                    <div className=\"flex items-center mt-2 gap-2\">\n+                      <button\n+                        onClick={() => handleQuantityChange(item, item.quantity - 1)}\n+                        className=\"w-7 h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n+                        disabled={item.quantity <= 1}\n+                      >−</button>\n+                      <span className=\"w-7 text-center text-xs text-black border border-black py-1\">{item.quantity}</span>\n+                      <button\n+                        onClick={() => handleQuantityChange(item, item.quantity + 1)}\n+                        className=\"w-7 h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n+                        disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n+                      >+</button>\n+                      <span className=\"text-xs text-black ml-2\">({item.currentStock || item.stock?.[item.size] || 0} items left)</span>\n+                    </div>\n+                    <div className=\"flex gap-2 mt-2 items-center\">\n+                      <button\n+                        onClick={() => handleEdit(item)}\n+                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n+                      >EDIT</button>\n+                      <span className=\"text-xs text-black font-bold\">|</span>\n+                      <button\n+                        onClick={() => handleDelete(item)}\n+                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n+                      >DELETE</button>\n+                    </div>\n+                  </div>\n                 </div>\n               ))}\n             </motion.div>\n \n"
                },
                {
                    "date": 1747387834115,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,12 +201,12 @@\n         style={{\n           backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n         }}\n       >\n-        <h1 className=\"text-2xl sm:text-4xl font-bold uppercase text-center\">SHOPPING BAG</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n       </motion.div>\n \n-      <div className=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 pt-8 pb-8\">\n+      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n         {cartItems.length === 0 ? (\n           <div className=\"text-center py-16\">\n             <h1 style={{\n               fontSize: \"1.5em\",\n@@ -242,62 +242,179 @@\n               Khám phá sản phẩm\n             </button>\n           </div>\n         ) : (\n-          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n+          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n             <motion.div\n               initial={{ opacity: 0, y: 20 }}\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n               className=\"lg:col-span-7\"\n             >\n-              <div className=\"mb-4 md:mb-6\">\n-                <h2 className=\"text-base md:text-lg font-bold mb-2 md:mb-4 text-black border-b border-black pb-2\">YOUR SELECTIONS</h2>\n+              <div className=\"mb-6\">\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  YOUR SELECTIONS\n+                </h2>\n               </div>\n               {cartItems.map((item) => (\n-                <div key={item.cartItemId || `${item.id}-${item.size}`}\n-                  className=\"mb-6 md:mb-8 pb-6 md:pb-12 border-b border-gray-200 last:border-b-0 flex flex-col md:flex-row gap-4 md:gap-0\"\n-                >\n-                  <img\n-                    src={item.image}\n-                    alt={item.name}\n-                    className=\"w-24 h-24 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n-                  />\n-                  <div className=\"flex-1 flex flex-col\">\n-                    <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n-                      <p className=\"text-sm md:text-base font-bold text-black mb-1\">{item.name}</p>\n-                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n+                <div key={item.cartItemId || `${item.id}-${item.size}`}>\n+                  <motion.div\n+                    initial={{ opacity: 0, y: 10 }}\n+                    animate={{ opacity: 1, y: 0 }}\n+                    transition={{ duration: 0.3 }}\n+                    className={`flex items-start mb-8 pb-12`}\n+                  >\n+                    <img\n+                      src={item.image}\n+                      alt={item.name}\n+                      className=\"w-40 h-40 object-cover mr-6 rounded\"\n+                    />\n+                    <div className=\"flex-1 flex flex-col\">\n+                      <div className=\"flex justify-between items-start\">\n+                        <p style={{ \n+                          fontSize: \"0.9em\",\n+                          fontWeight: \"bold\",\n+                          color: \"#000000\",\n+                          marginBottom: \"6px\"\n+                        }}>{item.name}</p>\n+                        <p style={{ \n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                          fontWeight: \"bold\"\n+                        }}>\n+                            {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n+                        </p>\n+                      </div>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n+                          Color: {item.color || \"Black\"}\n+                      </p>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n+                          Size: {item.size || \"Unknown\"}\n+                      </p>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        fontWeight: \"bold\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n+                          {item.status || \"ORDER\"}\n+                      </p>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n+                          {item.shippingInfo || \"Expected 2-3 days\"}\n+                      </p>\n+                      <div className=\"flex items-center mt-4 space-x-2\">\n+                        <button\n+                            onClick={() => handleQuantityChange(item, item.quantity - 1)}\n+                          style={{\n+                            width: \"24px\",\n+                            height: \"24px\",\n+                            display: \"flex\",\n+                            justifyContent: \"center\",\n+                            alignItems: \"center\",\n+                            border: \"1px solid #000000\",\n+                            color: \"#000000\",\n+                            fontSize: \"0.7em\",\n+                            backgroundColor: \"transparent\",\n+                            cursor: \"pointer\"\n+                          }}\n+                          disabled={item.quantity <= 1}\n+                        >\n+                          −\n+                        </button>\n+                        <span style={{\n+                          width: \"24px\",\n+                          textAlign: \"center\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                          border: \"1px solid #000000\",\n+                          padding: \"2px 0\"\n+                        }}>\n+                          {item.quantity}\n+                        </span>\n+                        <button\n+                            onClick={() => handleQuantityChange(item, item.quantity + 1)}\n+                          style={{\n+                            width: \"24px\",\n+                            height: \"24px\",\n+                            display: \"flex\",\n+                            justifyContent: \"center\",\n+                            alignItems: \"center\",\n+                            border: \"1px solid #000000\",\n+                            color: \"#000000\",\n+                            fontSize: \"0.7em\",\n+                            backgroundColor: \"transparent\",\n+                            cursor: \"pointer\"\n+                          }}\n+                            disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n+                        >\n+                          +\n+                        </button>\n+                          <span style={{ \n+                            fontSize: \"0.7em\", \n+                            color: \"#000000\",\n+                            marginLeft: \"8px\"\n+                          }}>\n+                            ({item.currentStock || item.stock?.[item.size] || 0} items left)\n+                          </span>\n+                      </div>\n+                      <div className=\"flex space-x-4 mt-4 items-center\">\n+                        <button\n+                          onClick={() => handleEdit(item)}\n+                          style={{\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            textDecoration: \"underline\",\n+                            backgroundColor: \"transparent\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                            fontWeight: \"bold\"\n+                          }}\n+                        >\n+                          EDIT\n+                        </button>\n+                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n+                        <button\n+                          onClick={() => handleDelete(item)}\n+                          style={{\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            textDecoration: \"underline\",\n+                            backgroundColor: \"transparent\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                            fontWeight: \"bold\"\n+                          }}\n+                          onMouseOver={(e) => e.target.style.color = \"#dc2626\"}\n+                          onMouseOut={(e) => e.target.style.color = \"#000000\"}\n+                        >\n+                          REMOVE\n+                        </button>\n+                      </div>\n                     </div>\n-                    <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n-                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n-                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n-                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n-                    <div className=\"flex items-center mt-2 gap-2\">\n-                      <button\n-                        onClick={() => handleQuantityChange(item, item.quantity - 1)}\n-                        className=\"w-7 h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n-                        disabled={item.quantity <= 1}\n-                      >−</button>\n-                      <span className=\"w-7 text-center text-xs text-black border border-black py-1\">{item.quantity}</span>\n-                      <button\n-                        onClick={() => handleQuantityChange(item, item.quantity + 1)}\n-                        className=\"w-7 h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n-                        disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n-                      >+</button>\n-                      <span className=\"text-xs text-black ml-2\">({item.currentStock || item.stock?.[item.size] || 0} items left)</span>\n-                    </div>\n-                    <div className=\"flex gap-2 mt-2 items-center\">\n-                      <button\n-                        onClick={() => handleEdit(item)}\n-                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >EDIT</button>\n-                      <span className=\"text-xs text-black font-bold\">|</span>\n-                      <button\n-                        onClick={() => handleDelete(item)}\n-                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >DELETE</button>\n-                    </div>\n-                  </div>\n+                  </motion.div>\n+                  {item !== cartItems[cartItems.length - 1] && (\n+                      <hr style={{ width: \"100%\", borderBottom: \"1px solid #000000\", marginBottom: \"32px\" }} />\n+                  )}\n                 </div>\n               ))}\n             </motion.div>\n \n"
                },
                {
                    "date": 1747387949777,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,12 +201,12 @@\n         style={{\n           backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n+        <h1 className=\"text-2xl md:text-5xl font-bold uppercase text-center\">SHOPPING BAG</h1>\n       </motion.div>\n \n-      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n+      <div className=\"max-w-7xl mx-auto px-2 md:px-4 lg:px-8 pt-8 md:pt-16 pb-8 md:pb-16\">\n         {cartItems.length === 0 ? (\n           <div className=\"text-center py-16\">\n             <h1 style={{\n               fontSize: \"1.5em\",\n@@ -242,179 +242,62 @@\n               Khám phá sản phẩm\n             </button>\n           </div>\n         ) : (\n-          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n+          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-3 md:gap-6\">\n             <motion.div\n               initial={{ opacity: 0, y: 20 }}\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n               className=\"lg:col-span-7\"\n             >\n-              <div className=\"mb-6\">\n-                <h2 style={{\n-                  fontSize: \"1em\",\n-                  fontWeight: \"bold\",\n-                  marginBottom: \"15px\",\n-                  color: \"#000000\",\n-                  textAlign: \"left\",\n-                  borderBottom: \"1px solid #000000\",\n-                  paddingBottom: \"10px\"\n-                }}>\n-                  YOUR SELECTIONS\n-                </h2>\n+              <div className=\"mb-4 md:mb-6\">\n+                <h2 className=\"text-base md:text-lg font-bold mb-2 md:mb-4 text-black border-b border-black pb-2\">YOUR SELECTIONS</h2>\n               </div>\n               {cartItems.map((item) => (\n-                <div key={item.cartItemId || `${item.id}-${item.size}`}>\n-                  <motion.div\n-                    initial={{ opacity: 0, y: 10 }}\n-                    animate={{ opacity: 1, y: 0 }}\n-                    transition={{ duration: 0.3 }}\n-                    className={`flex items-start mb-8 pb-12`}\n-                  >\n-                    <img\n-                      src={item.image}\n-                      alt={item.name}\n-                      className=\"w-40 h-40 object-cover mr-6 rounded\"\n-                    />\n-                    <div className=\"flex-1 flex flex-col\">\n-                      <div className=\"flex justify-between items-start\">\n-                        <p style={{ \n-                          fontSize: \"0.9em\",\n-                          fontWeight: \"bold\",\n-                          color: \"#000000\",\n-                          marginBottom: \"6px\"\n-                        }}>{item.name}</p>\n-                        <p style={{ \n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                          fontWeight: \"bold\"\n-                        }}>\n-                            {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n-                        </p>\n-                      </div>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          Color: {item.color || \"Black\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          Size: {item.size || \"Unknown\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        fontWeight: \"bold\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          {item.status || \"ORDER\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          {item.shippingInfo || \"Expected 2-3 days\"}\n-                      </p>\n-                      <div className=\"flex items-center mt-4 space-x-2\">\n-                        <button\n-                            onClick={() => handleQuantityChange(item, item.quantity - 1)}\n-                          style={{\n-                            width: \"24px\",\n-                            height: \"24px\",\n-                            display: \"flex\",\n-                            justifyContent: \"center\",\n-                            alignItems: \"center\",\n-                            border: \"1px solid #000000\",\n-                            color: \"#000000\",\n-                            fontSize: \"0.7em\",\n-                            backgroundColor: \"transparent\",\n-                            cursor: \"pointer\"\n-                          }}\n-                          disabled={item.quantity <= 1}\n-                        >\n-                          −\n-                        </button>\n-                        <span style={{\n-                          width: \"24px\",\n-                          textAlign: \"center\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                          border: \"1px solid #000000\",\n-                          padding: \"2px 0\"\n-                        }}>\n-                          {item.quantity}\n-                        </span>\n-                        <button\n-                            onClick={() => handleQuantityChange(item, item.quantity + 1)}\n-                          style={{\n-                            width: \"24px\",\n-                            height: \"24px\",\n-                            display: \"flex\",\n-                            justifyContent: \"center\",\n-                            alignItems: \"center\",\n-                            border: \"1px solid #000000\",\n-                            color: \"#000000\",\n-                            fontSize: \"0.7em\",\n-                            backgroundColor: \"transparent\",\n-                            cursor: \"pointer\"\n-                          }}\n-                            disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n-                        >\n-                          +\n-                        </button>\n-                          <span style={{ \n-                            fontSize: \"0.7em\", \n-                            color: \"#000000\",\n-                            marginLeft: \"8px\"\n-                          }}>\n-                            ({item.currentStock || item.stock?.[item.size] || 0} items left)\n-                          </span>\n-                      </div>\n-                      <div className=\"flex space-x-4 mt-4 items-center\">\n-                        <button\n-                          onClick={() => handleEdit(item)}\n-                          style={{\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            textDecoration: \"underline\",\n-                            backgroundColor: \"transparent\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                            fontWeight: \"bold\"\n-                          }}\n-                        >\n-                          EDIT\n-                        </button>\n-                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n-                        <button\n-                          onClick={() => handleDelete(item)}\n-                          style={{\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            textDecoration: \"underline\",\n-                            backgroundColor: \"transparent\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                            fontWeight: \"bold\"\n-                          }}\n-                          onMouseOver={(e) => e.target.style.color = \"#dc2626\"}\n-                          onMouseOut={(e) => e.target.style.color = \"#000000\"}\n-                        >\n-                          REMOVE\n-                        </button>\n-                      </div>\n+                <div key={item.cartItemId || `${item.id}-${item.size}`}\n+                  className=\"mb-4 md:mb-8 pb-4 md:pb-12 border-b border-gray-200 last:border-b-0 flex flex-col md:flex-row gap-2 md:gap-0\"\n+                >\n+                  <img\n+                    src={item.image}\n+                    alt={item.name}\n+                    className=\"w-20 h-20 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n+                  />\n+                  <div className=\"flex-1 flex flex-col\">\n+                    <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n+                      <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n+                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n                     </div>\n-                  </motion.div>\n-                  {item !== cartItems[cartItems.length - 1] && (\n-                      <hr style={{ width: \"100%\", borderBottom: \"1px solid #000000\", marginBottom: \"32px\" }} />\n-                  )}\n+                    <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n+                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n+                    <div className=\"flex items-center mt-2 gap-1 md:gap-2\">\n+                      <button\n+                        onClick={() => handleQuantityChange(item, item.quantity - 1)}\n+                        className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n+                        disabled={item.quantity <= 1}\n+                      >−</button>\n+                      <span className=\"w-6 md:w-7 text-center text-xs text-black border border-black py-1\">{item.quantity}</span>\n+                      <button\n+                        onClick={() => handleQuantityChange(item, item.quantity + 1)}\n+                        className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n+                        disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n+                      >+</button>\n+                      <span className=\"text-xs text-black ml-1 md:ml-2\">({item.currentStock || item.stock?.[item.size] || 0} items left)</span>\n+                    </div>\n+                    <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n+                      <button\n+                        onClick={() => handleEdit(item)}\n+                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n+                      >EDIT</button>\n+                      <span className=\"text-xs text-black font-bold\">|</span>\n+                      <button\n+                        onClick={() => handleDelete(item)}\n+                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n+                      >DELETE</button>\n+                    </div>\n+                  </div>\n                 </div>\n               ))}\n             </motion.div>\n \n@@ -423,159 +306,46 @@\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5, delay: 0.2 }}\n               className=\"lg:col-span-3\"\n             >\n-                <div className=\"bg-white p-6 rounded-lg sticky top-4\" style={{\n-                  boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n-                  border: \"1px solid #e5e7eb\",\n-                  borderRadius: \"8px\",\n-                }}>\n-                <h2 style={{\n-                  fontSize: \"1em\",\n-                  fontWeight: \"bold\",\n-                  marginBottom: \"15px\",\n-                  color: \"#000000\",\n-                  textAlign: \"left\",\n-                  borderBottom: \"1px solid #000000\",\n-                  paddingBottom: \"10px\"\n-                }}>\n-                  ORDER SUMMARY\n-                </h2>\n-                <div className=\"space-y-4\">\n+              <div className=\"bg-white p-3 md:p-6 rounded-lg sticky top-4\" style={{\n+                boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n+                border: \"1px solid #e5e7eb\",\n+                borderRadius: \"8px\",\n+              }}>\n+                <h2 className=\"text-base md:text-lg font-bold mb-2 md:mb-4 text-black border-b border-black pb-2\">ORDER SUMMARY</h2>\n+                <div className=\"space-y-2 md:space-y-4\">\n                   {cartItems.map((item) => (\n-                    <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n-                      display: \"flex\",\n-                      gap: \"15px\",\n-                      marginBottom: \"20px\",\n-                      color: \"#000000\",\n-                    }}>\n+                    <div key={item.cartItemId || `${item.id}-${item.size}`} className=\"flex gap-2 md:gap-4 mb-2 md:mb-4 text-xs md:text-sm\">\n                       <img \n                         src={item.image} \n                         alt={item.name} \n-                        style={{\n-                          width: \"80px\",\n-                          height: \"80px\",\n-                          objectFit: \"cover\",\n-                        }}\n+                        className=\"w-12 h-12 md:w-20 md:h-20 object-cover rounded\"\n                       />\n-                      <div style={{\n-                        color: \"#000000\",\n-                        flex: 1,\n-                      }}>\n-                        <p style={{ \n-                          fontWeight: \"bold\", \n-                          marginBottom: \"6px\", \n-                          fontSize: \"0.9em\" \n-                        }}>\n-                          {item.name}\n-                        </p>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Quantity:</span>\n-                          <span>{item.quantity}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Color:</span>\n-                            <span>{item.color || \"Black\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Size:</span>\n-                          <span>{item.size || \"Unknown\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Time:</span>\n-                            <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Price:</span>\n-                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n-                        </div>\n+                      <div className=\"flex-1\">\n+                        <p className=\"font-bold mb-1 text-xs md:text-sm\">{item.name}</p>\n+                        <div className=\"flex justify-between mb-1 text-xs md:text-sm\"><span>Quantity:</span><span>{item.quantity}</span></div>\n+                        <div className=\"flex justify-between mb-1 text-xs md:text-sm\"><span>Color:</span><span>{item.color || \"Black\"}</span></div>\n+                        <div className=\"flex justify-between mb-1 text-xs md:text-sm\"><span>Size:</span><span>{item.size || \"Unknown\"}</span></div>\n+                        <div className=\"flex justify-between mb-1 text-xs md:text-sm\"><span>Time:</span><span>{item.shippingInfo || \"Expected 2-3 days\"}</span></div>\n+                        <div className=\"flex justify-between mb-1 text-xs md:text-sm\"><span>Price:</span><span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span></div>\n                       </div>\n                     </div>\n                   ))}\n-                  \n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#000000\",\n-                  }}>\n-                      <span>Shipping</span>\n-                      <span>Free (Express)</span>\n-                  </div>\n-                    {isPromoApplied && (\n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#000000\",\n-                  }}>\n-                        <span>Discount</span>\n-                        <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n-                  </div>\n-                    )}\n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    fontWeight: \"bold\",\n-                    color: \"#000000\",\n-                  }}>\n-                      <span>Total</span>\n-                      <span>{calculateTotal()}</span>\n-                    </div>\n-                  </div>\n-                  <div style={{\n-                  paddingTop: \"10px\",\n-                  marginTop: \"20px\"\n-                }}>\n-                  <div style={{ \n-                    borderTop: \"1px solid #000000\", \n-                    borderBottom: \"1px solid #000000\", \n-                    paddingTop: \"10px\", \n-                    paddingBottom: \"10px\",\n-                    marginTop: \"20px\"\n-                  }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n-                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n-                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n-                  </div>\n+                  <div className=\"flex justify-between mb-1 md:mb-2 text-xs md:text-sm\"><span>Shipping</span><span>Free (Express)</span></div>\n+                  {isPromoApplied && (\n+                    <div className=\"flex justify-between mb-1 md:mb-2 text-xs md:text-sm\"><span>Discount</span><span>- {promoAmount.toLocaleString('vi-VN')} VND</span></div>\n+                  )}\n+                  <div className=\"flex justify-between mb-1 md:mb-2 text-xs md:text-sm font-bold\"><span>Total</span><span>{calculateTotal()}</span></div>\n                 </div>\n+                <div className=\"pt-2 md:pt-4 mt-2 md:mt-4 border-t border-b border-black\">\n+                  <p className=\"mb-2 font-bold text-xs md:text-sm text-black\">MAY WE HELP?</p>\n+                  <p className=\"mb-2 text-xs md:text-sm text-black\">0347272386</p>\n+                  <p className=\"mb-2 text-xs md:text-sm text-black\">aish.aish.vn@gmail.com</p>\n+                </div>\n                 <button\n                   onClick={handleCheckout}\n-                  className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n+                  className=\"w-full bg-black text-white text-xs md:text-sm font-semibold py-2 md:py-3 px-2 md:px-4 mt-4 md:mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n                   CHECK OUT\n                 </button>\n               </div>\n"
                },
                {
                    "date": 1747388029152,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,12 +201,12 @@\n         style={{\n           backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n         }}\n       >\n-        <h1 className=\"text-2xl md:text-5xl font-bold uppercase text-center\">SHOPPING BAG</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n       </motion.div>\n \n-      <div className=\"max-w-7xl mx-auto px-2 md:px-4 lg:px-8 pt-8 md:pt-16 pb-8 md:pb-16\">\n+      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n         {cartItems.length === 0 ? (\n           <div className=\"text-center py-16\">\n             <h1 style={{\n               fontSize: \"1.5em\",\n@@ -242,62 +242,179 @@\n               Khám phá sản phẩm\n             </button>\n           </div>\n         ) : (\n-          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-3 md:gap-6\">\n+          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n             <motion.div\n               initial={{ opacity: 0, y: 20 }}\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n               className=\"lg:col-span-7\"\n             >\n-              <div className=\"mb-4 md:mb-6\">\n-                <h2 className=\"text-base md:text-lg font-bold mb-2 md:mb-4 text-black border-b border-black pb-2\">YOUR SELECTIONS</h2>\n+              <div className=\"mb-6\">\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  YOUR SELECTIONS\n+                </h2>\n               </div>\n               {cartItems.map((item) => (\n-                <div key={item.cartItemId || `${item.id}-${item.size}`}\n-                  className=\"mb-4 md:mb-8 pb-4 md:pb-12 border-b border-gray-200 last:border-b-0 flex flex-col md:flex-row gap-2 md:gap-0\"\n-                >\n-                  <img\n-                    src={item.image}\n-                    alt={item.name}\n-                    className=\"w-20 h-20 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n-                  />\n-                  <div className=\"flex-1 flex flex-col\">\n-                    <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n-                      <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n-                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n+                <div key={item.cartItemId || `${item.id}-${item.size}`}>\n+                  <motion.div\n+                    initial={{ opacity: 0, y: 10 }}\n+                    animate={{ opacity: 1, y: 0 }}\n+                    transition={{ duration: 0.3 }}\n+                    className={`flex items-start mb-8 pb-12`}\n+                  >\n+                    <img\n+                      src={item.image}\n+                      alt={item.name}\n+                      className=\"w-40 h-40 object-cover mr-6 rounded\"\n+                    />\n+                    <div className=\"flex-1 flex flex-col\">\n+                      <div className=\"flex justify-between items-start\">\n+                        <p style={{ \n+                          fontSize: \"0.9em\",\n+                          fontWeight: \"bold\",\n+                          color: \"#000000\",\n+                          marginBottom: \"6px\"\n+                        }}>{item.name}</p>\n+                        <p style={{ \n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                          fontWeight: \"bold\"\n+                        }}>\n+                            {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n+                        </p>\n+                      </div>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n+                          Color: {item.color || \"Black\"}\n+                      </p>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n+                          Size: {item.size || \"Unknown\"}\n+                      </p>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        fontWeight: \"bold\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n+                          {item.status || \"ORDER\"}\n+                      </p>\n+                      <p style={{ \n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        marginBottom: \"4px\"\n+                      }}>\n+                          {item.shippingInfo || \"Expected 2-3 days\"}\n+                      </p>\n+                      <div className=\"flex items-center mt-4 space-x-2\">\n+                        <button\n+                            onClick={() => handleQuantityChange(item, item.quantity - 1)}\n+                          style={{\n+                            width: \"24px\",\n+                            height: \"24px\",\n+                            display: \"flex\",\n+                            justifyContent: \"center\",\n+                            alignItems: \"center\",\n+                            border: \"1px solid #000000\",\n+                            color: \"#000000\",\n+                            fontSize: \"0.7em\",\n+                            backgroundColor: \"transparent\",\n+                            cursor: \"pointer\"\n+                          }}\n+                          disabled={item.quantity <= 1}\n+                        >\n+                          −\n+                        </button>\n+                        <span style={{\n+                          width: \"24px\",\n+                          textAlign: \"center\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                          border: \"1px solid #000000\",\n+                          padding: \"2px 0\"\n+                        }}>\n+                          {item.quantity}\n+                        </span>\n+                        <button\n+                            onClick={() => handleQuantityChange(item, item.quantity + 1)}\n+                          style={{\n+                            width: \"24px\",\n+                            height: \"24px\",\n+                            display: \"flex\",\n+                            justifyContent: \"center\",\n+                            alignItems: \"center\",\n+                            border: \"1px solid #000000\",\n+                            color: \"#000000\",\n+                            fontSize: \"0.7em\",\n+                            backgroundColor: \"transparent\",\n+                            cursor: \"pointer\"\n+                          }}\n+                            disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n+                        >\n+                          +\n+                        </button>\n+                          <span style={{ \n+                            fontSize: \"0.7em\", \n+                            color: \"#000000\",\n+                            marginLeft: \"8px\"\n+                          }}>\n+                            ({item.currentStock || item.stock?.[item.size] || 0} items left)\n+                          </span>\n+                      </div>\n+                      <div className=\"flex space-x-4 mt-4 items-center\">\n+                        <button\n+                          onClick={() => handleEdit(item)}\n+                          style={{\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            textDecoration: \"underline\",\n+                            backgroundColor: \"transparent\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                            fontWeight: \"bold\"\n+                          }}\n+                        >\n+                          EDIT\n+                        </button>\n+                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n+                        <button\n+                          onClick={() => handleDelete(item)}\n+                          style={{\n+                            fontSize: \"0.7em\",\n+                            color: \"#000000\",\n+                            textDecoration: \"underline\",\n+                            backgroundColor: \"transparent\",\n+                            border: \"none\",\n+                            cursor: \"pointer\",\n+                            fontWeight: \"bold\"\n+                          }}\n+                          onMouseOver={(e) => e.target.style.color = \"#dc2626\"}\n+                          onMouseOut={(e) => e.target.style.color = \"#000000\"}\n+                        >\n+                          REMOVE\n+                        </button>\n+                      </div>\n                     </div>\n-                    <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n-                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n-                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n-                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n-                    <div className=\"flex items-center mt-2 gap-1 md:gap-2\">\n-                      <button\n-                        onClick={() => handleQuantityChange(item, item.quantity - 1)}\n-                        className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n-                        disabled={item.quantity <= 1}\n-                      >−</button>\n-                      <span className=\"w-6 md:w-7 text-center text-xs text-black border border-black py-1\">{item.quantity}</span>\n-                      <button\n-                        onClick={() => handleQuantityChange(item, item.quantity + 1)}\n-                        className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n-                        disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n-                      >+</button>\n-                      <span className=\"text-xs text-black ml-1 md:ml-2\">({item.currentStock || item.stock?.[item.size] || 0} items left)</span>\n-                    </div>\n-                    <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n-                      <button\n-                        onClick={() => handleEdit(item)}\n-                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >EDIT</button>\n-                      <span className=\"text-xs text-black font-bold\">|</span>\n-                      <button\n-                        onClick={() => handleDelete(item)}\n-                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >DELETE</button>\n-                    </div>\n-                  </div>\n+                  </motion.div>\n+                  {item !== cartItems[cartItems.length - 1] && (\n+                      <hr style={{ width: \"100%\", borderBottom: \"1px solid #000000\", marginBottom: \"32px\" }} />\n+                  )}\n                 </div>\n               ))}\n             </motion.div>\n \n@@ -306,46 +423,159 @@\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5, delay: 0.2 }}\n               className=\"lg:col-span-3\"\n             >\n-              <div className=\"bg-white p-3 md:p-6 rounded-lg sticky top-4\" style={{\n-                boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n-                border: \"1px solid #e5e7eb\",\n-                borderRadius: \"8px\",\n-              }}>\n-                <h2 className=\"text-base md:text-lg font-bold mb-2 md:mb-4 text-black border-b border-black pb-2\">ORDER SUMMARY</h2>\n-                <div className=\"space-y-2 md:space-y-4\">\n+                <div className=\"bg-white p-6 rounded-lg sticky top-4\" style={{\n+                  boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n+                  border: \"1px solid #e5e7eb\",\n+                  borderRadius: \"8px\",\n+                }}>\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  ORDER SUMMARY\n+                </h2>\n+                <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n-                    <div key={item.cartItemId || `${item.id}-${item.size}`} className=\"flex gap-2 md:gap-4 mb-2 md:mb-4 text-xs md:text-sm\">\n+                    <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n+                      display: \"flex\",\n+                      gap: \"15px\",\n+                      marginBottom: \"20px\",\n+                      color: \"#000000\",\n+                    }}>\n                       <img \n                         src={item.image} \n                         alt={item.name} \n-                        className=\"w-12 h-12 md:w-20 md:h-20 object-cover rounded\"\n+                        style={{\n+                          width: \"80px\",\n+                          height: \"80px\",\n+                          objectFit: \"cover\",\n+                        }}\n                       />\n-                      <div className=\"flex-1\">\n-                        <p className=\"font-bold mb-1 text-xs md:text-sm\">{item.name}</p>\n-                        <div className=\"flex justify-between mb-1 text-xs md:text-sm\"><span>Quantity:</span><span>{item.quantity}</span></div>\n-                        <div className=\"flex justify-between mb-1 text-xs md:text-sm\"><span>Color:</span><span>{item.color || \"Black\"}</span></div>\n-                        <div className=\"flex justify-between mb-1 text-xs md:text-sm\"><span>Size:</span><span>{item.size || \"Unknown\"}</span></div>\n-                        <div className=\"flex justify-between mb-1 text-xs md:text-sm\"><span>Time:</span><span>{item.shippingInfo || \"Expected 2-3 days\"}</span></div>\n-                        <div className=\"flex justify-between mb-1 text-xs md:text-sm\"><span>Price:</span><span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span></div>\n+                      <div style={{\n+                        color: \"#000000\",\n+                        flex: 1,\n+                      }}>\n+                        <p style={{ \n+                          fontWeight: \"bold\", \n+                          marginBottom: \"6px\", \n+                          fontSize: \"0.9em\" \n+                        }}>\n+                          {item.name}\n+                        </p>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Quantity:</span>\n+                          <span>{item.quantity}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Color:</span>\n+                            <span>{item.color || \"Black\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Size:</span>\n+                          <span>{item.size || \"Unknown\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Time:</span>\n+                            <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Price:</span>\n+                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n+                        </div>\n                       </div>\n                     </div>\n                   ))}\n-                  <div className=\"flex justify-between mb-1 md:mb-2 text-xs md:text-sm\"><span>Shipping</span><span>Free (Express)</span></div>\n-                  {isPromoApplied && (\n-                    <div className=\"flex justify-between mb-1 md:mb-2 text-xs md:text-sm\"><span>Discount</span><span>- {promoAmount.toLocaleString('vi-VN')} VND</span></div>\n-                  )}\n-                  <div className=\"flex justify-between mb-1 md:mb-2 text-xs md:text-sm font-bold\"><span>Total</span><span>{calculateTotal()}</span></div>\n+                  \n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                  }}>\n+                      <span>Shipping</span>\n+                      <span>Free (Express)</span>\n+                  </div>\n+                    {isPromoApplied && (\n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                  }}>\n+                        <span>Discount</span>\n+                        <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n+                  </div>\n+                    )}\n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    fontWeight: \"bold\",\n+                    color: \"#000000\",\n+                  }}>\n+                      <span>Total</span>\n+                      <span>{calculateTotal()}</span>\n+                    </div>\n+                  </div>\n+                  <div style={{\n+                  paddingTop: \"10px\",\n+                  marginTop: \"20px\"\n+                }}>\n+                  <div style={{ \n+                    borderTop: \"1px solid #000000\", \n+                    borderBottom: \"1px solid #000000\", \n+                    paddingTop: \"10px\", \n+                    paddingBottom: \"10px\",\n+                    marginTop: \"20px\"\n+                  }}>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n+                  </div>\n                 </div>\n-                <div className=\"pt-2 md:pt-4 mt-2 md:mt-4 border-t border-b border-black\">\n-                  <p className=\"mb-2 font-bold text-xs md:text-sm text-black\">MAY WE HELP?</p>\n-                  <p className=\"mb-2 text-xs md:text-sm text-black\">0347272386</p>\n-                  <p className=\"mb-2 text-xs md:text-sm text-black\">aish.aish.vn@gmail.com</p>\n-                </div>\n                 <button\n                   onClick={handleCheckout}\n-                  className=\"w-full bg-black text-white text-xs md:text-sm font-semibold py-2 md:py-3 px-2 md:px-4 mt-4 md:mt-8 rounded hover:bg-gray-800 transition-colors\"\n+                  className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n                   CHECK OUT\n                 </button>\n               </div>\n"
                },
                {
                    "date": 1747388162628,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,12 +201,12 @@\n         style={{\n           backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n \n-      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n+      <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n           <div className=\"text-center py-16\">\n             <h1 style={{\n               fontSize: \"1.5em\",\n@@ -242,9 +242,9 @@\n               Khám phá sản phẩm\n             </button>\n           </div>\n         ) : (\n-          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n+          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n             <motion.div\n               initial={{ opacity: 0, y: 20 }}\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n@@ -263,158 +263,51 @@\n                   YOUR SELECTIONS\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n-                <div key={item.cartItemId || `${item.id}-${item.size}`}>\n-                  <motion.div\n-                    initial={{ opacity: 0, y: 10 }}\n-                    animate={{ opacity: 1, y: 0 }}\n-                    transition={{ duration: 0.3 }}\n-                    className={`flex items-start mb-8 pb-12`}\n-                  >\n-                    <img\n-                      src={item.image}\n-                      alt={item.name}\n-                      className=\"w-40 h-40 object-cover mr-6 rounded\"\n-                    />\n-                    <div className=\"flex-1 flex flex-col\">\n-                      <div className=\"flex justify-between items-start\">\n-                        <p style={{ \n-                          fontSize: \"0.9em\",\n-                          fontWeight: \"bold\",\n-                          color: \"#000000\",\n-                          marginBottom: \"6px\"\n-                        }}>{item.name}</p>\n-                        <p style={{ \n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                          fontWeight: \"bold\"\n-                        }}>\n-                            {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n-                        </p>\n-                      </div>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          Color: {item.color || \"Black\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          Size: {item.size || \"Unknown\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        fontWeight: \"bold\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          {item.status || \"ORDER\"}\n-                      </p>\n-                      <p style={{ \n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        marginBottom: \"4px\"\n-                      }}>\n-                          {item.shippingInfo || \"Expected 2-3 days\"}\n-                      </p>\n-                      <div className=\"flex items-center mt-4 space-x-2\">\n-                        <button\n-                            onClick={() => handleQuantityChange(item, item.quantity - 1)}\n-                          style={{\n-                            width: \"24px\",\n-                            height: \"24px\",\n-                            display: \"flex\",\n-                            justifyContent: \"center\",\n-                            alignItems: \"center\",\n-                            border: \"1px solid #000000\",\n-                            color: \"#000000\",\n-                            fontSize: \"0.7em\",\n-                            backgroundColor: \"transparent\",\n-                            cursor: \"pointer\"\n-                          }}\n-                          disabled={item.quantity <= 1}\n-                        >\n-                          −\n-                        </button>\n-                        <span style={{\n-                          width: \"24px\",\n-                          textAlign: \"center\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                          border: \"1px solid #000000\",\n-                          padding: \"2px 0\"\n-                        }}>\n-                          {item.quantity}\n-                        </span>\n-                        <button\n-                            onClick={() => handleQuantityChange(item, item.quantity + 1)}\n-                          style={{\n-                            width: \"24px\",\n-                            height: \"24px\",\n-                            display: \"flex\",\n-                            justifyContent: \"center\",\n-                            alignItems: \"center\",\n-                            border: \"1px solid #000000\",\n-                            color: \"#000000\",\n-                            fontSize: \"0.7em\",\n-                            backgroundColor: \"transparent\",\n-                            cursor: \"pointer\"\n-                          }}\n-                            disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n-                        >\n-                          +\n-                        </button>\n-                          <span style={{ \n-                            fontSize: \"0.7em\", \n-                            color: \"#000000\",\n-                            marginLeft: \"8px\"\n-                          }}>\n-                            ({item.currentStock || item.stock?.[item.size] || 0} items left)\n-                          </span>\n-                      </div>\n-                      <div className=\"flex space-x-4 mt-4 items-center\">\n-                        <button\n-                          onClick={() => handleEdit(item)}\n-                          style={{\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            textDecoration: \"underline\",\n-                            backgroundColor: \"transparent\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                            fontWeight: \"bold\"\n-                          }}\n-                        >\n-                          EDIT\n-                        </button>\n-                        <span style={{ fontSize: \"0.7em\", color: \"#000000\", fontWeight: \"bold\" }}>|</span>\n-                        <button\n-                          onClick={() => handleDelete(item)}\n-                          style={{\n-                            fontSize: \"0.7em\",\n-                            color: \"#000000\",\n-                            textDecoration: \"underline\",\n-                            backgroundColor: \"transparent\",\n-                            border: \"none\",\n-                            cursor: \"pointer\",\n-                            fontWeight: \"bold\"\n-                          }}\n-                          onMouseOver={(e) => e.target.style.color = \"#dc2626\"}\n-                          onMouseOut={(e) => e.target.style.color = \"#000000\"}\n-                        >\n-                          REMOVE\n-                        </button>\n-                      </div>\n+                <div key={item.cartItemId || `${item.id}-${item.size}`}\n+                  className=\"flex flex-col md:flex-row items-start mb-8 pb-12 md:mb-8 md:pb-12 border-b border-gray-200 last:border-b-0 gap-2 md:gap-0\"\n+                >\n+                  <img\n+                    src={item.image}\n+                    alt={item.name}\n+                    className=\"w-20 h-20 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n+                  />\n+                  <div className=\"flex-1 flex flex-col\">\n+                    <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n+                      <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n+                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n                     </div>\n-                  </motion.div>\n-                  {item !== cartItems[cartItems.length - 1] && (\n-                      <hr style={{ width: \"100%\", borderBottom: \"1px solid #000000\", marginBottom: \"32px\" }} />\n-                  )}\n+                    <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n+                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n+                    <div className=\"flex items-center mt-2 gap-1 md:gap-2\">\n+                      <button\n+                        onClick={() => handleQuantityChange(item, item.quantity - 1)}\n+                        className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n+                        disabled={item.quantity <= 1}\n+                      >−</button>\n+                      <span className=\"w-6 md:w-7 text-center text-xs text-black border border-black py-1\">{item.quantity}</span>\n+                      <button\n+                        onClick={() => handleQuantityChange(item, item.quantity + 1)}\n+                        className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n+                        disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n+                      >+</button>\n+                      <span className=\"text-xs text-black ml-1 md:ml-2\">({item.currentStock || item.stock?.[item.size] || 0} items left)</span>\n+                    </div>\n+                    <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n+                      <button\n+                        onClick={() => handleEdit(item)}\n+                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n+                      >EDIT</button>\n+                      <span className=\"text-xs text-black font-bold\">|</span>\n+                      <button\n+                        onClick={() => handleDelete(item)}\n+                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n+                      >DELETE</button>\n+                    </div>\n+                  </div>\n                 </div>\n               ))}\n             </motion.div>\n \n"
                },
                {
                    "date": 1747388338341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,24 +249,14 @@\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n               className=\"lg:col-span-7\"\n             >\n-              <div className=\"mb-6\">\n-                <h2 style={{\n-                  fontSize: \"1em\",\n-                  fontWeight: \"bold\",\n-                  marginBottom: \"15px\",\n-                  color: \"#000000\",\n-                  textAlign: \"left\",\n-                  borderBottom: \"1px solid #000000\",\n-                  paddingBottom: \"10px\"\n-                }}>\n-                  YOUR SELECTIONS\n-                </h2>\n+              <div className=\"mb-4 md:mb-6\">\n+                <h2 className=\"text-base md:text-lg font-bold mb-2 md:mb-4 text-black border-b border-black pb-2\">YOUR SELECTIONS</h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n-                  className=\"flex flex-col md:flex-row items-start mb-8 pb-12 md:mb-8 md:pb-12 border-b border-gray-200 last:border-b-0 gap-2 md:gap-0\"\n+                  className=\"mb-4 md:mb-8 pb-4 md:pb-12 border-b border-gray-200 last:border-b-0 flex flex-col md:flex-row gap-2 md:gap-0\"\n                 >\n                   <img\n                     src={item.image}\n                     alt={item.name}\n"
                },
                {
                    "date": 1747388392062,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,14 +249,24 @@\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n               className=\"lg:col-span-7\"\n             >\n-              <div className=\"mb-4 md:mb-6\">\n-                <h2 className=\"text-base md:text-lg font-bold mb-2 md:mb-4 text-black border-b border-black pb-2\">YOUR SELECTIONS</h2>\n+              <div className=\"mb-6\">\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  YOUR SELECTIONS\n+                </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n-                  className=\"mb-4 md:mb-8 pb-4 md:pb-12 border-b border-gray-200 last:border-b-0 flex flex-col md:flex-row gap-2 md:gap-0\"\n+                  className=\"flex flex-col md:flex-row items-start mb-8 pb-12 md:mb-8 md:pb-12 border-b border-gray-200 last:border-b-0 gap-2 md:gap-0\"\n                 >\n                   <img\n                     src={item.image}\n                     alt={item.name}\n"
                },
                {
                    "date": 1747388433074,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,9 +249,9 @@\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n               className=\"lg:col-span-7\"\n             >\n-              <div className=\"mb-6\">\n+              <div className=\"mb-4 md:mb-6\">\n                 <h2 style={{\n                   fontSize: \"1em\",\n                   fontWeight: \"bold\",\n                   marginBottom: \"15px\",\n@@ -264,9 +264,9 @@\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n-                  className=\"flex flex-col md:flex-row items-start mb-8 pb-12 md:mb-8 md:pb-12 border-b border-gray-200 last:border-b-0 gap-2 md:gap-0\"\n+                  className=\"flex flex-col md:flex-row items-start mb-4 md:mb-8 pb-4 md:pb-12 border-b border-gray-200 last:border-b-0 gap-2 md:gap-0\"\n                 >\n                   <img\n                     src={item.image}\n                     alt={item.name}\n"
                },
                {
                    "date": 1747388545461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,9 +249,9 @@\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n               className=\"lg:col-span-7\"\n             >\n-              <div className=\"mb-4 md:mb-6\">\n+              <div className=\"mb-6\">\n                 <h2 style={{\n                   fontSize: \"1em\",\n                   fontWeight: \"bold\",\n                   marginBottom: \"15px\",\n@@ -264,9 +264,9 @@\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n-                  className=\"flex flex-col md:flex-row items-start mb-4 md:mb-8 pb-4 md:pb-12 border-b border-gray-200 last:border-b-0 gap-2 md:gap-0\"\n+                  className=\"flex flex-col md:flex-row items-start mb-8 pb-12 md:mb-8 md:pb-12 border-b border-gray-200 last:border-b-0 gap-2 md:gap-0\"\n                 >\n                   <img\n                     src={item.image}\n                     alt={item.name}\n"
                },
                {
                    "date": 1747388745206,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,9 +269,9 @@\n                 >\n                   <img\n                     src={item.image}\n                     alt={item.name}\n-                    className=\"w-20 h-20 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n+                    className=\"w-24 h-24 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n                   />\n                   <div className=\"flex-1 flex flex-col\">\n                     <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n                       <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n"
                },
                {
                    "date": 1747388798204,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,9 +269,9 @@\n                 >\n                   <img\n                     src={item.image}\n                     alt={item.name}\n-                    className=\"w-24 h-24 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n+                    className=\"w-30 h-30 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n                   />\n                   <div className=\"flex-1 flex flex-col\">\n                     <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n                       <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n"
                },
                {
                    "date": 1747388930216,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -264,9 +264,9 @@\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n-                  className=\"flex flex-col md:flex-row items-start mb-8 pb-12 md:mb-8 md:pb-12 border-b border-gray-200 last:border-b-0 gap-2 md:gap-0\"\n+                  className=\"flex flex-col md:flex-row items-start mb-8 pb-12 md:mb-8 md:pb-12 border-b-2 border-black last:border-b-0 gap-2 md:gap-0\"\n                 >\n                   <img\n                     src={item.image}\n                     alt={item.name}\n"
                },
                {
                    "date": 1749537086496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n \n export default function Cart() {\n-  const { cartItems, updateQuantity, removeItem } = useCart();\n+  const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n   const router = useRouter();\n   const [showEditModal, setShowEditModal] = useState(false);\n   const [editingItem, setEditingItem] = useState(null);\n@@ -134,32 +134,29 @@\n       return;\n     }\n \n     try {\n-      const response = await fetch(\"/api/admin/notifications\");\n+      const response = await fetch(\"/api/cart/apply-promo\", {\n+        method: \"POST\",\n+        headers: {\n+          \"Content-Type\": \"application/json\",\n+        },\n+        body: JSON.stringify({\n+          promoCode: promoCode.trim(),\n+          cartItems: cartItems\n+        }),\n+      });\n+\n       const data = await response.json();\n-      \n-      // Debug log\n-      console.log(\"API Response:\", data);\n-      console.log(\"Promo Code Input:\", promoCode);\n-      \n-      if (data.ok && data.promoCodes) {\n-        // Tìm mã giảm giá trong mảng promoCodes\n-        const foundPromo = data.promoCodes.find(\n-          promo => promo.code.toLowerCase() === promoCode.toLowerCase() && promo.isActive\n-        );\n-        \n-        if (foundPromo) {\n-          setPromoAmount(foundPromo.amount);\n-          setIsPromoApplied(true);\n-          setPromoMessage(`Mã giảm giá ${foundPromo.amount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n-        } else {\n-          setPromoMessage(\"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n-          setPromoAmount(0);\n-          setIsPromoApplied(false);\n-        }\n+      console.log('Apply promo response:', data); // Debug log\n+\n+      if (data.ok) {\n+        setPromoAmount(data.totalDiscount);\n+        setIsPromoApplied(true);\n+        setPromoMessage(`Mã giảm giá ${data.totalDiscount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n+        setCartItems(data.cartItems);\n       } else {\n-        setPromoMessage(\"Không thể kiểm tra mã giảm giá\");\n+        setPromoMessage(data.message || \"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n         setPromoAmount(0);\n         setIsPromoApplied(false);\n       }\n     } catch (error) {\n"
                },
                {
                    "date": 1749537321949,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -421,20 +421,74 @@\n                   }}>\n                       <span>Shipping</span>\n                       <span>Free (Express)</span>\n                   </div>\n-                    {isPromoApplied && (\n+\n+                  {/* Add Promo Code Section */}\n                   <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#000000\",\n+                    marginTop: \"20px\",\n+                    marginBottom: \"20px\",\n+                    padding: \"10px\",\n+                    border: \"1px solid #e5e7eb\",\n+                    borderRadius: \"4px\"\n                   }}>\n+                    <div style={{\n+                      display: \"flex\",\n+                      gap: \"10px\",\n+                      marginBottom: \"10px\"\n+                    }}>\n+                      <input\n+                        type=\"text\"\n+                        value={promoCode}\n+                        onChange={(e) => setPromoCode(e.target.value)}\n+                        placeholder=\"Nhập mã giảm giá\"\n+                        style={{\n+                          flex: 1,\n+                          padding: \"8px\",\n+                          fontSize: \"0.7em\",\n+                          border: \"1px solid #000000\",\n+                          borderRadius: \"4px\"\n+                        }}\n+                      />\n+                      <button\n+                        onClick={handleApplyPromoCode}\n+                        style={{\n+                          padding: \"8px 16px\",\n+                          fontSize: \"0.7em\",\n+                          backgroundColor: \"#000000\",\n+                          color: \"#FFFFFF\",\n+                          border: \"none\",\n+                          borderRadius: \"4px\",\n+                          cursor: \"pointer\"\n+                        }}\n+                      >\n+                        Áp dụng\n+                      </button>\n+                    </div>\n+                    {promoMessage && (\n+                      <p style={{\n+                        fontSize: \"0.7em\",\n+                        color: isPromoApplied ? \"#059669\" : \"#DC2626\",\n+                        marginTop: \"5px\"\n+                      }}>\n+                        {promoMessage}\n+                      </p>\n+                    )}\n+                  </div>\n+\n+                  {isPromoApplied && (\n+                    <div style={{\n+                      display: \"flex\",\n+                      justifyContent: \"space-between\",\n+                      marginBottom: \"8px\",\n+                      fontSize: \"0.7em\",\n+                      color: \"#000000\",\n+                    }}>\n                         <span>Discount</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n-                  </div>\n-                    )}\n+                    </div>\n+                  )}\n+\n                   <div style={{\n                     display: \"flex\",\n                     justifyContent: \"space-between\",\n                     marginBottom: \"8px\",\n@@ -443,11 +497,11 @@\n                     color: \"#000000\",\n                   }}>\n                       <span>Total</span>\n                       <span>{calculateTotal()}</span>\n-                    </div>\n                   </div>\n-                  <div style={{\n+                </div>\n+                <div style={{\n                   paddingTop: \"10px\",\n                   marginTop: \"20px\"\n                 }}>\n                   <div style={{ \n"
                },
                {
                    "date": 1749537357565,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -421,74 +421,20 @@\n                   }}>\n                       <span>Shipping</span>\n                       <span>Free (Express)</span>\n                   </div>\n-\n-                  {/* Add Promo Code Section */}\n+                    {isPromoApplied && (\n                   <div style={{\n-                    marginTop: \"20px\",\n-                    marginBottom: \"20px\",\n-                    padding: \"10px\",\n-                    border: \"1px solid #e5e7eb\",\n-                    borderRadius: \"4px\"\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n                   }}>\n-                    <div style={{\n-                      display: \"flex\",\n-                      gap: \"10px\",\n-                      marginBottom: \"10px\"\n-                    }}>\n-                      <input\n-                        type=\"text\"\n-                        value={promoCode}\n-                        onChange={(e) => setPromoCode(e.target.value)}\n-                        placeholder=\"Nhập mã giảm giá\"\n-                        style={{\n-                          flex: 1,\n-                          padding: \"8px\",\n-                          fontSize: \"0.7em\",\n-                          border: \"1px solid #000000\",\n-                          borderRadius: \"4px\"\n-                        }}\n-                      />\n-                      <button\n-                        onClick={handleApplyPromoCode}\n-                        style={{\n-                          padding: \"8px 16px\",\n-                          fontSize: \"0.7em\",\n-                          backgroundColor: \"#000000\",\n-                          color: \"#FFFFFF\",\n-                          border: \"none\",\n-                          borderRadius: \"4px\",\n-                          cursor: \"pointer\"\n-                        }}\n-                      >\n-                        Áp dụng\n-                      </button>\n-                    </div>\n-                    {promoMessage && (\n-                      <p style={{\n-                        fontSize: \"0.7em\",\n-                        color: isPromoApplied ? \"#059669\" : \"#DC2626\",\n-                        marginTop: \"5px\"\n-                      }}>\n-                        {promoMessage}\n-                      </p>\n-                    )}\n-                  </div>\n-\n-                  {isPromoApplied && (\n-                    <div style={{\n-                      display: \"flex\",\n-                      justifyContent: \"space-between\",\n-                      marginBottom: \"8px\",\n-                      fontSize: \"0.7em\",\n-                      color: \"#000000\",\n-                    }}>\n                         <span>Discount</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n-                    </div>\n-                  )}\n-\n+                  </div>\n+                    )}\n                   <div style={{\n                     display: \"flex\",\n                     justifyContent: \"space-between\",\n                     marginBottom: \"8px\",\n@@ -497,11 +443,11 @@\n                     color: \"#000000\",\n                   }}>\n                       <span>Total</span>\n                       <span>{calculateTotal()}</span>\n+                    </div>\n                   </div>\n-                </div>\n-                <div style={{\n+                  <div style={{\n                   paddingTop: \"10px\",\n                   marginTop: \"20px\"\n                 }}>\n                   <div style={{ \n"
                },
                {
                    "date": 1749540242329,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -271,9 +271,16 @@\n                   />\n                   <div className=\"flex-1 flex flex-col\">\n                     <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n                       <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n-                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n+                      <div className=\"flex flex-col items-end\">\n+                        <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n+                        {item.isPromoApplied && (\n+                          <p className=\"text-xs text-green-600\">\n+                            -{item.discount.toLocaleString('vi-VN')} VND (Mã giảm giá)\n+                          </p>\n+                        )}\n+                      </div>\n                     </div>\n                     <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n                     <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n                     <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n"
                },
                {
                    "date": 1749540250240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -404,18 +404,20 @@\n                         }}>\n                             <span>Time:</span>\n                             <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n                         </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Price:</span>\n-                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n-                        </div>\n+                        {item.isPromoApplied && (\n+                          <div style={{\n+                            display: \"flex\",\n+                            justifyContent: \"space-between\",\n+                            marginBottom: \"4px\",\n+                            fontSize: \"0.7em\",\n+                            color: \"#22c55e\",\n+                          }}>\n+                            <span>Mã giảm giá:</span>\n+                            <span>-{item.discount.toLocaleString('vi-VN')} VND</span>\n+                          </div>\n+                        )}\n                       </div>\n                     </div>\n                   ))}\n                   \n"
                },
                {
                    "date": 1749540271965,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -271,16 +271,9 @@\n                   />\n                   <div className=\"flex-1 flex flex-col\">\n                     <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n                       <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n-                      <div className=\"flex flex-col items-end\">\n-                        <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n-                        {item.isPromoApplied && (\n-                          <p className=\"text-xs text-green-600\">\n-                            -{item.discount.toLocaleString('vi-VN')} VND (Mã giảm giá)\n-                          </p>\n-                        )}\n-                      </div>\n+                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n                     </div>\n                     <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n                     <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n                     <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n@@ -404,20 +397,18 @@\n                         }}>\n                             <span>Time:</span>\n                             <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n                         </div>\n-                        {item.isPromoApplied && (\n-                          <div style={{\n-                            display: \"flex\",\n-                            justifyContent: \"space-between\",\n-                            marginBottom: \"4px\",\n-                            fontSize: \"0.7em\",\n-                            color: \"#22c55e\",\n-                          }}>\n-                            <span>Mã giảm giá:</span>\n-                            <span>-{item.discount.toLocaleString('vi-VN')} VND</span>\n-                          </div>\n-                        )}\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Price:</span>\n+                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n+                        </div>\n                       </div>\n                     </div>\n                   ))}\n                   \n"
                },
                {
                    "date": 1749540318975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,9 +244,9 @@\n             <motion.div\n               initial={{ opacity: 0, y: 20 }}\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n-              className=\"lg:col-span-7\"\n+              className=\"lg:col-span-10\"\n             >\n               <div className=\"mb-6\">\n                 <h2 style={{\n                   fontSize: \"1em\",\n@@ -305,167 +305,12 @@\n                     </div>\n                   </div>\n                 </div>\n               ))}\n-            </motion.div>\n-\n-            <motion.div\n-              initial={{ opacity: 0, y: 20 }}\n-              animate={{ opacity: 1, y: 0 }}\n-              transition={{ duration: 0.5, delay: 0.2 }}\n-              className=\"lg:col-span-3\"\n-            >\n-                <div className=\"bg-white p-6 rounded-lg sticky top-4\" style={{\n-                  boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n-                  border: \"1px solid #e5e7eb\",\n-                  borderRadius: \"8px\",\n-                }}>\n-                <h2 style={{\n-                  fontSize: \"1em\",\n-                  fontWeight: \"bold\",\n-                  marginBottom: \"15px\",\n-                  color: \"#000000\",\n-                  textAlign: \"left\",\n-                  borderBottom: \"1px solid #000000\",\n-                  paddingBottom: \"10px\"\n-                }}>\n-                  ORDER SUMMARY\n-                </h2>\n-                <div className=\"space-y-4\">\n-                  {cartItems.map((item) => (\n-                    <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n-                      display: \"flex\",\n-                      gap: \"15px\",\n-                      marginBottom: \"20px\",\n-                      color: \"#000000\",\n-                    }}>\n-                      <img \n-                        src={item.image} \n-                        alt={item.name} \n-                        style={{\n-                          width: \"80px\",\n-                          height: \"80px\",\n-                          objectFit: \"cover\",\n-                        }}\n-                      />\n-                      <div style={{\n-                        color: \"#000000\",\n-                        flex: 1,\n-                      }}>\n-                        <p style={{ \n-                          fontWeight: \"bold\", \n-                          marginBottom: \"6px\", \n-                          fontSize: \"0.9em\" \n-                        }}>\n-                          {item.name}\n-                        </p>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Quantity:</span>\n-                          <span>{item.quantity}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Color:</span>\n-                            <span>{item.color || \"Black\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Size:</span>\n-                          <span>{item.size || \"Unknown\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Time:</span>\n-                            <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Price:</span>\n-                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n-                        </div>\n-                      </div>\n-                    </div>\n-                  ))}\n-                  \n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#000000\",\n-                  }}>\n-                      <span>Shipping</span>\n-                      <span>Free (Express)</span>\n-                  </div>\n-                    {isPromoApplied && (\n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#000000\",\n-                  }}>\n-                        <span>Discount</span>\n-                        <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n-                  </div>\n-                    )}\n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    fontWeight: \"bold\",\n-                    color: \"#000000\",\n-                  }}>\n-                      <span>Total</span>\n-                      <span>{calculateTotal()}</span>\n-                    </div>\n-                  </div>\n-                  <div style={{\n-                  paddingTop: \"10px\",\n-                  marginTop: \"20px\"\n-                }}>\n-                  <div style={{ \n-                    borderTop: \"1px solid #000000\", \n-                    borderBottom: \"1px solid #000000\", \n-                    paddingTop: \"10px\", \n-                    paddingBottom: \"10px\",\n-                    marginTop: \"20px\"\n-                  }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n-                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n-                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n-                  </div>\n-                </div>\n+              <div className=\"mt-8 flex justify-end\">\n                 <button\n                   onClick={handleCheckout}\n-                  className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n+                  className=\"bg-black text-white text-sm font-semibold py-3 px-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n                   CHECK OUT\n                 </button>\n               </div>\n"
                },
                {
                    "date": 1749540326013,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,9 +244,9 @@\n             <motion.div\n               initial={{ opacity: 0, y: 20 }}\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ duration: 0.5 }}\n-              className=\"lg:col-span-10\"\n+              className=\"lg:col-span-7\"\n             >\n               <div className=\"mb-6\">\n                 <h2 style={{\n                   fontSize: \"1em\",\n@@ -305,12 +305,167 @@\n                     </div>\n                   </div>\n                 </div>\n               ))}\n-              <div className=\"mt-8 flex justify-end\">\n+            </motion.div>\n+\n+            <motion.div\n+              initial={{ opacity: 0, y: 20 }}\n+              animate={{ opacity: 1, y: 0 }}\n+              transition={{ duration: 0.5, delay: 0.2 }}\n+              className=\"lg:col-span-3\"\n+            >\n+                <div className=\"bg-white p-6 rounded-lg sticky top-4\" style={{\n+                  boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n+                  border: \"1px solid #e5e7eb\",\n+                  borderRadius: \"8px\",\n+                }}>\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  ORDER SUMMARY\n+                </h2>\n+                <div className=\"space-y-4\">\n+                  {cartItems.map((item) => (\n+                    <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n+                      display: \"flex\",\n+                      gap: \"15px\",\n+                      marginBottom: \"20px\",\n+                      color: \"#000000\",\n+                    }}>\n+                      <img \n+                        src={item.image} \n+                        alt={item.name} \n+                        style={{\n+                          width: \"80px\",\n+                          height: \"80px\",\n+                          objectFit: \"cover\",\n+                        }}\n+                      />\n+                      <div style={{\n+                        color: \"#000000\",\n+                        flex: 1,\n+                      }}>\n+                        <p style={{ \n+                          fontWeight: \"bold\", \n+                          marginBottom: \"6px\", \n+                          fontSize: \"0.9em\" \n+                        }}>\n+                          {item.name}\n+                        </p>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Quantity:</span>\n+                          <span>{item.quantity}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Color:</span>\n+                            <span>{item.color || \"Black\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Size:</span>\n+                          <span>{item.size || \"Unknown\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Time:</span>\n+                            <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Price:</span>\n+                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n+                        </div>\n+                      </div>\n+                    </div>\n+                  ))}\n+                  \n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                  }}>\n+                      <span>Shipping</span>\n+                      <span>Free (Express)</span>\n+                  </div>\n+                    {isPromoApplied && (\n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                  }}>\n+                        <span>Discount</span>\n+                        <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n+                  </div>\n+                    )}\n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    fontWeight: \"bold\",\n+                    color: \"#000000\",\n+                  }}>\n+                      <span>Total</span>\n+                      <span>{calculateTotal()}</span>\n+                    </div>\n+                  </div>\n+                  <div style={{\n+                  paddingTop: \"10px\",\n+                  marginTop: \"20px\"\n+                }}>\n+                  <div style={{ \n+                    borderTop: \"1px solid #000000\", \n+                    borderBottom: \"1px solid #000000\", \n+                    paddingTop: \"10px\", \n+                    paddingBottom: \"10px\",\n+                    marginTop: \"20px\"\n+                  }}>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n+                  </div>\n+                </div>\n                 <button\n                   onClick={handleCheckout}\n-                  className=\"bg-black text-white text-sm font-semibold py-3 px-8 rounded hover:bg-gray-800 transition-colors\"\n+                  className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n                   CHECK OUT\n                 </button>\n               </div>\n"
                },
                {
                    "date": 1749540390117,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -271,9 +271,23 @@\n                   />\n                   <div className=\"flex-1 flex flex-col\">\n                     <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n                       <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n-                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n+                      <div className=\"flex flex-col items-end\">\n+                        {item.isPromoApplied ? (\n+                          <>\n+                            <p className=\"text-xs md:text-sm text-gray-500 line-through\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n+                            <p className=\"text-xs md:text-sm text-green-600 font-bold\">\n+                              {(item.price * item.quantity - item.discount).toLocaleString('vi-VN')} VND\n+                            </p>\n+                            <p className=\"text-xs text-green-600\">\n+                              -{item.discount.toLocaleString('vi-VN')} VND\n+                            </p>\n+                          </>\n+                        ) : (\n+                          <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n+                        )}\n+                      </div>\n                     </div>\n                     <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n                     <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n                     <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n"
                },
                {
                    "date": 1749540400725,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -419,9 +419,23 @@\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n                             <span>Price:</span>\n-                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n+                            <div className=\"flex flex-col items-end\">\n+                              {item.isPromoApplied ? (\n+                                <>\n+                                  <span className=\"line-through text-gray-500\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n+                                  <span className=\"text-green-600 font-bold\">\n+                                    {(item.price * item.quantity - item.discount).toLocaleString('vi-VN')} VND\n+                                  </span>\n+                                  <span className=\"text-green-600\">\n+                                    -{item.discount.toLocaleString('vi-VN')} VND\n+                                  </span>\n+                                </>\n+                              ) : (\n+                                <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n+                              )}\n+                            </div>\n                         </div>\n                       </div>\n                     </div>\n                   ))}\n"
                },
                {
                    "date": 1749540407703,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -271,23 +271,9 @@\n                   />\n                   <div className=\"flex-1 flex flex-col\">\n                     <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n                       <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n-                      <div className=\"flex flex-col items-end\">\n-                        {item.isPromoApplied ? (\n-                          <>\n-                            <p className=\"text-xs md:text-sm text-gray-500 line-through\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n-                            <p className=\"text-xs md:text-sm text-green-600 font-bold\">\n-                              {(item.price * item.quantity - item.discount).toLocaleString('vi-VN')} VND\n-                            </p>\n-                            <p className=\"text-xs text-green-600\">\n-                              -{item.discount.toLocaleString('vi-VN')} VND\n-                            </p>\n-                          </>\n-                        ) : (\n-                          <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n-                        )}\n-                      </div>\n+                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n                     </div>\n                     <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n                     <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n                     <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n@@ -419,23 +405,9 @@\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n                             <span>Price:</span>\n-                            <div className=\"flex flex-col items-end\">\n-                              {item.isPromoApplied ? (\n-                                <>\n-                                  <span className=\"line-through text-gray-500\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n-                                  <span className=\"text-green-600 font-bold\">\n-                                    {(item.price * item.quantity - item.discount).toLocaleString('vi-VN')} VND\n-                                  </span>\n-                                  <span className=\"text-green-600\">\n-                                    -{item.discount.toLocaleString('vi-VN')} VND\n-                                  </span>\n-                                </>\n-                              ) : (\n-                                <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n-                              )}\n-                            </div>\n+                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n                         </div>\n                       </div>\n                     </div>\n                   ))}\n"
                },
                {
                    "date": 1749541066404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -270,14 +270,42 @@\n                     className=\"w-30 h-30 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n                   />\n                   <div className=\"flex-1 flex flex-col\">\n                     <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n-                      <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n-                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n+                      <div className=\"flex justify-between items-center\">\n+                        <div>\n+                          <p className=\"font-medium\">{item.name}</p>\n+                          <p className=\"text-sm text-gray-500\">Size: {item.size}</p>\n+                          {item.isPromoApplied && (\n+                            <p className=\"text-sm text-green-600\">\n+                              Đã áp dụng mã giảm giá\n+                            </p>\n+                          )}\n+                        </div>\n+                        <div className=\"text-right\">\n+                          <p className=\"font-medium\">\n+                            {item.isPromoApplied ? (\n+                              <>\n+                                <span className=\"line-through text-gray-500 mr-2\">\n+                                  {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n+                                </span>\n+                                <span className=\"text-green-600\">\n+                                  {((item.price * item.quantity) - (item.discount || 0)).toLocaleString('vi-VN')} VND\n+                                </span>\n+                              </>\n+                            ) : (\n+                              (item.price * item.quantity).toLocaleString('vi-VN') + \" VND\"\n+                            )}\n+                          </p>\n+                          {item.isPromoApplied && item.discount > 0 && (\n+                            <p className=\"text-sm text-green-600\">\n+                              Giảm: {item.discount.toLocaleString('vi-VN')} VND\n+                            </p>\n+                          )}\n+                        </div>\n+                      </div>\n                     </div>\n                     <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n-                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n-                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n                     <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n                     <div className=\"flex items-center mt-2 gap-1 md:gap-2\">\n                       <button\n                         onClick={() => handleQuantityChange(item, item.quantity - 1)}\n"
                },
                {
                    "date": 1749541072541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -270,42 +270,14 @@\n                     className=\"w-30 h-30 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n                   />\n                   <div className=\"flex-1 flex flex-col\">\n                     <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n-                      <div className=\"flex justify-between items-center\">\n-                        <div>\n-                          <p className=\"font-medium\">{item.name}</p>\n-                          <p className=\"text-sm text-gray-500\">Size: {item.size}</p>\n-                          {item.isPromoApplied && (\n-                            <p className=\"text-sm text-green-600\">\n-                              Đã áp dụng mã giảm giá\n-                            </p>\n-                          )}\n-                        </div>\n-                        <div className=\"text-right\">\n-                          <p className=\"font-medium\">\n-                            {item.isPromoApplied ? (\n-                              <>\n-                                <span className=\"line-through text-gray-500 mr-2\">\n-                                  {(item.price * item.quantity).toLocaleString('vi-VN')} VND\n-                                </span>\n-                                <span className=\"text-green-600\">\n-                                  {((item.price * item.quantity) - (item.discount || 0)).toLocaleString('vi-VN')} VND\n-                                </span>\n-                              </>\n-                            ) : (\n-                              (item.price * item.quantity).toLocaleString('vi-VN') + \" VND\"\n-                            )}\n-                          </p>\n-                          {item.isPromoApplied && item.discount > 0 && (\n-                            <p className=\"text-sm text-green-600\">\n-                              Giảm: {item.discount.toLocaleString('vi-VN')} VND\n-                            </p>\n-                          )}\n-                        </div>\n-                      </div>\n+                      <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n+                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n                     </div>\n                     <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n+                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n                     <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n                     <div className=\"flex items-center mt-2 gap-1 md:gap-2\">\n                       <button\n                         onClick={() => handleQuantityChange(item, item.quantity - 1)}\n"
                },
                {
                    "date": 1749541234441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,12 +11,8 @@\n   const router = useRouter();\n   const [showEditModal, setShowEditModal] = useState(false);\n   const [editingItem, setEditingItem] = useState(null);\n   const [selectedSize, setSelectedSize] = useState(\"\");\n-  const [promoCode, setPromoCode] = useState(\"\");\n-  const [promoAmount, setPromoAmount] = useState(0);\n-  const [isPromoApplied, setIsPromoApplied] = useState(false);\n-  const [promoMessage, setPromoMessage] = useState(\"\");\n   const [showDeleteModal, setShowDeleteModal] = useState(false);\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n@@ -29,12 +25,10 @@\n       .reduce((total, item) => {\n         const itemTotal = item.price * item.quantity;\n         return total + itemTotal;\n       }, 0);\n-\n-    const finalTotal = subtotal - (isPromoApplied ? promoAmount : 0);\n     \n-    return finalTotal.toLocaleString('vi-VN') + \" VND\";\n+    return subtotal.toLocaleString('vi-VN') + \" VND\";\n   };\n \n   const handleQuantityChange = (item, newQuantity) => {\n     const stockQuantity = item.currentStock || item.stock?.[item.size] || 0;\n@@ -122,60 +116,8 @@\n   }, []);\n \n   if (!isMounted) return null;\n \n-  const handleApplyPromoCode = async () => {\n-    // Reset states khi người dùng nhập mã mới\n-    setPromoMessage(\"\");\n-    setPromoAmount(0);\n-    setIsPromoApplied(false);\n-\n-    if (!promoCode.trim()) {\n-      setPromoMessage(\"Vui lòng nhập mã giảm giá\");\n-      return;\n-    }\n-\n-    try {\n-      const response = await fetch(\"/api/cart/apply-promo\", {\n-        method: \"POST\",\n-        headers: {\n-          \"Content-Type\": \"application/json\",\n-        },\n-        body: JSON.stringify({\n-          promoCode: promoCode.trim(),\n-          cartItems: cartItems\n-        }),\n-      });\n-\n-      const data = await response.json();\n-      console.log('Apply promo response:', data); // Debug log\n-\n-      if (data.ok) {\n-        setPromoAmount(data.totalDiscount);\n-        setIsPromoApplied(true);\n-        setPromoMessage(`Mã giảm giá ${data.totalDiscount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n-        setCartItems(data.cartItems);\n-      } else {\n-        setPromoMessage(data.message || \"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n-        setPromoAmount(0);\n-        setIsPromoApplied(false);\n-      }\n-    } catch (error) {\n-      console.error(\"Error applying promo code:\", error);\n-      setPromoMessage(\"Có lỗi xảy ra khi áp dụng mã giảm giá\");\n-      setPromoAmount(0);\n-      setIsPromoApplied(false);\n-    }\n-  };\n-\n-  // Thêm hàm reset mã giảm giá\n-  const handleResetPromoCode = () => {\n-    setPromoCode(\"\");\n-    setPromoMessage(\"\");\n-    setPromoAmount(0);\n-    setIsPromoApplied(false);\n-  };\n-\n   const handleCheckout = () => {\n     if (cartItems.length === 0) {\n       alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n       return;\n@@ -421,33 +363,21 @@\n                   }}>\n                       <span>Shipping</span>\n                       <span>Free (Express)</span>\n                   </div>\n-                    {isPromoApplied && (\n                   <div style={{\n                     display: \"flex\",\n                     justifyContent: \"space-between\",\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n-                    color: \"#000000\",\n-                  }}>\n-                        <span>Discount</span>\n-                        <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n-                  </div>\n-                    )}\n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n                       <span>Total</span>\n                       <span>{calculateTotal()}</span>\n-                    </div>\n                   </div>\n-                  <div style={{\n+                </div>\n+                <div style={{\n                   paddingTop: \"10px\",\n                   marginTop: \"20px\"\n                 }}>\n                   <div style={{ \n"
                },
                {
                    "date": 1749541249727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,711 @@\n+\"use client\";\n+import { motion } from \"framer-motion\";\n+import { useCart } from \"../../context/CartContext\";\n+import { useRouter } from \"next/navigation\";\n+import { useState, useEffect } from \"react\";\n+import { useWishlist } from \"../../context/WishlistContext\";\n+\n+export default function Cart() {\n+  const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n+  const { toggleWishlist, isInWishlist } = useWishlist();\n+  const router = useRouter();\n+  const [showEditModal, setShowEditModal] = useState(false);\n+  const [editingItem, setEditingItem] = useState(null);\n+  const [selectedSize, setSelectedSize] = useState(\"\");\n+  const [promoCode, setPromoCode] = useState(\"\");\n+  const [promoAmount, setPromoAmount] = useState(0);\n+  const [isPromoApplied, setIsPromoApplied] = useState(false);\n+  const [promoMessage, setPromoMessage] = useState(\"\");\n+  const [showDeleteModal, setShowDeleteModal] = useState(false);\n+  const [itemToDelete, setItemToDelete] = useState(null);\n+  const [productStock, setProductStock] = useState(null);\n+  const [editingQuantity, setEditingQuantity] = useState(1);\n+  const [isMounted, setIsMounted] = useState(false);\n+\n+  const sizes = [\"M\", \"L\", \"XL\"];\n+\n+  const calculateTotal = () => {\n+    const subtotal = cartItems\n+      .reduce((total, item) => {\n+        const itemTotal = item.price * item.quantity;\n+        return total + itemTotal;\n+      }, 0);\n+\n+    const finalTotal = subtotal - (isPromoApplied ? promoAmount : 0);\n+    \n+    return finalTotal.toLocaleString('vi-VN') + \" VND\";\n+  };\n+\n+  const handleQuantityChange = (item, newQuantity) => {\n+    const stockQuantity = item.currentStock || item.stock?.[item.size] || 0;\n+    \n+    if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n+      updateQuantity(item.id, newQuantity);\n+    } else if (newQuantity > stockQuantity) {\n+      alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n+    }\n+  };\n+\n+  const handleEdit = async (item) => {\n+    setEditingItem(item);\n+    setSelectedSize(item.size || \"M\");\n+    setEditingQuantity(item.quantity);\n+    setShowEditModal(true);\n+\n+    // Fetch lại thông tin sản phẩm để lấy stock\n+    try {\n+      const res = await fetch(`/api/products/${item.id}`);\n+      const data = await res.json();\n+      if (data.ok) {\n+        setProductStock(data.product);\n+      } else {\n+        setProductStock(null);\n+      }\n+    } catch (err) {\n+      setProductStock(null);\n+    }\n+  };\n+\n+  const handleSizeChange = async (e) => {\n+    const newSize = e.target.value;\n+    setSelectedSize(newSize);\n+\n+    // Lấy thông tin stock từ item hiện tại\n+    const currentItem = cartItems.find(item => item.id === editingItem.id);\n+    if (currentItem) {\n+      const sizeQuantity = currentItem.stock?.[newSize] || 0;\n+      setEditingQuantity(sizeQuantity > 0 ? 1 : 0); // luôn reset về 1 hoặc 0\n+    }\n+  };\n+\n+  const handleSaveChanges = () => {\n+    if (editingItem && selectedSize) {\n+      const currentItem = cartItems.find(item => item.id === editingItem.id);\n+      if (!currentItem) return;\n+\n+      const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n+      if (editingQuantity > sizeQuantity) {\n+        alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n+        return;\n+      }\n+\n+      updateQuantity(editingItem.id, editingQuantity, selectedSize, sizeQuantity);\n+    }\n+    setShowEditModal(false);\n+    setEditingItem(null);\n+    setProductStock(null);\n+    setEditingQuantity(1);\n+  };\n+\n+  const handleCancelEdit = () => {\n+    setShowEditModal(false);\n+    setEditingItem(null);\n+    setProductStock(null);\n+    setEditingQuantity(1);\n+  };\n+\n+  const handleDelete = (item) => {\n+    setItemToDelete(item);\n+    setShowDeleteModal(true);\n+  };\n+\n+  const confirmDelete = () => {\n+    if (itemToDelete) {\n+      removeItem(itemToDelete.id);\n+      setShowDeleteModal(false);\n+      setItemToDelete(null);\n+    }\n+  };\n+\n+  useEffect(() => {\n+    setIsMounted(true);\n+  }, []);\n+\n+  if (!isMounted) return null;\n+\n+  const handleApplyPromoCode = async () => {\n+    // Reset states khi người dùng nhập mã mới\n+    setPromoMessage(\"\");\n+    setPromoAmount(0);\n+    setIsPromoApplied(false);\n+\n+    if (!promoCode.trim()) {\n+      setPromoMessage(\"Vui lòng nhập mã giảm giá\");\n+      return;\n+    }\n+\n+    try {\n+      const response = await fetch(\"/api/cart/apply-promo\", {\n+        method: \"POST\",\n+        headers: {\n+          \"Content-Type\": \"application/json\",\n+        },\n+        body: JSON.stringify({\n+          promoCode: promoCode.trim(),\n+          cartItems: cartItems\n+        }),\n+      });\n+\n+      const data = await response.json();\n+      console.log('Apply promo response:', data); // Debug log\n+\n+      if (data.ok) {\n+        setPromoAmount(data.totalDiscount);\n+        setIsPromoApplied(true);\n+        setPromoMessage(`Mã giảm giá ${data.totalDiscount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n+        setCartItems(data.cartItems);\n+      } else {\n+        setPromoMessage(data.message || \"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n+        setPromoAmount(0);\n+        setIsPromoApplied(false);\n+      }\n+    } catch (error) {\n+      console.error(\"Error applying promo code:\", error);\n+      setPromoMessage(\"Có lỗi xảy ra khi áp dụng mã giảm giá\");\n+      setPromoAmount(0);\n+      setIsPromoApplied(false);\n+    }\n+  };\n+\n+  // Thêm hàm reset mã giảm giá\n+  const handleResetPromoCode = () => {\n+    setPromoCode(\"\");\n+    setPromoMessage(\"\");\n+    setPromoAmount(0);\n+    setIsPromoApplied(false);\n+  };\n+\n+  const handleCheckout = () => {\n+    if (cartItems.length === 0) {\n+      alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n+      return;\n+    }\n+    router.push(\"/checkout\");\n+  };\n+\n+  return (\n+    <div className=\"bg-white\">\n+      <div style={{\n+        maxWidth: \"1200px\",\n+        margin: \"0 auto\",\n+        backgroundColor: \"#FFFFFF\",\n+      }}>\n+      <motion.div\n+        initial={{ opacity: 0 }}\n+        animate={{ opacity: 1 }}\n+        transition={{ duration: 0.5 }}\n+        className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n+        style={{\n+          backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n+        }}\n+      >\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n+      </motion.div>\n+\n+      <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n+        {cartItems.length === 0 ? (\n+          <div className=\"text-center py-16\">\n+            <h1 style={{\n+              fontSize: \"1.5em\",\n+              fontWeight: \"bold\",\n+              marginBottom: \"20px\",\n+              color: \"#000000\",\n+              textTransform: \"uppercase\",\n+              borderBottom: \"2px solid #000000\",\n+              display: \"inline-block\",\n+              paddingBottom: \"5px\"\n+            }}>\n+              SHOPPING BAG\n+            </h1>\n+            <p style={{ \n+              fontSize: \"1em\", \n+              color: \"#000000\", \n+              marginTop: \"20px\",\n+              marginBottom: \"20px\" \n+            }}>\n+              Bạn không có sản phẩm nào trong shopping bag cả.\n+            </p>\n+            <button\n+              onClick={() => router.push('/products')}\n+              style={{\n+                backgroundColor: \"#000000\",\n+                color: \"#FFFFFF\",\n+                padding: \"10px 20px\",\n+                border: \"none\",\n+                cursor: \"pointer\",\n+                fontSize: \"0.9em\"\n+              }}\n+            >\n+              Khám phá sản phẩm\n+            </button>\n+          </div>\n+        ) : (\n+          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n+            <motion.div\n+              initial={{ opacity: 0, y: 20 }}\n+              animate={{ opacity: 1, y: 0 }}\n+              transition={{ duration: 0.5 }}\n+              className=\"lg:col-span-7\"\n+            >\n+              <div className=\"mb-6\">\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  YOUR SELECTIONS\n+                </h2>\n+              </div>\n+              {cartItems.map((item) => (\n+                <div key={item.cartItemId || `${item.id}-${item.size}`}\n+                  className=\"flex flex-col md:flex-row items-start mb-8 pb-12 md:mb-8 md:pb-12 border-b-2 border-black last:border-b-0 gap-2 md:gap-0\"\n+                >\n+                  <img\n+                    src={item.image}\n+                    alt={item.name}\n+                    className=\"w-30 h-30 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n+                  />\n+                  <div className=\"flex-1 flex flex-col\">\n+                    <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n+                      <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n+                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n+                    </div>\n+                    <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n+                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n+                    <div className=\"flex items-center mt-2 gap-1 md:gap-2\">\n+                      <button\n+                        onClick={() => handleQuantityChange(item, item.quantity - 1)}\n+                        className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n+                        disabled={item.quantity <= 1}\n+                      >−</button>\n+                      <span className=\"w-6 md:w-7 text-center text-xs text-black border border-black py-1\">{item.quantity}</span>\n+                      <button\n+                        onClick={() => handleQuantityChange(item, item.quantity + 1)}\n+                        className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n+                        disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n+                      >+</button>\n+                      <span className=\"text-xs text-black ml-1 md:ml-2\">({item.currentStock || item.stock?.[item.size] || 0} items left)</span>\n+                    </div>\n+                    <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n+                      <button\n+                        onClick={() => handleEdit(item)}\n+                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n+                      >EDIT</button>\n+                      <span className=\"text-xs text-black font-bold\">|</span>\n+                      <button\n+                        onClick={() => handleDelete(item)}\n+                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n+                      >DELETE</button>\n+                    </div>\n+                  </div>\n+                </div>\n+              ))}\n+            </motion.div>\n+\n+            <motion.div\n+              initial={{ opacity: 0, y: 20 }}\n+              animate={{ opacity: 1, y: 0 }}\n+              transition={{ duration: 0.5, delay: 0.2 }}\n+              className=\"lg:col-span-3\"\n+            >\n+                <div className=\"bg-white p-6 rounded-lg sticky top-4\" style={{\n+                  boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n+                  border: \"1px solid #e5e7eb\",\n+                  borderRadius: \"8px\",\n+                }}>\n+                <h2 style={{\n+                  fontSize: \"1em\",\n+                  fontWeight: \"bold\",\n+                  marginBottom: \"15px\",\n+                  color: \"#000000\",\n+                  textAlign: \"left\",\n+                  borderBottom: \"1px solid #000000\",\n+                  paddingBottom: \"10px\"\n+                }}>\n+                  ORDER SUMMARY\n+                </h2>\n+                <div className=\"space-y-4\">\n+                  {cartItems.map((item) => (\n+                    <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n+                      display: \"flex\",\n+                      gap: \"15px\",\n+                      marginBottom: \"20px\",\n+                      color: \"#000000\",\n+                    }}>\n+                      <img \n+                        src={item.image} \n+                        alt={item.name} \n+                        style={{\n+                          width: \"80px\",\n+                          height: \"80px\",\n+                          objectFit: \"cover\",\n+                        }}\n+                      />\n+                      <div style={{\n+                        color: \"#000000\",\n+                        flex: 1,\n+                      }}>\n+                        <p style={{ \n+                          fontWeight: \"bold\", \n+                          marginBottom: \"6px\", \n+                          fontSize: \"0.9em\" \n+                        }}>\n+                          {item.name}\n+                        </p>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Quantity:</span>\n+                          <span>{item.quantity}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Color:</span>\n+                            <span>{item.color || \"Black\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Size:</span>\n+                          <span>{item.size || \"Unknown\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Time:</span>\n+                            <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n+                        </div>\n+                        <div style={{\n+                          display: \"flex\",\n+                          justifyContent: \"space-between\",\n+                          marginBottom: \"4px\",\n+                          fontSize: \"0.7em\",\n+                          color: \"#000000\",\n+                        }}>\n+                            <span>Price:</span>\n+                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n+                        </div>\n+                      </div>\n+                    </div>\n+                  ))}\n+                  \n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                  }}>\n+                      <span>Shipping</span>\n+                      <span>Free (Express)</span>\n+                  </div>\n+                    {isPromoApplied && (\n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    color: \"#000000\",\n+                  }}>\n+                        <span>Discount</span>\n+                        <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n+                  </div>\n+                    )}\n+                  <div style={{\n+                    display: \"flex\",\n+                    justifyContent: \"space-between\",\n+                    marginBottom: \"8px\",\n+                    fontSize: \"0.7em\",\n+                    fontWeight: \"bold\",\n+                    color: \"#000000\",\n+                  }}>\n+                      <span>Total</span>\n+                      <span>{calculateTotal()}</span>\n+                    </div>\n+                  </div>\n+                  <div style={{\n+                  paddingTop: \"10px\",\n+                  marginTop: \"20px\"\n+                }}>\n+                  <div style={{ \n+                    borderTop: \"1px solid #000000\", \n+                    borderBottom: \"1px solid #000000\", \n+                    paddingTop: \"10px\", \n+                    paddingBottom: \"10px\",\n+                    marginTop: \"20px\"\n+                  }}>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n+                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n+                  </div>\n+                </div>\n+                <button\n+                  onClick={handleCheckout}\n+                  className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n+                >\n+                  CHECK OUT\n+                </button>\n+              </div>\n+            </motion.div>\n+          </div>\n+        )}\n+      </div>\n+\n+      {showEditModal && editingItem && (\n+        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n+          <motion.div\n+            initial={{ opacity: 0, y: 20 }}\n+            animate={{ opacity: 1, y: 0 }}\n+            className=\"bg-white/80 w-11/12 max-w-2xl relative\"\n+          >\n+            <button\n+              onClick={handleCancelEdit}\n+              className=\"absolute top-4 right-4 text-black\"\n+            >\n+              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+              </svg>\n+            </button>\n+            <div className=\"text-center py-4\">\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n+              <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n+                {editingItem.price?.toLocaleString('vi-VN')} VND\n+              </p>\n+            </div>\n+            <div className=\"flex flex-col md:flex-row border-t border-gray-200\">\n+              <div className=\"md:w-1/2 p-6 flex flex-col items-center justify-center border-r border-gray-200\">\n+                <img\n+                  src={editingItem.image}\n+                  alt={editingItem.name}\n+                  style={{\n+                    width: \"160px\",\n+                    height: \"160px\",\n+                    objectFit: \"cover\",\n+                    marginBottom: \"16px\"\n+                  }}\n+                />\n+                <div style={{ textAlign: \"center\" }}>\n+                    <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Color: {editingItem.color || \"Black\"}</p>\n+                    <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>Size: {editingItem.size || \"M\"}</p>\n+                </div>\n+              </div>\n+              <div className=\"md:w-1/2 p-6\">\n+                <div className=\"mb-6\">\n+                  <label style={{ \n+                    display: \"block\", \n+                    marginBottom: \"8px\", \n+                    fontSize: \"0.7em\", \n+                    color: \"#000000\", \n+                    textTransform: \"uppercase\", \n+                    letterSpacing: \"0.1em\" \n+                  }}>\n+                    SIZE\n+                  </label>\n+                  <div className=\"relative\">\n+                    <select\n+                      value={selectedSize}\n+                        onChange={handleSizeChange}\n+                      style={{\n+                        width: \"100%\",\n+                        padding: \"8px\",\n+                        fontSize: \"0.7em\",\n+                        color: \"#000000\",\n+                        border: \"1px solid #000000\",\n+                        appearance: \"none\",\n+                        background: \"white\",\n+                        cursor: \"pointer\"\n+                      }}\n+                    >\n+                        {sizes.map((size) => {\n+                          const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n+                          const isDisabled = sizeQuantity === 0;\n+                          return (\n+                            <option \n+                              key={size} \n+                              value={size}\n+                              disabled={isDisabled}\n+                              style={{\n+                                color: isDisabled ? \"#999\" : \"#000\",\n+                                backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n+                              }}\n+                            >\n+                              {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n+                        </option>\n+                          );\n+                        })}\n+                    </select>\n+                    <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n+                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                        <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                      </svg>\n+                    </div>\n+                  </div>\n+                </div>\n+                <div className=\"mb-6\">\n+                  <label style={{ display: \"block\", marginBottom: \"8px\", fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n+                    STOCK QUANTITY\n+                  </label>\n+                  <div style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n+                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} items\n+                  </div>\n+                </div>\n+              </div>\n+            </div>\n+            <div className=\"border-t border-gray-200\">\n+              <button\n+                onClick={handleSaveChanges}\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#ffffff\",\n+                  backgroundColor: \"#000000\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n+              >\n+                Save Changes\n+              </button>\n+              <button\n+                onClick={handleCancelEdit}\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#000000\",\n+                  backgroundColor: \"transparent\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n+              >\n+                Cancel\n+              </button>\n+            </div>\n+          </motion.div>\n+        </div>\n+      )}\n+\n+      {showDeleteModal && itemToDelete && (\n+        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n+          <motion.div\n+            initial={{ opacity: 0, y: 20 }}\n+            animate={{ opacity: 1, y: 0 }}\n+            className=\"bg-white/80 w-11/12 max-w-md relative\"\n+          >\n+            <button\n+              onClick={() => setShowDeleteModal(false)}\n+              className=\"absolute top-4 right-4 text-black\"\n+            >\n+              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n+                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n+              </svg>\n+            </button>\n+            <div className=\"text-center py-8\">\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n+                CONFIRM REMOVAL\n+              </p>\n+              <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n+                Are you sure you want to remove this item?\n+              </p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n+                {itemToDelete.name}\n+              </p>\n+            </div>\n+            <div className=\"border-t border-gray-200\">\n+              <button\n+                onClick={confirmDelete}\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#ffffff\",\n+                  backgroundColor: \"#000000\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n+              >\n+                Confirm\n+              </button>\n+              <button\n+                onClick={() => setShowDeleteModal(false)}\n+                style={{\n+                  width: \"100%\",\n+                  padding: \"12px\",\n+                  fontSize: \"0.7em\",\n+                  color: \"#000000\",\n+                  backgroundColor: \"transparent\",\n+                  border: \"none\",\n+                  cursor: \"pointer\",\n+                  textTransform: \"uppercase\",\n+                  letterSpacing: \"0.1em\"\n+                }}\n+              >\n+                Cancel\n+              </button>\n+            </div>\n+          </motion.div>\n+        </div>\n+      )}\n+\n+      <style jsx>{`\n+        .underline-btn {\n+          position: relative;\n+          text-decoration: none;\n+          transition: color 0.3s ease;\n+        }\n+        .underline-btn::after {\n+          content: \"\";\n+          position: absolute;\n+          width: 0;\n+          height: 1px;\n+          bottom: -1px;\n+          left: 0;\n+          background-color: currentColor;\n+          transition: width 0.3s ease;\n+        }\n+        .underline-btn:hover::after {\n+          width: 100%;\n+        }\n+        .underline-btn:hover {\n+          color: #000;\n+        }\n+        .underline-btn.remove:hover {\n+          color: #dc2626;\n+        }\n+      `}</style>\n+      </div>\n+    </div>\n+  );\n+}\n"
                },
                {
                    "date": 1749708603316,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -195,9 +195,9 @@\n         animate={{ opacity: 1 }}\n         transition={{ duration: 0.5 }}\n         className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n         style={{\n-          backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n+          backgroundImage: `url('https://ibb.co/Fq0CFZ7M')`,\n         }}\n       >\n         <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n@@ -708,645 +708,4 @@\n       </div>\n     </div>\n   );\n }\n-\"use client\";\n-import { motion } from \"framer-motion\";\n-import { useCart } from \"../../context/CartContext\";\n-import { useRouter } from \"next/navigation\";\n-import { useState, useEffect } from \"react\";\n-import { useWishlist } from \"../../context/WishlistContext\";\n-\n-export default function Cart() {\n-  const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n-  const { toggleWishlist, isInWishlist } = useWishlist();\n-  const router = useRouter();\n-  const [showEditModal, setShowEditModal] = useState(false);\n-  const [editingItem, setEditingItem] = useState(null);\n-  const [selectedSize, setSelectedSize] = useState(\"\");\n-  const [showDeleteModal, setShowDeleteModal] = useState(false);\n-  const [itemToDelete, setItemToDelete] = useState(null);\n-  const [productStock, setProductStock] = useState(null);\n-  const [editingQuantity, setEditingQuantity] = useState(1);\n-  const [isMounted, setIsMounted] = useState(false);\n-\n-  const sizes = [\"M\", \"L\", \"XL\"];\n-\n-  const calculateTotal = () => {\n-    const subtotal = cartItems\n-      .reduce((total, item) => {\n-        const itemTotal = item.price * item.quantity;\n-        return total + itemTotal;\n-      }, 0);\n-    \n-    return subtotal.toLocaleString('vi-VN') + \" VND\";\n-  };\n-\n-  const handleQuantityChange = (item, newQuantity) => {\n-    const stockQuantity = item.currentStock || item.stock?.[item.size] || 0;\n-    \n-    if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n-      updateQuantity(item.id, newQuantity);\n-    } else if (newQuantity > stockQuantity) {\n-      alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n-    }\n-  };\n-\n-  const handleEdit = async (item) => {\n-    setEditingItem(item);\n-    setSelectedSize(item.size || \"M\");\n-    setEditingQuantity(item.quantity);\n-    setShowEditModal(true);\n-\n-    // Fetch lại thông tin sản phẩm để lấy stock\n-    try {\n-      const res = await fetch(`/api/products/${item.id}`);\n-      const data = await res.json();\n-      if (data.ok) {\n-        setProductStock(data.product);\n-      } else {\n-        setProductStock(null);\n-      }\n-    } catch (err) {\n-      setProductStock(null);\n-    }\n-  };\n-\n-  const handleSizeChange = async (e) => {\n-    const newSize = e.target.value;\n-    setSelectedSize(newSize);\n-\n-    // Lấy thông tin stock từ item hiện tại\n-    const currentItem = cartItems.find(item => item.id === editingItem.id);\n-    if (currentItem) {\n-      const sizeQuantity = currentItem.stock?.[newSize] || 0;\n-      setEditingQuantity(sizeQuantity > 0 ? 1 : 0); // luôn reset về 1 hoặc 0\n-    }\n-  };\n-\n-  const handleSaveChanges = () => {\n-    if (editingItem && selectedSize) {\n-      const currentItem = cartItems.find(item => item.id === editingItem.id);\n-      if (!currentItem) return;\n-\n-      const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n-      if (editingQuantity > sizeQuantity) {\n-        alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n-        return;\n-      }\n-\n-      updateQuantity(editingItem.id, editingQuantity, selectedSize, sizeQuantity);\n-    }\n-    setShowEditModal(false);\n-    setEditingItem(null);\n-    setProductStock(null);\n-    setEditingQuantity(1);\n-  };\n-\n-  const handleCancelEdit = () => {\n-    setShowEditModal(false);\n-    setEditingItem(null);\n-    setProductStock(null);\n-    setEditingQuantity(1);\n-  };\n-\n-  const handleDelete = (item) => {\n-    setItemToDelete(item);\n-    setShowDeleteModal(true);\n-  };\n-\n-  const confirmDelete = () => {\n-    if (itemToDelete) {\n-      removeItem(itemToDelete.id);\n-      setShowDeleteModal(false);\n-      setItemToDelete(null);\n-    }\n-  };\n-\n-  useEffect(() => {\n-    setIsMounted(true);\n-  }, []);\n-\n-  if (!isMounted) return null;\n-\n-  const handleCheckout = () => {\n-    if (cartItems.length === 0) {\n-      alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n-      return;\n-    }\n-    router.push(\"/checkout\");\n-  };\n-\n-  return (\n-    <div className=\"bg-white\">\n-      <div style={{\n-        maxWidth: \"1200px\",\n-        margin: \"0 auto\",\n-        backgroundColor: \"#FFFFFF\",\n-      }}>\n-      <motion.div\n-        initial={{ opacity: 0 }}\n-        animate={{ opacity: 1 }}\n-        transition={{ duration: 0.5 }}\n-        className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n-        style={{\n-          backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n-        }}\n-      >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n-      </motion.div>\n-\n-      <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n-        {cartItems.length === 0 ? (\n-          <div className=\"text-center py-16\">\n-            <h1 style={{\n-              fontSize: \"1.5em\",\n-              fontWeight: \"bold\",\n-              marginBottom: \"20px\",\n-              color: \"#000000\",\n-              textTransform: \"uppercase\",\n-              borderBottom: \"2px solid #000000\",\n-              display: \"inline-block\",\n-              paddingBottom: \"5px\"\n-            }}>\n-              SHOPPING BAG\n-            </h1>\n-            <p style={{ \n-              fontSize: \"1em\", \n-              color: \"#000000\", \n-              marginTop: \"20px\",\n-              marginBottom: \"20px\" \n-            }}>\n-              Bạn không có sản phẩm nào trong shopping bag cả.\n-            </p>\n-            <button\n-              onClick={() => router.push('/products')}\n-              style={{\n-                backgroundColor: \"#000000\",\n-                color: \"#FFFFFF\",\n-                padding: \"10px 20px\",\n-                border: \"none\",\n-                cursor: \"pointer\",\n-                fontSize: \"0.9em\"\n-              }}\n-            >\n-              Khám phá sản phẩm\n-            </button>\n-          </div>\n-        ) : (\n-          <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n-            <motion.div\n-              initial={{ opacity: 0, y: 20 }}\n-              animate={{ opacity: 1, y: 0 }}\n-              transition={{ duration: 0.5 }}\n-              className=\"lg:col-span-7\"\n-            >\n-              <div className=\"mb-6\">\n-                <h2 style={{\n-                  fontSize: \"1em\",\n-                  fontWeight: \"bold\",\n-                  marginBottom: \"15px\",\n-                  color: \"#000000\",\n-                  textAlign: \"left\",\n-                  borderBottom: \"1px solid #000000\",\n-                  paddingBottom: \"10px\"\n-                }}>\n-                  YOUR SELECTIONS\n-                </h2>\n-              </div>\n-              {cartItems.map((item) => (\n-                <div key={item.cartItemId || `${item.id}-${item.size}`}\n-                  className=\"flex flex-col md:flex-row items-start mb-8 pb-12 md:mb-8 md:pb-12 border-b-2 border-black last:border-b-0 gap-2 md:gap-0\"\n-                >\n-                  <img\n-                    src={item.image}\n-                    alt={item.name}\n-                    className=\"w-30 h-30 md:w-40 md:h-40 object-cover rounded mx-auto md:mx-0 mb-2 md:mb-0\"\n-                  />\n-                  <div className=\"flex-1 flex flex-col\">\n-                    <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n-                      <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n-                      <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n-                    </div>\n-                    <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n-                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n-                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n-                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n-                    <div className=\"flex items-center mt-2 gap-1 md:gap-2\">\n-                      <button\n-                        onClick={() => handleQuantityChange(item, item.quantity - 1)}\n-                        className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n-                        disabled={item.quantity <= 1}\n-                      >−</button>\n-                      <span className=\"w-6 md:w-7 text-center text-xs text-black border border-black py-1\">{item.quantity}</span>\n-                      <button\n-                        onClick={() => handleQuantityChange(item, item.quantity + 1)}\n-                        className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n-                        disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n-                      >+</button>\n-                      <span className=\"text-xs text-black ml-1 md:ml-2\">({item.currentStock || item.stock?.[item.size] || 0} items left)</span>\n-                    </div>\n-                    <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n-                      <button\n-                        onClick={() => handleEdit(item)}\n-                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >EDIT</button>\n-                      <span className=\"text-xs text-black font-bold\">|</span>\n-                      <button\n-                        onClick={() => handleDelete(item)}\n-                        className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >DELETE</button>\n-                    </div>\n-                  </div>\n-                </div>\n-              ))}\n-            </motion.div>\n-\n-            <motion.div\n-              initial={{ opacity: 0, y: 20 }}\n-              animate={{ opacity: 1, y: 0 }}\n-              transition={{ duration: 0.5, delay: 0.2 }}\n-              className=\"lg:col-span-3\"\n-            >\n-                <div className=\"bg-white p-6 rounded-lg sticky top-4\" style={{\n-                  boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\",\n-                  border: \"1px solid #e5e7eb\",\n-                  borderRadius: \"8px\",\n-                }}>\n-                <h2 style={{\n-                  fontSize: \"1em\",\n-                  fontWeight: \"bold\",\n-                  marginBottom: \"15px\",\n-                  color: \"#000000\",\n-                  textAlign: \"left\",\n-                  borderBottom: \"1px solid #000000\",\n-                  paddingBottom: \"10px\"\n-                }}>\n-                  ORDER SUMMARY\n-                </h2>\n-                <div className=\"space-y-4\">\n-                  {cartItems.map((item) => (\n-                    <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n-                      display: \"flex\",\n-                      gap: \"15px\",\n-                      marginBottom: \"20px\",\n-                      color: \"#000000\",\n-                    }}>\n-                      <img \n-                        src={item.image} \n-                        alt={item.name} \n-                        style={{\n-                          width: \"80px\",\n-                          height: \"80px\",\n-                          objectFit: \"cover\",\n-                        }}\n-                      />\n-                      <div style={{\n-                        color: \"#000000\",\n-                        flex: 1,\n-                      }}>\n-                        <p style={{ \n-                          fontWeight: \"bold\", \n-                          marginBottom: \"6px\", \n-                          fontSize: \"0.9em\" \n-                        }}>\n-                          {item.name}\n-                        </p>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Quantity:</span>\n-                          <span>{item.quantity}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Color:</span>\n-                            <span>{item.color || \"Black\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Size:</span>\n-                          <span>{item.size || \"Unknown\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Time:</span>\n-                            <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n-                        </div>\n-                        <div style={{\n-                          display: \"flex\",\n-                          justifyContent: \"space-between\",\n-                          marginBottom: \"4px\",\n-                          fontSize: \"0.7em\",\n-                          color: \"#000000\",\n-                        }}>\n-                            <span>Price:</span>\n-                            <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n-                        </div>\n-                      </div>\n-                    </div>\n-                  ))}\n-                  \n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    color: \"#000000\",\n-                  }}>\n-                      <span>Shipping</span>\n-                      <span>Free (Express)</span>\n-                  </div>\n-                  <div style={{\n-                    display: \"flex\",\n-                    justifyContent: \"space-between\",\n-                    marginBottom: \"8px\",\n-                    fontSize: \"0.7em\",\n-                    fontWeight: \"bold\",\n-                    color: \"#000000\",\n-                  }}>\n-                      <span>Total</span>\n-                      <span>{calculateTotal()}</span>\n-                  </div>\n-                </div>\n-                <div style={{\n-                  paddingTop: \"10px\",\n-                  marginTop: \"20px\"\n-                }}>\n-                  <div style={{ \n-                    borderTop: \"1px solid #000000\", \n-                    borderBottom: \"1px solid #000000\", \n-                    paddingTop: \"10px\", \n-                    paddingBottom: \"10px\",\n-                    marginTop: \"20px\"\n-                  }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n-                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n-                    <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n-                  </div>\n-                </div>\n-                <button\n-                  onClick={handleCheckout}\n-                  className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n-                >\n-                  CHECK OUT\n-                </button>\n-              </div>\n-            </motion.div>\n-          </div>\n-        )}\n-      </div>\n-\n-      {showEditModal && editingItem && (\n-        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n-          <motion.div\n-            initial={{ opacity: 0, y: 20 }}\n-            animate={{ opacity: 1, y: 0 }}\n-            className=\"bg-white/80 w-11/12 max-w-2xl relative\"\n-          >\n-            <button\n-              onClick={handleCancelEdit}\n-              className=\"absolute top-4 right-4 text-black\"\n-            >\n-              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-              </svg>\n-            </button>\n-            <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n-              <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n-                {editingItem.price?.toLocaleString('vi-VN')} VND\n-              </p>\n-            </div>\n-            <div className=\"flex flex-col md:flex-row border-t border-gray-200\">\n-              <div className=\"md:w-1/2 p-6 flex flex-col items-center justify-center border-r border-gray-200\">\n-                <img\n-                  src={editingItem.image}\n-                  alt={editingItem.name}\n-                  style={{\n-                    width: \"160px\",\n-                    height: \"160px\",\n-                    objectFit: \"cover\",\n-                    marginBottom: \"16px\"\n-                  }}\n-                />\n-                <div style={{ textAlign: \"center\" }}>\n-                    <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Color: {editingItem.color || \"Black\"}</p>\n-                    <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>Size: {editingItem.size || \"M\"}</p>\n-                </div>\n-              </div>\n-              <div className=\"md:w-1/2 p-6\">\n-                <div className=\"mb-6\">\n-                  <label style={{ \n-                    display: \"block\", \n-                    marginBottom: \"8px\", \n-                    fontSize: \"0.7em\", \n-                    color: \"#000000\", \n-                    textTransform: \"uppercase\", \n-                    letterSpacing: \"0.1em\" \n-                  }}>\n-                    SIZE\n-                  </label>\n-                  <div className=\"relative\">\n-                    <select\n-                      value={selectedSize}\n-                        onChange={handleSizeChange}\n-                      style={{\n-                        width: \"100%\",\n-                        padding: \"8px\",\n-                        fontSize: \"0.7em\",\n-                        color: \"#000000\",\n-                        border: \"1px solid #000000\",\n-                        appearance: \"none\",\n-                        background: \"white\",\n-                        cursor: \"pointer\"\n-                      }}\n-                    >\n-                        {sizes.map((size) => {\n-                          const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n-                          const isDisabled = sizeQuantity === 0;\n-                          return (\n-                            <option \n-                              key={size} \n-                              value={size}\n-                              disabled={isDisabled}\n-                              style={{\n-                                color: isDisabled ? \"#999\" : \"#000\",\n-                                backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n-                              }}\n-                            >\n-                              {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n-                        </option>\n-                          );\n-                        })}\n-                    </select>\n-                    <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n-                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                        <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                      </svg>\n-                    </div>\n-                  </div>\n-                </div>\n-                <div className=\"mb-6\">\n-                  <label style={{ display: \"block\", marginBottom: \"8px\", fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n-                    STOCK QUANTITY\n-                  </label>\n-                  <div style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} items\n-                  </div>\n-                </div>\n-              </div>\n-            </div>\n-            <div className=\"border-t border-gray-200\">\n-              <button\n-                onClick={handleSaveChanges}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#ffffff\",\n-                  backgroundColor: \"#000000\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Save Changes\n-              </button>\n-              <button\n-                onClick={handleCancelEdit}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#000000\",\n-                  backgroundColor: \"transparent\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Cancel\n-              </button>\n-            </div>\n-          </motion.div>\n-        </div>\n-      )}\n-\n-      {showDeleteModal && itemToDelete && (\n-        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n-          <motion.div\n-            initial={{ opacity: 0, y: 20 }}\n-            animate={{ opacity: 1, y: 0 }}\n-            className=\"bg-white/80 w-11/12 max-w-md relative\"\n-          >\n-            <button\n-              onClick={() => setShowDeleteModal(false)}\n-              className=\"absolute top-4 right-4 text-black\"\n-            >\n-              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n-                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n-              </svg>\n-            </button>\n-            <div className=\"text-center py-8\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                CONFIRM REMOVAL\n-              </p>\n-              <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                Are you sure you want to remove this item?\n-              </p>\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                {itemToDelete.name}\n-              </p>\n-            </div>\n-            <div className=\"border-t border-gray-200\">\n-              <button\n-                onClick={confirmDelete}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#ffffff\",\n-                  backgroundColor: \"#000000\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Confirm\n-              </button>\n-              <button\n-                onClick={() => setShowDeleteModal(false)}\n-                style={{\n-                  width: \"100%\",\n-                  padding: \"12px\",\n-                  fontSize: \"0.7em\",\n-                  color: \"#000000\",\n-                  backgroundColor: \"transparent\",\n-                  border: \"none\",\n-                  cursor: \"pointer\",\n-                  textTransform: \"uppercase\",\n-                  letterSpacing: \"0.1em\"\n-                }}\n-              >\n-                Cancel\n-              </button>\n-            </div>\n-          </motion.div>\n-        </div>\n-      )}\n-\n-      <style jsx>{`\n-        .underline-btn {\n-          position: relative;\n-          text-decoration: none;\n-          transition: color 0.3s ease;\n-        }\n-        .underline-btn::after {\n-          content: \"\";\n-          position: absolute;\n-          width: 0;\n-          height: 1px;\n-          bottom: -1px;\n-          left: 0;\n-          background-color: currentColor;\n-          transition: width 0.3s ease;\n-        }\n-        .underline-btn:hover::after {\n-          width: 100%;\n-        }\n-        .underline-btn:hover {\n-          color: #000;\n-        }\n-        .underline-btn.remove:hover {\n-          color: #dc2626;\n-        }\n-      `}</style>\n-      </div>\n-    </div>\n-  );\n-}\n"
                },
                {
                    "date": 1749708785322,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -195,9 +195,9 @@\n         animate={{ opacity: 1 }}\n         transition={{ duration: 0.5 }}\n         className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n         style={{\n-          backgroundImage: `url('https://ibb.co/Fq0CFZ7M')`,\n+          backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n         }}\n       >\n         <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n"
                },
                {
                    "date": 1749709086350,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -195,9 +195,9 @@\n         animate={{ opacity: 1 }}\n         transition={{ duration: 0.5 }}\n         className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n         style={{\n-          backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n+          backgroundImage: `url('https://i.postimg.cc/PxB9Jx4c/banner-3-compressed-compressed.jpg')`,\n         }}\n       >\n         <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n"
                },
                {
                    "date": 1749709209975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -196,8 +196,9 @@\n         transition={{ duration: 0.5 }}\n         className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n         style={{\n           backgroundImage: `url('https://i.postimg.cc/PxB9Jx4c/banner-3-compressed-compressed.jpg')`,\n+          backgroundPosition: 'center 30%',\n         }}\n       >\n         <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n"
                },
                {
                    "date": 1749709229526,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -196,9 +196,8 @@\n         transition={{ duration: 0.5 }}\n         className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n         style={{\n           backgroundImage: `url('https://i.postimg.cc/PxB9Jx4c/banner-3-compressed-compressed.jpg')`,\n-          backgroundPosition: 'center 30%',\n         }}\n       >\n         <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n"
                },
                {
                    "date": 1749709259271,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -196,8 +196,9 @@\n         transition={{ duration: 0.5 }}\n         className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n         style={{\n           backgroundImage: `url('https://i.postimg.cc/PxB9Jx4c/banner-3-compressed-compressed.jpg')`,\n+          backgroundPosition: 'center top',\n         }}\n       >\n         <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n"
                },
                {
                    "date": 1749709499083,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -195,9 +195,9 @@\n         animate={{ opacity: 1 }}\n         transition={{ duration: 0.5 }}\n         className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n         style={{\n-          backgroundImage: `url('https://i.postimg.cc/PxB9Jx4c/banner-3-compressed-compressed.jpg')`,\n+          backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compresse')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n         <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n"
                },
                {
                    "date": 1749709507790,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -195,9 +195,9 @@\n         animate={{ opacity: 1 }}\n         transition={{ duration: 0.5 }}\n         className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n         style={{\n-          backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compresse')`,\n+          backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n         <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n"
                },
                {
                    "date": 1750472240247,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -420,9 +420,9 @@\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n                       <span>Shipping</span>\n-                      <span>Free (Express)</span>\n+                      <span>Shipping fee will be calculated at checkout</span>\n                   </div>\n                     {isPromoApplied && (\n                   <div style={{\n                     display: \"flex\",\n"
                },
                {
                    "date": 1750473677333,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -420,9 +420,8 @@\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n                       <span>Shipping</span>\n-                      <span>Shipping fee will be calculated at checkout</span>\n                   </div>\n                     {isPromoApplied && (\n                   <div style={{\n                     display: \"flex\",\n"
                },
                {
                    "date": 1750473909942,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -419,9 +419,8 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>Shipping</span>\n                   </div>\n                     {isPromoApplied && (\n                   <div style={{\n                     display: \"flex\",\n"
                },
                {
                    "date": 1751254474315,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n+import { useLanguage } from \"../../context/LanguageContext\";\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -20,8 +21,9 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n+  const { t } = useLanguage();\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -41,9 +43,9 @@\n     \n     if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n       updateQuantity(item.id, newQuantity);\n     } else if (newQuantity > stockQuantity) {\n-      alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n+      alert(t('cart.itemsLeft').replace('{count}', stockQuantity).replace('{size}', item.size));\n     }\n   };\n \n   const handleEdit = async (item) => {\n@@ -84,9 +86,9 @@\n       if (!currentItem) return;\n \n       const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n       if (editingQuantity > sizeQuantity) {\n-        alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n+        alert(t('cart.itemsLeft').replace('{count}', sizeQuantity).replace('{size}', selectedSize));\n         return;\n       }\n \n       updateQuantity(editingItem.id, editingQuantity, selectedSize, sizeQuantity);\n@@ -176,9 +178,9 @@\n   };\n \n   const handleCheckout = () => {\n     if (cartItems.length === 0) {\n-      alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n+      alert(t('cart.noItems'));\n       return;\n     }\n     router.push(\"/checkout\");\n   };\n@@ -199,9 +201,11 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">\n+          {t('cart.shoppingBag')}\n+        </h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -215,17 +219,17 @@\n               borderBottom: \"2px solid #000000\",\n               display: \"inline-block\",\n               paddingBottom: \"5px\"\n             }}>\n-              SHOPPING BAG\n+              {t('cart.shoppingBag')}\n             </h1>\n             <p style={{ \n               fontSize: \"1em\", \n               color: \"#000000\", \n               marginTop: \"20px\",\n               marginBottom: \"20px\" \n             }}>\n-              Bạn không có sản phẩm nào trong shopping bag cả.\n+              {t('cart.noItems')}\n             </p>\n             <button\n               onClick={() => router.push('/products')}\n               style={{\n@@ -236,9 +240,9 @@\n                 cursor: \"pointer\",\n                 fontSize: \"0.9em\"\n               }}\n             >\n-              Khám phá sản phẩm\n+              {t('cart.exploreProducts')}\n             </button>\n           </div>\n         ) : (\n           <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n@@ -257,9 +261,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  YOUR SELECTIONS\n+                  {t('cart.yourSelections')}\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n@@ -274,12 +278,12 @@\n                     <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n                       <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n                       <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n                     </div>\n-                    <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n-                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n-                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n-                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">{t('cart.color')}: {item.color || t('cart.unknownColor')}</p>\n+                    <p className=\"text-xs text-black mb-1\">{t('cart.size')}: {item.size || t('cart.unknownSize')}</p>\n+                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || t('cart.order')}</p>\n+                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || t('cart.expectedShipping')}</p>\n                     <div className=\"flex items-center mt-2 gap-1 md:gap-2\">\n                       <button\n                         onClick={() => handleQuantityChange(item, item.quantity - 1)}\n                         className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n@@ -290,20 +294,20 @@\n                         onClick={() => handleQuantityChange(item, item.quantity + 1)}\n                         className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n                         disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n                       >+</button>\n-                      <span className=\"text-xs text-black ml-1 md:ml-2\">({item.currentStock || item.stock?.[item.size] || 0} items left)</span>\n+                      <span className=\"text-xs text-black ml-1 md:ml-2\">({t('cart.itemsLeft').replace('{count}', item.currentStock || item.stock?.[item.size] || 0)})</span>\n                     </div>\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >EDIT</button>\n+                      >{t('cart.edit')}</button>\n                       <span className=\"text-xs text-black font-bold\">|</span>\n                       <button\n                         onClick={() => handleDelete(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >DELETE</button>\n+                      >{t('cart.delete')}</button>\n                     </div>\n                   </div>\n                 </div>\n               ))}\n@@ -328,9 +332,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  ORDER SUMMARY\n+                  {t('cart.orderSummary')}\n                 </h2>\n                 <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n                     <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n@@ -365,9 +369,9 @@\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>Quantity:</span>\n+                            <span>{t('cart.quantity')}</span>\n                           <span>{item.quantity}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n@@ -375,39 +379,39 @@\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>Color:</span>\n-                            <span>{item.color || \"Black\"}</span>\n+                            <span>{t('cart.color')}</span>\n+                            <span>{item.color || t('cart.unknownColor')}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n                           justifyContent: \"space-between\",\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>Size:</span>\n-                          <span>{item.size || \"Unknown\"}</span>\n+                            <span>{t('cart.size')}</span>\n+                          <span>{item.size || t('cart.unknownSize')}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n                           justifyContent: \"space-between\",\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>Time:</span>\n-                            <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n+                            <span>{t('cart.time')}</span>\n+                            <span>{item.shippingInfo || t('cart.expectedShipping')}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n                           justifyContent: \"space-between\",\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>Price:</span>\n+                            <span>{t('cart.price')}</span>\n                             <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n                         </div>\n                       </div>\n                     </div>\n@@ -428,9 +432,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>Discount</span>\n+                        <span>{t('cart.discount')}</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -440,9 +444,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>Total</span>\n+                      <span>{t('cart.total')}</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n@@ -455,18 +459,18 @@\n                     paddingTop: \"10px\", \n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>{t('cart.mayWeHelp')}</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n                   className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n-                  CHECK OUT\n+                  {t('cart.checkOut')}\n                 </button>\n               </div>\n             </motion.div>\n           </div>\n@@ -489,9 +493,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.editYourSelection')}</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -508,10 +512,10 @@\n                     marginBottom: \"16px\"\n                   }}\n                 />\n                 <div style={{ textAlign: \"center\" }}>\n-                    <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Color: {editingItem.color || \"Black\"}</p>\n-                    <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>Size: {editingItem.size || \"M\"}</p>\n+                    <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>{t('cart.color')}: {editingItem.color || t('cart.unknownColor')}</p>\n+                    <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>{t('cart.size')}: {editingItem.size || t('cart.unknownSize')}</p>\n                 </div>\n               </div>\n               <div className=\"md:w-1/2 p-6\">\n                 <div className=\"mb-6\">\n@@ -522,9 +526,9 @@\n                     color: \"#000000\", \n                     textTransform: \"uppercase\", \n                     letterSpacing: \"0.1em\" \n                   }}>\n-                    SIZE\n+                    {t('cart.size')}\n                   </label>\n                   <div className=\"relative\">\n                     <select\n                       value={selectedSize}\n@@ -552,9 +556,9 @@\n                                 color: isDisabled ? \"#999\" : \"#000\",\n                                 backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n                               }}\n                             >\n-                              {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n+                              {size} - {isDisabled ? t('cart.soldOut') : t('cart.inStock').replace('{count}', sizeQuantity)}\n                         </option>\n                           );\n                         })}\n                     </select>\n@@ -566,12 +570,12 @@\n                   </div>\n                 </div>\n                 <div className=\"mb-6\">\n                   <label style={{ display: \"block\", marginBottom: \"8px\", fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n-                    STOCK QUANTITY\n+                    {t('cart.stockQuantity')}\n                   </label>\n                   <div style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} items\n+                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} {t('cart.itemsLeft').replace('{count}', productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0)}\n                   </div>\n                 </div>\n               </div>\n             </div>\n@@ -589,9 +593,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Save Changes\n+                {t('cart.saveChanges')}\n               </button>\n               <button\n                 onClick={handleCancelEdit}\n                 style={{\n@@ -605,9 +609,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Cancel\n+                {t('cart.cancel')}\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -630,12 +634,12 @@\n               </svg>\n             </button>\n             <div className=\"text-center py-8\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                CONFIRM REMOVAL\n+                {t('cart.confirmRemove')}\n               </p>\n               <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                Are you sure you want to remove this item?\n+                {t('cart.confirmRemoveMsg')}\n               </p>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                 {itemToDelete.name}\n               </p>\n@@ -654,9 +658,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Confirm\n+                {t('cart.confirm')}\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n                 style={{\n@@ -670,9 +674,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Cancel\n+                {t('cart.cancel')}\n               </button>\n             </div>\n           </motion.div>\n         </div>\n"
                },
                {
                    "date": 1751254972269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,10 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n-import { useLanguage } from \"../../context/LanguageContext\";\n+import { useTranslation } from 'next-i18next';\n+import { serverSideTranslations } from 'next-i18next/serverSideTranslations';\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -21,9 +22,9 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n-  const { t } = useLanguage();\n+  const { t } = useTranslation('translation');\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -43,9 +44,9 @@\n     \n     if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n       updateQuantity(item.id, newQuantity);\n     } else if (newQuantity > stockQuantity) {\n-      alert(t('cart.itemsLeft').replace('{count}', stockQuantity).replace('{size}', item.size));\n+      alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n   const handleEdit = async (item) => {\n@@ -86,9 +87,9 @@\n       if (!currentItem) return;\n \n       const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n       if (editingQuantity > sizeQuantity) {\n-        alert(t('cart.itemsLeft').replace('{count}', sizeQuantity).replace('{size}', selectedSize));\n+        alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n         return;\n       }\n \n       updateQuantity(editingItem.id, editingQuantity, selectedSize, sizeQuantity);\n@@ -178,9 +179,9 @@\n   };\n \n   const handleCheckout = () => {\n     if (cartItems.length === 0) {\n-      alert(t('cart.noItems'));\n+      alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n       return;\n     }\n     router.push(\"/checkout\");\n   };\n@@ -201,11 +202,9 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">\n-          {t('cart.shoppingBag')}\n-        </h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">{t('cart.shoppingBag')}</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -227,9 +226,9 @@\n               color: \"#000000\", \n               marginTop: \"20px\",\n               marginBottom: \"20px\" \n             }}>\n-              {t('cart.noItems')}\n+              Bạn không có sản phẩm nào trong shopping bag cả.\n             </p>\n             <button\n               onClick={() => router.push('/products')}\n               style={{\n@@ -240,9 +239,9 @@\n                 cursor: \"pointer\",\n                 fontSize: \"0.9em\"\n               }}\n             >\n-              {t('cart.exploreProducts')}\n+              Khám phá sản phẩm\n             </button>\n           </div>\n         ) : (\n           <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n@@ -261,9 +260,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  {t('cart.yourSelections')}\n+                  YOUR SELECTIONS\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n@@ -278,12 +277,12 @@\n                     <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-1 md:gap-0\">\n                       <p className=\"text-xs md:text-base font-bold text-black mb-1\">{item.name}</p>\n                       <p className=\"text-xs md:text-sm text-black font-bold\">{(item.price * item.quantity).toLocaleString('vi-VN')} VND</p>\n                     </div>\n-                    <p className=\"text-xs text-black mb-1\">{t('cart.color')}: {item.color || t('cart.unknownColor')}</p>\n-                    <p className=\"text-xs text-black mb-1\">{t('cart.size')}: {item.size || t('cart.unknownSize')}</p>\n-                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || t('cart.order')}</p>\n-                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || t('cart.expectedShipping')}</p>\n+                    <p className=\"text-xs text-black mb-1\">Color: {item.color || \"Black\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">Size: {item.size || \"Unknown\"}</p>\n+                    <p className=\"text-xs font-bold text-black mb-1\">{item.status || \"ORDER\"}</p>\n+                    <p className=\"text-xs text-black mb-1\">{item.shippingInfo || \"Expected 2-3 days\"}</p>\n                     <div className=\"flex items-center mt-2 gap-1 md:gap-2\">\n                       <button\n                         onClick={() => handleQuantityChange(item, item.quantity - 1)}\n                         className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n@@ -294,9 +293,9 @@\n                         onClick={() => handleQuantityChange(item, item.quantity + 1)}\n                         className=\"w-6 h-6 md:w-7 md:h-7 flex items-center justify-center border border-black text-black text-xs bg-transparent disabled:opacity-50\"\n                         disabled={item.quantity >= (item.currentStock || item.stock?.[item.size] || 0)}\n                       >+</button>\n-                      <span className=\"text-xs text-black ml-1 md:ml-2\">({t('cart.itemsLeft').replace('{count}', item.currentStock || item.stock?.[item.size] || 0)})</span>\n+                      <span className=\"text-xs text-black ml-1 md:ml-2\">({item.currentStock || item.stock?.[item.size] || 0} items left)</span>\n                     </div>\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n@@ -332,9 +331,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  {t('cart.orderSummary')}\n+                  ORDER SUMMARY\n                 </h2>\n                 <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n                     <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n@@ -369,9 +368,9 @@\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>{t('cart.quantity')}</span>\n+                            <span>Quantity:</span>\n                           <span>{item.quantity}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n@@ -379,39 +378,39 @@\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>{t('cart.color')}</span>\n-                            <span>{item.color || t('cart.unknownColor')}</span>\n+                            <span>Color:</span>\n+                            <span>{item.color || \"Black\"}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n                           justifyContent: \"space-between\",\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>{t('cart.size')}</span>\n-                          <span>{item.size || t('cart.unknownSize')}</span>\n+                            <span>Size:</span>\n+                          <span>{item.size || \"Unknown\"}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n                           justifyContent: \"space-between\",\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>{t('cart.time')}</span>\n-                            <span>{item.shippingInfo || t('cart.expectedShipping')}</span>\n+                            <span>Time:</span>\n+                            <span>{item.shippingInfo || \"Expected 2-3 days\"}</span>\n                         </div>\n                         <div style={{\n                           display: \"flex\",\n                           justifyContent: \"space-between\",\n                           marginBottom: \"4px\",\n                           fontSize: \"0.7em\",\n                           color: \"#000000\",\n                         }}>\n-                            <span>{t('cart.price')}</span>\n+                            <span>Price:</span>\n                             <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n                         </div>\n                       </div>\n                     </div>\n@@ -432,9 +431,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>{t('cart.discount')}</span>\n+                        <span>Discount</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -444,9 +443,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>{t('cart.total')}</span>\n+                      <span>Total</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n@@ -459,18 +458,18 @@\n                     paddingTop: \"10px\", \n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>{t('cart.mayWeHelp')}</p>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n                   className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n-                  {t('cart.checkOut')}\n+                  CHECK OUT\n                 </button>\n               </div>\n             </motion.div>\n           </div>\n@@ -493,9 +492,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.editYourSelection')}</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.edit')}</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -512,10 +511,10 @@\n                     marginBottom: \"16px\"\n                   }}\n                 />\n                 <div style={{ textAlign: \"center\" }}>\n-                    <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>{t('cart.color')}: {editingItem.color || t('cart.unknownColor')}</p>\n-                    <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>{t('cart.size')}: {editingItem.size || t('cart.unknownSize')}</p>\n+                    <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Color: {editingItem.color || \"Black\"}</p>\n+                    <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>Size: {editingItem.size || \"M\"}</p>\n                 </div>\n               </div>\n               <div className=\"md:w-1/2 p-6\">\n                 <div className=\"mb-6\">\n@@ -526,9 +525,9 @@\n                     color: \"#000000\", \n                     textTransform: \"uppercase\", \n                     letterSpacing: \"0.1em\" \n                   }}>\n-                    {t('cart.size')}\n+                    SIZE\n                   </label>\n                   <div className=\"relative\">\n                     <select\n                       value={selectedSize}\n@@ -556,9 +555,9 @@\n                                 color: isDisabled ? \"#999\" : \"#000\",\n                                 backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n                               }}\n                             >\n-                              {size} - {isDisabled ? t('cart.soldOut') : t('cart.inStock').replace('{count}', sizeQuantity)}\n+                              {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n                         </option>\n                           );\n                         })}\n                     </select>\n@@ -570,12 +569,12 @@\n                   </div>\n                 </div>\n                 <div className=\"mb-6\">\n                   <label style={{ display: \"block\", marginBottom: \"8px\", fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n-                    {t('cart.stockQuantity')}\n+                    STOCK QUANTITY\n                   </label>\n                   <div style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n-                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} {t('cart.itemsLeft').replace('{count}', productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0)}\n+                    {productStock ? (productStock[`quantity${selectedSize}`] || 0) : 0} items\n                   </div>\n                 </div>\n               </div>\n             </div>\n@@ -593,9 +592,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.saveChanges')}\n+                Save Changes\n               </button>\n               <button\n                 onClick={handleCancelEdit}\n                 style={{\n@@ -609,9 +608,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.cancel')}\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -634,12 +633,12 @@\n               </svg>\n             </button>\n             <div className=\"text-center py-8\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                {t('cart.confirmRemove')}\n+                CONFIRM REMOVAL\n               </p>\n               <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                {t('cart.confirmRemoveMsg')}\n+                Are you sure you want to remove this item?\n               </p>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                 {itemToDelete.name}\n               </p>\n@@ -658,9 +657,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.confirm')}\n+                Confirm\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n                 style={{\n@@ -674,9 +673,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.cancel')}\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -711,4 +710,12 @@\n       </div>\n     </div>\n   );\n }\n+\n+export async function getServerSideProps({ locale }) {\n+  return {\n+    props: {\n+      ...(await serverSideTranslations(locale, ['translation'])),\n+    },\n+  };\n+}\n"
                },
                {
                    "date": 1751255195718,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,8 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n-import { useTranslation } from 'next-i18next';\n-import { serverSideTranslations } from 'next-i18next/serverSideTranslations';\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -22,9 +20,8 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n-  const { t } = useTranslation('translation');\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -202,9 +199,9 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">{t('cart.shoppingBag')}</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -218,9 +215,9 @@\n               borderBottom: \"2px solid #000000\",\n               display: \"inline-block\",\n               paddingBottom: \"5px\"\n             }}>\n-              {t('cart.shoppingBag')}\n+              SHOPPING BAG\n             </h1>\n             <p style={{ \n               fontSize: \"1em\", \n               color: \"#000000\", \n@@ -299,14 +296,14 @@\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >{t('cart.edit')}</button>\n+                      >EDIT</button>\n                       <span className=\"text-xs text-black font-bold\">|</span>\n                       <button\n                         onClick={() => handleDelete(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >{t('cart.delete')}</button>\n+                      >DELETE</button>\n                     </div>\n                   </div>\n                 </div>\n               ))}\n@@ -492,9 +489,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.edit')}</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -710,12 +707,4 @@\n       </div>\n     </div>\n   );\n }\n-\n-export async function getServerSideProps({ locale }) {\n-  return {\n-    props: {\n-      ...(await serverSideTranslations(locale, ['translation'])),\n-    },\n-  };\n-}\n"
                },
                {
                    "date": 1751255415353,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n+import { useTranslation } from 'next-i18next';\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -20,8 +21,9 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n+  const { t } = useTranslation('translation');\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -199,9 +201,9 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">{t('cart.shoppingBag')}</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -215,9 +217,9 @@\n               borderBottom: \"2px solid #000000\",\n               display: \"inline-block\",\n               paddingBottom: \"5px\"\n             }}>\n-              SHOPPING BAG\n+              {t('cart.shoppingBag')}\n             </h1>\n             <p style={{ \n               fontSize: \"1em\", \n               color: \"#000000\", \n@@ -236,9 +238,9 @@\n                 cursor: \"pointer\",\n                 fontSize: \"0.9em\"\n               }}\n             >\n-              Khám phá sản phẩm\n+              {t('cart.exploreProducts')}\n             </button>\n           </div>\n         ) : (\n           <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n@@ -257,9 +259,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  YOUR SELECTIONS\n+                  {t('cart.yourSelections')}\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n@@ -296,14 +298,14 @@\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >EDIT</button>\n+                      >{t('cart.edit')}</button>\n                       <span className=\"text-xs text-black font-bold\">|</span>\n                       <button\n                         onClick={() => handleDelete(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >DELETE</button>\n+                      >{t('cart.delete')}</button>\n                     </div>\n                   </div>\n                 </div>\n               ))}\n@@ -328,9 +330,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  ORDER SUMMARY\n+                  {t('cart.orderSummary')}\n                 </h2>\n                 <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n                     <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n@@ -428,9 +430,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>Discount</span>\n+                        <span>{t('cart.discount')}</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -440,9 +442,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>Total</span>\n+                      <span>{t('cart.total')}</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n@@ -455,18 +457,18 @@\n                     paddingTop: \"10px\", \n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>{t('cart.help')}</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n                   className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n-                  CHECK OUT\n+                  {t('cart.checkout')}\n                 </button>\n               </div>\n             </motion.div>\n           </div>\n@@ -489,9 +491,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.editYourSelection')}</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -589,9 +591,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Save Changes\n+                {t('cart.saveChanges')}\n               </button>\n               <button\n                 onClick={handleCancelEdit}\n                 style={{\n@@ -605,9 +607,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Cancel\n+                {t('cart.cancel')}\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -630,12 +632,12 @@\n               </svg>\n             </button>\n             <div className=\"text-center py-8\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                CONFIRM REMOVAL\n+                {t('cart.confirmRemoval')}\n               </p>\n               <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                Are you sure you want to remove this item?\n+                {t('cart.confirmRemovalMessage')}\n               </p>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                 {itemToDelete.name}\n               </p>\n@@ -654,9 +656,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Confirm\n+                {t('cart.confirm')}\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n                 style={{\n@@ -670,9 +672,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Cancel\n+                {t('cart.cancel')}\n               </button>\n             </div>\n           </motion.div>\n         </div>\n"
                },
                {
                    "date": 1751255594900,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n-import { useTranslation } from 'next-i18next';\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -21,9 +20,8 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n-  const { t } = useTranslation('translation');\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -201,9 +199,9 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">{t('cart.shoppingBag')}</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -217,9 +215,9 @@\n               borderBottom: \"2px solid #000000\",\n               display: \"inline-block\",\n               paddingBottom: \"5px\"\n             }}>\n-              {t('cart.shoppingBag')}\n+              SHOPPING BAG\n             </h1>\n             <p style={{ \n               fontSize: \"1em\", \n               color: \"#000000\", \n@@ -238,9 +236,9 @@\n                 cursor: \"pointer\",\n                 fontSize: \"0.9em\"\n               }}\n             >\n-              {t('cart.exploreProducts')}\n+              Khám phá sản phẩm\n             </button>\n           </div>\n         ) : (\n           <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n@@ -259,9 +257,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  {t('cart.yourSelections')}\n+                  YOUR SELECTIONS\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n@@ -298,14 +296,14 @@\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >{t('cart.edit')}</button>\n+                      >EDIT</button>\n                       <span className=\"text-xs text-black font-bold\">|</span>\n                       <button\n                         onClick={() => handleDelete(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >{t('cart.delete')}</button>\n+                      >DELETE</button>\n                     </div>\n                   </div>\n                 </div>\n               ))}\n@@ -330,9 +328,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  {t('cart.orderSummary')}\n+                  ORDER SUMMARY\n                 </h2>\n                 <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n                     <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n@@ -430,9 +428,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>{t('cart.discount')}</span>\n+                        <span>Discount</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -442,9 +440,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>{t('cart.total')}</span>\n+                      <span>Total</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n@@ -457,18 +455,18 @@\n                     paddingTop: \"10px\", \n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>{t('cart.help')}</p>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n                   className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n-                  {t('cart.checkout')}\n+                  CHECK OUT\n                 </button>\n               </div>\n             </motion.div>\n           </div>\n@@ -491,9 +489,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.editYourSelection')}</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -591,9 +589,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.saveChanges')}\n+                Save Changes\n               </button>\n               <button\n                 onClick={handleCancelEdit}\n                 style={{\n@@ -607,9 +605,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.cancel')}\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -632,12 +630,12 @@\n               </svg>\n             </button>\n             <div className=\"text-center py-8\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                {t('cart.confirmRemoval')}\n+                CONFIRM REMOVAL\n               </p>\n               <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                {t('cart.confirmRemovalMessage')}\n+                Are you sure you want to remove this item?\n               </p>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                 {itemToDelete.name}\n               </p>\n@@ -656,9 +654,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.confirm')}\n+                Confirm\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n                 style={{\n@@ -672,9 +670,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.cancel')}\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n"
                },
                {
                    "date": 1751255800536,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n+import { useLanguage } from '../../context/LanguageContext';\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -20,8 +21,9 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n+  const { t } = useLanguage();\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -199,9 +201,9 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">{t('cart.title')}</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -215,17 +217,17 @@\n               borderBottom: \"2px solid #000000\",\n               display: \"inline-block\",\n               paddingBottom: \"5px\"\n             }}>\n-              SHOPPING BAG\n+              {t('cart.emptyTitle')}\n             </h1>\n             <p style={{ \n               fontSize: \"1em\", \n               color: \"#000000\", \n               marginTop: \"20px\",\n               marginBottom: \"20px\" \n             }}>\n-              Bạn không có sản phẩm nào trong shopping bag cả.\n+              {t('cart.emptyDescription')}\n             </p>\n             <button\n               onClick={() => router.push('/products')}\n               style={{\n@@ -236,9 +238,9 @@\n                 cursor: \"pointer\",\n                 fontSize: \"0.9em\"\n               }}\n             >\n-              Khám phá sản phẩm\n+              {t('cart.exploreProducts')}\n             </button>\n           </div>\n         ) : (\n           <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n@@ -257,9 +259,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  YOUR SELECTIONS\n+                  {t('cart.yourSelections')}\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n@@ -296,14 +298,14 @@\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >EDIT</button>\n+                      >{t('cart.edit')}</button>\n                       <span className=\"text-xs text-black font-bold\">|</span>\n                       <button\n                         onClick={() => handleDelete(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >DELETE</button>\n+                      >{t('cart.delete')}</button>\n                     </div>\n                   </div>\n                 </div>\n               ))}\n@@ -328,9 +330,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  ORDER SUMMARY\n+                  {t('cart.orderSummary')}\n                 </h2>\n                 <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n                     <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n@@ -428,9 +430,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>Discount</span>\n+                        <span>{t('cart.discount')}</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -440,9 +442,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>Total</span>\n+                      <span>{t('cart.total')}</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n@@ -455,18 +457,18 @@\n                     paddingTop: \"10px\", \n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>{t('cart.help')}</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n                   className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n-                  CHECK OUT\n+                  {t('cart.checkout')}\n                 </button>\n               </div>\n             </motion.div>\n           </div>\n@@ -489,9 +491,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.editSelection')}</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -589,9 +591,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Save Changes\n+                {t('cart.saveChanges')}\n               </button>\n               <button\n                 onClick={handleCancelEdit}\n                 style={{\n@@ -605,9 +607,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Cancel\n+                {t('cart.cancel')}\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -630,12 +632,12 @@\n               </svg>\n             </button>\n             <div className=\"text-center py-8\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                CONFIRM REMOVAL\n+                {t('cart.confirmRemoval')}\n               </p>\n               <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                Are you sure you want to remove this item?\n+                {t('cart.confirmRemovalDescription')}\n               </p>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                 {itemToDelete.name}\n               </p>\n@@ -654,9 +656,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Confirm\n+                {t('cart.confirm')}\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n                 style={{\n@@ -670,9 +672,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Cancel\n+                {t('cart.cancel')}\n               </button>\n             </div>\n           </motion.div>\n         </div>\n"
                },
                {
                    "date": 1751255827369,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n-import { useLanguage } from '../../context/LanguageContext';\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -21,9 +20,8 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n-  const { t } = useLanguage();\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -201,9 +199,9 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">{t('cart.title')}</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -217,17 +215,17 @@\n               borderBottom: \"2px solid #000000\",\n               display: \"inline-block\",\n               paddingBottom: \"5px\"\n             }}>\n-              {t('cart.emptyTitle')}\n+              SHOPPING BAG\n             </h1>\n             <p style={{ \n               fontSize: \"1em\", \n               color: \"#000000\", \n               marginTop: \"20px\",\n               marginBottom: \"20px\" \n             }}>\n-              {t('cart.emptyDescription')}\n+              Bạn không có sản phẩm nào trong shopping bag cả.\n             </p>\n             <button\n               onClick={() => router.push('/products')}\n               style={{\n@@ -238,9 +236,9 @@\n                 cursor: \"pointer\",\n                 fontSize: \"0.9em\"\n               }}\n             >\n-              {t('cart.exploreProducts')}\n+              Khám phá sản phẩm\n             </button>\n           </div>\n         ) : (\n           <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n@@ -259,9 +257,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  {t('cart.yourSelections')}\n+                  YOUR SELECTIONS\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n@@ -298,14 +296,14 @@\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >{t('cart.edit')}</button>\n+                      >EDIT</button>\n                       <span className=\"text-xs text-black font-bold\">|</span>\n                       <button\n                         onClick={() => handleDelete(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >{t('cart.delete')}</button>\n+                      >DELETE</button>\n                     </div>\n                   </div>\n                 </div>\n               ))}\n@@ -330,9 +328,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  {t('cart.orderSummary')}\n+                  ORDER SUMMARY\n                 </h2>\n                 <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n                     <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n@@ -430,9 +428,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>{t('cart.discount')}</span>\n+                        <span>Discount</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -442,9 +440,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>{t('cart.total')}</span>\n+                      <span>Total</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n@@ -457,18 +455,18 @@\n                     paddingTop: \"10px\", \n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>{t('cart.help')}</p>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n                   className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n-                  {t('cart.checkout')}\n+                  CHECK OUT\n                 </button>\n               </div>\n             </motion.div>\n           </div>\n@@ -491,9 +489,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.editSelection')}</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -591,9 +589,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.saveChanges')}\n+                Save Changes\n               </button>\n               <button\n                 onClick={handleCancelEdit}\n                 style={{\n@@ -607,9 +605,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.cancel')}\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -632,12 +630,12 @@\n               </svg>\n             </button>\n             <div className=\"text-center py-8\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                {t('cart.confirmRemoval')}\n+                CONFIRM REMOVAL\n               </p>\n               <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                {t('cart.confirmRemovalDescription')}\n+                Are you sure you want to remove this item?\n               </p>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                 {itemToDelete.name}\n               </p>\n@@ -656,9 +654,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.confirm')}\n+                Confirm\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n                 style={{\n@@ -672,9 +670,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.cancel')}\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n"
                },
                {
                    "date": 1751255962252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n+import { useTranslation } from 'react-i18next';\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -20,8 +21,9 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n+  const { t } = useTranslation();\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -199,9 +201,9 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">{t('cart.shoppingBag')}</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -215,9 +217,9 @@\n               borderBottom: \"2px solid #000000\",\n               display: \"inline-block\",\n               paddingBottom: \"5px\"\n             }}>\n-              SHOPPING BAG\n+              {t('cart.shoppingBag')}\n             </h1>\n             <p style={{ \n               fontSize: \"1em\", \n               color: \"#000000\", \n"
                },
                {
                    "date": 1751256155910,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n-import { useTranslation } from 'react-i18next';\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -21,9 +20,8 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n-  const { t } = useTranslation();\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -201,9 +199,9 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">{t('cart.shoppingBag')}</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -217,9 +215,9 @@\n               borderBottom: \"2px solid #000000\",\n               display: \"inline-block\",\n               paddingBottom: \"5px\"\n             }}>\n-              {t('cart.shoppingBag')}\n+              SHOPPING BAG\n             </h1>\n             <p style={{ \n               fontSize: \"1em\", \n               color: \"#000000\", \n"
                },
                {
                    "date": 1751256198370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n+import { useTranslation } from \"react-i18next\";\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -20,8 +21,9 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n+  const { t } = useTranslation();\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -41,9 +43,9 @@\n     \n     if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n       updateQuantity(item.id, newQuantity);\n     } else if (newQuantity > stockQuantity) {\n-      alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n+      alert(t('cart.onlyLeft', { count: stockQuantity, size: item.size }));\n     }\n   };\n \n   const handleEdit = async (item) => {\n@@ -84,9 +86,9 @@\n       if (!currentItem) return;\n \n       const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n       if (editingQuantity > sizeQuantity) {\n-        alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n+        alert(t('cart.onlyLeft', { count: sizeQuantity, size: selectedSize }));\n         return;\n       }\n \n       updateQuantity(editingItem.id, editingQuantity, selectedSize, sizeQuantity);\n@@ -129,9 +131,9 @@\n     setPromoAmount(0);\n     setIsPromoApplied(false);\n \n     if (!promoCode.trim()) {\n-      setPromoMessage(\"Vui lòng nhập mã giảm giá\");\n+      setPromoMessage(t('cart.pleaseEnterPromo'));\n       return;\n     }\n \n     try {\n@@ -151,18 +153,18 @@\n \n       if (data.ok) {\n         setPromoAmount(data.totalDiscount);\n         setIsPromoApplied(true);\n-        setPromoMessage(`Mã giảm giá ${data.totalDiscount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n+        setPromoMessage(t('cart.promoApplied', { amount: data.totalDiscount.toLocaleString('vi-VN') }));\n         setCartItems(data.cartItems);\n       } else {\n-        setPromoMessage(data.message || \"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n+        setPromoMessage(data.message || t('cart.invalidPromo'));\n         setPromoAmount(0);\n         setIsPromoApplied(false);\n       }\n     } catch (error) {\n       console.error(\"Error applying promo code:\", error);\n-      setPromoMessage(\"Có lỗi xảy ra khi áp dụng mã giảm giá\");\n+      setPromoMessage(t('cart.promoError'));\n       setPromoAmount(0);\n       setIsPromoApplied(false);\n     }\n   };\n@@ -176,9 +178,9 @@\n   };\n \n   const handleCheckout = () => {\n     if (cartItems.length === 0) {\n-      alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n+      alert(t('cart.noItemsInCart'));\n       return;\n     }\n     router.push(\"/checkout\");\n   };\n@@ -215,17 +217,17 @@\n               borderBottom: \"2px solid #000000\",\n               display: \"inline-block\",\n               paddingBottom: \"5px\"\n             }}>\n-              SHOPPING BAG\n+              {t('cart.shoppingBag')}\n             </h1>\n             <p style={{ \n               fontSize: \"1em\", \n               color: \"#000000\", \n               marginTop: \"20px\",\n               marginBottom: \"20px\" \n             }}>\n-              Bạn không có sản phẩm nào trong shopping bag cả.\n+              {t('cart.noItemsInCart')}\n             </p>\n             <button\n               onClick={() => router.push('/products')}\n               style={{\n@@ -236,9 +238,9 @@\n                 cursor: \"pointer\",\n                 fontSize: \"0.9em\"\n               }}\n             >\n-              Khám phá sản phẩm\n+              {t('cart.exploreProducts')}\n             </button>\n           </div>\n         ) : (\n           <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n@@ -257,9 +259,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  YOUR SELECTIONS\n+                  {t('cart.yourSelections')}\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n@@ -296,14 +298,14 @@\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >EDIT</button>\n+                      >{t('cart.edit')}</button>\n                       <span className=\"text-xs text-black font-bold\">|</span>\n                       <button\n                         onClick={() => handleDelete(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >DELETE</button>\n+                      >{t('cart.delete')}</button>\n                     </div>\n                   </div>\n                 </div>\n               ))}\n@@ -328,9 +330,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  ORDER SUMMARY\n+                  {t('cart.orderSummary')}\n                 </h2>\n                 <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n                     <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n@@ -428,9 +430,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>Discount</span>\n+                        <span>{t('cart.discount')}</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -440,9 +442,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>Total</span>\n+                      <span>{t('cart.total')}</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n@@ -455,18 +457,18 @@\n                     paddingTop: \"10px\", \n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>{t('cart.mayWeHelp')}</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n                   className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n-                  CHECK OUT\n+                  {t('cart.checkOut')}\n                 </button>\n               </div>\n             </motion.div>\n           </div>\n@@ -489,9 +491,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.editYourSelection')}</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -589,9 +591,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Save Changes\n+                {t('cart.saveChanges')}\n               </button>\n               <button\n                 onClick={handleCancelEdit}\n                 style={{\n@@ -605,9 +607,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Cancel\n+                {t('cart.cancel')}\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -630,12 +632,12 @@\n               </svg>\n             </button>\n             <div className=\"text-center py-8\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                CONFIRM REMOVAL\n+                {t('cart.confirmRemoval')}\n               </p>\n               <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                Are you sure you want to remove this item?\n+                {t('cart.confirmRemovalMsg')}\n               </p>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                 {itemToDelete.name}\n               </p>\n@@ -654,9 +656,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Confirm\n+                {t('cart.confirm')}\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n                 style={{\n@@ -670,9 +672,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Cancel\n+                {t('cart.cancel')}\n               </button>\n             </div>\n           </motion.div>\n         </div>\n"
                },
                {
                    "date": 1751256548670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n-import { useTranslation } from \"react-i18next\";\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -21,9 +20,8 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n-  const { t } = useTranslation();\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -43,9 +41,9 @@\n     \n     if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n       updateQuantity(item.id, newQuantity);\n     } else if (newQuantity > stockQuantity) {\n-      alert(t('cart.onlyLeft', { count: stockQuantity, size: item.size }));\n+      alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n   const handleEdit = async (item) => {\n@@ -86,9 +84,9 @@\n       if (!currentItem) return;\n \n       const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n       if (editingQuantity > sizeQuantity) {\n-        alert(t('cart.onlyLeft', { count: sizeQuantity, size: selectedSize }));\n+        alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n         return;\n       }\n \n       updateQuantity(editingItem.id, editingQuantity, selectedSize, sizeQuantity);\n@@ -131,9 +129,9 @@\n     setPromoAmount(0);\n     setIsPromoApplied(false);\n \n     if (!promoCode.trim()) {\n-      setPromoMessage(t('cart.pleaseEnterPromo'));\n+      setPromoMessage(\"Vui lòng nhập mã giảm giá\");\n       return;\n     }\n \n     try {\n@@ -153,18 +151,18 @@\n \n       if (data.ok) {\n         setPromoAmount(data.totalDiscount);\n         setIsPromoApplied(true);\n-        setPromoMessage(t('cart.promoApplied', { amount: data.totalDiscount.toLocaleString('vi-VN') }));\n+        setPromoMessage(`Mã giảm giá ${data.totalDiscount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n         setCartItems(data.cartItems);\n       } else {\n-        setPromoMessage(data.message || t('cart.invalidPromo'));\n+        setPromoMessage(data.message || \"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n         setPromoAmount(0);\n         setIsPromoApplied(false);\n       }\n     } catch (error) {\n       console.error(\"Error applying promo code:\", error);\n-      setPromoMessage(t('cart.promoError'));\n+      setPromoMessage(\"Có lỗi xảy ra khi áp dụng mã giảm giá\");\n       setPromoAmount(0);\n       setIsPromoApplied(false);\n     }\n   };\n@@ -178,9 +176,9 @@\n   };\n \n   const handleCheckout = () => {\n     if (cartItems.length === 0) {\n-      alert(t('cart.noItemsInCart'));\n+      alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n       return;\n     }\n     router.push(\"/checkout\");\n   };\n@@ -217,17 +215,17 @@\n               borderBottom: \"2px solid #000000\",\n               display: \"inline-block\",\n               paddingBottom: \"5px\"\n             }}>\n-              {t('cart.shoppingBag')}\n+              SHOPPING BAG\n             </h1>\n             <p style={{ \n               fontSize: \"1em\", \n               color: \"#000000\", \n               marginTop: \"20px\",\n               marginBottom: \"20px\" \n             }}>\n-              {t('cart.noItemsInCart')}\n+              Bạn không có sản phẩm nào trong shopping bag cả.\n             </p>\n             <button\n               onClick={() => router.push('/products')}\n               style={{\n@@ -238,9 +236,9 @@\n                 cursor: \"pointer\",\n                 fontSize: \"0.9em\"\n               }}\n             >\n-              {t('cart.exploreProducts')}\n+              Khám phá sản phẩm\n             </button>\n           </div>\n         ) : (\n           <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n@@ -259,9 +257,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  {t('cart.yourSelections')}\n+                  YOUR SELECTIONS\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n@@ -298,14 +296,14 @@\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >{t('cart.edit')}</button>\n+                      >EDIT</button>\n                       <span className=\"text-xs text-black font-bold\">|</span>\n                       <button\n                         onClick={() => handleDelete(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >{t('cart.delete')}</button>\n+                      >DELETE</button>\n                     </div>\n                   </div>\n                 </div>\n               ))}\n@@ -330,9 +328,9 @@\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  {t('cart.orderSummary')}\n+                  ORDER SUMMARY\n                 </h2>\n                 <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n                     <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n@@ -430,9 +428,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>{t('cart.discount')}</span>\n+                        <span>Discount</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -442,9 +440,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>{t('cart.total')}</span>\n+                      <span>Total</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n@@ -457,18 +455,18 @@\n                     paddingTop: \"10px\", \n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>{t('cart.mayWeHelp')}</p>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n                   className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n-                  {t('cart.checkOut')}\n+                  CHECK OUT\n                 </button>\n               </div>\n             </motion.div>\n           </div>\n@@ -491,9 +489,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.editYourSelection')}</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -591,9 +589,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.saveChanges')}\n+                Save Changes\n               </button>\n               <button\n                 onClick={handleCancelEdit}\n                 style={{\n@@ -607,9 +605,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.cancel')}\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -632,12 +630,12 @@\n               </svg>\n             </button>\n             <div className=\"text-center py-8\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                {t('cart.confirmRemoval')}\n+                CONFIRM REMOVAL\n               </p>\n               <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                {t('cart.confirmRemovalMsg')}\n+                Are you sure you want to remove this item?\n               </p>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                 {itemToDelete.name}\n               </p>\n@@ -656,9 +654,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.confirm')}\n+                Confirm\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n                 style={{\n@@ -672,9 +670,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.cancel')}\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n"
                },
                {
                    "date": 1751256649103,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n+import { useTranslation } from 'react-i18next';\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -20,8 +21,9 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n+  const { t } = useTranslation();\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -41,9 +43,9 @@\n     \n     if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n       updateQuantity(item.id, newQuantity);\n     } else if (newQuantity > stockQuantity) {\n-      alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n+      alert(t('cart.onlyLeft', { count: stockQuantity, size: item.size }));\n     }\n   };\n \n   const handleEdit = async (item) => {\n@@ -84,9 +86,9 @@\n       if (!currentItem) return;\n \n       const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n       if (editingQuantity > sizeQuantity) {\n-        alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n+        alert(t('cart.onlyLeft', { count: sizeQuantity, size: selectedSize }));\n         return;\n       }\n \n       updateQuantity(editingItem.id, editingQuantity, selectedSize, sizeQuantity);\n@@ -129,9 +131,9 @@\n     setPromoAmount(0);\n     setIsPromoApplied(false);\n \n     if (!promoCode.trim()) {\n-      setPromoMessage(\"Vui lòng nhập mã giảm giá\");\n+      setPromoMessage(t('cart.pleaseEnterPromo'));\n       return;\n     }\n \n     try {\n@@ -151,18 +153,18 @@\n \n       if (data.ok) {\n         setPromoAmount(data.totalDiscount);\n         setIsPromoApplied(true);\n-        setPromoMessage(`Mã giảm giá ${data.totalDiscount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n+        setPromoMessage(t('cart.promoApplied', { amount: data.totalDiscount.toLocaleString('vi-VN') }));\n         setCartItems(data.cartItems);\n       } else {\n-        setPromoMessage(data.message || \"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n+        setPromoMessage(data.message || t('cart.invalidPromo'));\n         setPromoAmount(0);\n         setIsPromoApplied(false);\n       }\n     } catch (error) {\n       console.error(\"Error applying promo code:\", error);\n-      setPromoMessage(\"Có lỗi xảy ra khi áp dụng mã giảm giá\");\n+      setPromoMessage(t('cart.promoError'));\n       setPromoAmount(0);\n       setIsPromoApplied(false);\n     }\n   };\n@@ -176,9 +178,9 @@\n   };\n \n   const handleCheckout = () => {\n     if (cartItems.length === 0) {\n-      alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n+      alert(t('cart.noItemsInCart'));\n       return;\n     }\n     router.push(\"/checkout\");\n   };\n"
                },
                {
                    "date": 1751256682486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -201,9 +201,9 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">{t('cart.shoppingBag')}</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -225,22 +225,26 @@\n               color: \"#000000\", \n               marginTop: \"20px\",\n               marginBottom: \"20px\" \n             }}>\n-              Bạn không có sản phẩm nào trong shopping bag cả.\n+              {t('cart.noItemsInCart')}\n             </p>\n             <button\n-              onClick={() => router.push('/products')}\n+              onClick={() => router.push(\"/\")}\n               style={{\n                 backgroundColor: \"#000000\",\n                 color: \"#FFFFFF\",\n-                padding: \"10px 20px\",\n+                padding: \"12px 24px\",\n                 border: \"none\",\n+                borderRadius: \"4px\",\n+                fontSize: \"0.8em\",\n+                fontWeight: \"bold\",\n                 cursor: \"pointer\",\n-                fontSize: \"0.9em\"\n+                textTransform: \"uppercase\",\n+                letterSpacing: \"0.1em\"\n               }}\n             >\n-              Khám phá sản phẩm\n+              {t('cart.exploreProducts')}\n             </button>\n           </div>\n         ) : (\n           <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n@@ -251,17 +255,17 @@\n               className=\"lg:col-span-7\"\n             >\n               <div className=\"mb-6\">\n                 <h2 style={{\n-                  fontSize: \"1em\",\n+                  fontSize: \"1.1em\",\n                   fontWeight: \"bold\",\n                   marginBottom: \"15px\",\n                   color: \"#000000\",\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  YOUR SELECTIONS\n+                  {t('cart.yourSelections')}\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n@@ -298,14 +302,14 @@\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >EDIT</button>\n+                      >{t('cart.edit')}</button>\n                       <span className=\"text-xs text-black font-bold\">|</span>\n                       <button\n                         onClick={() => handleDelete(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >DELETE</button>\n+                      >{t('cart.delete')}</button>\n                     </div>\n                   </div>\n                 </div>\n               ))}\n@@ -322,17 +326,17 @@\n                   border: \"1px solid #e5e7eb\",\n                   borderRadius: \"8px\",\n                 }}>\n                 <h2 style={{\n-                  fontSize: \"1em\",\n+                  fontSize: \"1.1em\",\n                   fontWeight: \"bold\",\n                   marginBottom: \"15px\",\n                   color: \"#000000\",\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  ORDER SUMMARY\n+                  {t('cart.orderSummary')}\n                 </h2>\n                 <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n                     <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n@@ -430,9 +434,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>Discount</span>\n+                        <span>{t('cart.discount')}</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -442,9 +446,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>Total</span>\n+                      <span>{t('cart.total')}</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n@@ -457,18 +461,18 @@\n                     paddingTop: \"10px\", \n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>{t('cart.mayWeHelp')}</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n                   className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n-                  CHECK OUT\n+                  {t('cart.checkOut')}\n                 </button>\n               </div>\n             </motion.div>\n           </div>\n@@ -491,9 +495,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.editYourSelection')}</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -591,9 +595,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Save Changes\n+                {t('cart.saveChanges')}\n               </button>\n               <button\n                 onClick={handleCancelEdit}\n                 style={{\n@@ -607,9 +611,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Cancel\n+                {t('cart.cancel')}\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -632,12 +636,12 @@\n               </svg>\n             </button>\n             <div className=\"text-center py-8\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                CONFIRM REMOVAL\n+                {t('cart.confirmRemoval')}\n               </p>\n               <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                Are you sure you want to remove this item?\n+                {t('cart.confirmRemovalMsg')}\n               </p>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                 {itemToDelete.name}\n               </p>\n@@ -656,9 +660,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Confirm\n+                {t('cart.confirm')}\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n                 style={{\n@@ -672,9 +676,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                Cancel\n+                {t('cart.cancel')}\n               </button>\n             </div>\n           </motion.div>\n         </div>\n"
                },
                {
                    "date": 1751257063254,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n import { useCart } from \"../../context/CartContext\";\n import { useRouter } from \"next/navigation\";\n import { useState, useEffect } from \"react\";\n import { useWishlist } from \"../../context/WishlistContext\";\n-import { useTranslation } from 'react-i18next';\n \n export default function Cart() {\n   const { cartItems, updateQuantity, removeItem, setCartItems } = useCart();\n   const { toggleWishlist, isInWishlist } = useWishlist();\n@@ -21,9 +20,8 @@\n   const [itemToDelete, setItemToDelete] = useState(null);\n   const [productStock, setProductStock] = useState(null);\n   const [editingQuantity, setEditingQuantity] = useState(1);\n   const [isMounted, setIsMounted] = useState(false);\n-  const { t } = useTranslation();\n \n   const sizes = [\"M\", \"L\", \"XL\"];\n \n   const calculateTotal = () => {\n@@ -43,9 +41,9 @@\n     \n     if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n       updateQuantity(item.id, newQuantity);\n     } else if (newQuantity > stockQuantity) {\n-      alert(t('cart.onlyLeft', { count: stockQuantity, size: item.size }));\n+      alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n     }\n   };\n \n   const handleEdit = async (item) => {\n@@ -86,9 +84,9 @@\n       if (!currentItem) return;\n \n       const sizeQuantity = productStock?.[`quantity${selectedSize}`] || 0;\n       if (editingQuantity > sizeQuantity) {\n-        alert(t('cart.onlyLeft', { count: sizeQuantity, size: selectedSize }));\n+        alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n         return;\n       }\n \n       updateQuantity(editingItem.id, editingQuantity, selectedSize, sizeQuantity);\n@@ -131,9 +129,9 @@\n     setPromoAmount(0);\n     setIsPromoApplied(false);\n \n     if (!promoCode.trim()) {\n-      setPromoMessage(t('cart.pleaseEnterPromo'));\n+      setPromoMessage(\"Vui lòng nhập mã giảm giá\");\n       return;\n     }\n \n     try {\n@@ -153,18 +151,18 @@\n \n       if (data.ok) {\n         setPromoAmount(data.totalDiscount);\n         setIsPromoApplied(true);\n-        setPromoMessage(t('cart.promoApplied', { amount: data.totalDiscount.toLocaleString('vi-VN') }));\n+        setPromoMessage(`Mã giảm giá ${data.totalDiscount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n         setCartItems(data.cartItems);\n       } else {\n-        setPromoMessage(data.message || t('cart.invalidPromo'));\n+        setPromoMessage(data.message || \"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n         setPromoAmount(0);\n         setIsPromoApplied(false);\n       }\n     } catch (error) {\n       console.error(\"Error applying promo code:\", error);\n-      setPromoMessage(t('cart.promoError'));\n+      setPromoMessage(\"Có lỗi xảy ra khi áp dụng mã giảm giá\");\n       setPromoAmount(0);\n       setIsPromoApplied(false);\n     }\n   };\n@@ -178,9 +176,9 @@\n   };\n \n   const handleCheckout = () => {\n     if (cartItems.length === 0) {\n-      alert(t('cart.noItemsInCart'));\n+      alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n       return;\n     }\n     router.push(\"/checkout\");\n   };\n@@ -201,9 +199,9 @@\n           backgroundImage: `url('https://i.postimg.cc/YqJ07fYf/BANNER0-1-compressed.jpg')`,\n           backgroundPosition: 'center top',\n         }}\n       >\n-        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">{t('cart.shoppingBag')}</h1>\n+        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase text-center md:text-left\">SHOPPING BAG</h1>\n       </motion.div>\n \n       <div className=\"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 pt-8 pb-8 md:pt-16 md:pb-16\">\n         {cartItems.length === 0 ? (\n@@ -225,26 +223,22 @@\n               color: \"#000000\", \n               marginTop: \"20px\",\n               marginBottom: \"20px\" \n             }}>\n-              {t('cart.noItemsInCart')}\n+              Bạn không có sản phẩm nào trong shopping bag cả.\n             </p>\n             <button\n-              onClick={() => router.push(\"/\")}\n+              onClick={() => router.push('/products')}\n               style={{\n                 backgroundColor: \"#000000\",\n                 color: \"#FFFFFF\",\n-                padding: \"12px 24px\",\n+                padding: \"10px 20px\",\n                 border: \"none\",\n-                borderRadius: \"4px\",\n-                fontSize: \"0.8em\",\n-                fontWeight: \"bold\",\n                 cursor: \"pointer\",\n-                textTransform: \"uppercase\",\n-                letterSpacing: \"0.1em\"\n+                fontSize: \"0.9em\"\n               }}\n             >\n-              {t('cart.exploreProducts')}\n+              Khám phá sản phẩm\n             </button>\n           </div>\n         ) : (\n           <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-4 md:gap-6\">\n@@ -255,17 +249,17 @@\n               className=\"lg:col-span-7\"\n             >\n               <div className=\"mb-6\">\n                 <h2 style={{\n-                  fontSize: \"1.1em\",\n+                  fontSize: \"1em\",\n                   fontWeight: \"bold\",\n                   marginBottom: \"15px\",\n                   color: \"#000000\",\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  {t('cart.yourSelections')}\n+                  YOUR SELECTIONS\n                 </h2>\n               </div>\n               {cartItems.map((item) => (\n                 <div key={item.cartItemId || `${item.id}-${item.size}`}\n@@ -302,14 +296,14 @@\n                     <div className=\"flex gap-1 md:gap-2 mt-2 items-center\">\n                       <button\n                         onClick={() => handleEdit(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >{t('cart.edit')}</button>\n+                      >EDIT</button>\n                       <span className=\"text-xs text-black font-bold\">|</span>\n                       <button\n                         onClick={() => handleDelete(item)}\n                         className=\"text-xs text-black underline bg-transparent border-none font-bold\"\n-                      >{t('cart.delete')}</button>\n+                      >DELETE</button>\n                     </div>\n                   </div>\n                 </div>\n               ))}\n@@ -326,17 +320,17 @@\n                   border: \"1px solid #e5e7eb\",\n                   borderRadius: \"8px\",\n                 }}>\n                 <h2 style={{\n-                  fontSize: \"1.1em\",\n+                  fontSize: \"1em\",\n                   fontWeight: \"bold\",\n                   marginBottom: \"15px\",\n                   color: \"#000000\",\n                   textAlign: \"left\",\n                   borderBottom: \"1px solid #000000\",\n                   paddingBottom: \"10px\"\n                 }}>\n-                  {t('cart.orderSummary')}\n+                  ORDER SUMMARY\n                 </h2>\n                 <div className=\"space-y-4\">\n                   {cartItems.map((item) => (\n                     <div key={item.cartItemId || `${item.id}-${item.size}`} style={{\n@@ -434,9 +428,9 @@\n                     marginBottom: \"8px\",\n                     fontSize: \"0.7em\",\n                     color: \"#000000\",\n                   }}>\n-                        <span>{t('cart.discount')}</span>\n+                        <span>Discount</span>\n                         <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                   </div>\n                     )}\n                   <div style={{\n@@ -446,9 +440,9 @@\n                     fontSize: \"0.7em\",\n                     fontWeight: \"bold\",\n                     color: \"#000000\",\n                   }}>\n-                      <span>{t('cart.total')}</span>\n+                      <span>Total</span>\n                       <span>{calculateTotal()}</span>\n                     </div>\n                   </div>\n                   <div style={{\n@@ -461,18 +455,18 @@\n                     paddingTop: \"10px\", \n                     paddingBottom: \"10px\",\n                     marginTop: \"20px\"\n                   }}>\n-                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>{t('cart.mayWeHelp')}</p>\n+                    <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>0347272386</p>\n                     <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>aish.aish.vn@gmail.com</p>\n                   </div>\n                 </div>\n                 <button\n                   onClick={handleCheckout}\n                   className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n                 >\n-                  {t('cart.checkOut')}\n+                  CHECK OUT\n                 </button>\n               </div>\n             </motion.div>\n           </div>\n@@ -495,9 +489,9 @@\n                 <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n               </svg>\n             </button>\n             <div className=\"text-center py-4\">\n-              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>{t('cart.editYourSelection')}</p>\n+              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n               <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>\n                 {editingItem.price?.toLocaleString('vi-VN')} VND\n               </p>\n@@ -595,9 +589,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.saveChanges')}\n+                Save Changes\n               </button>\n               <button\n                 onClick={handleCancelEdit}\n                 style={{\n@@ -611,9 +605,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.cancel')}\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n@@ -636,12 +630,12 @@\n               </svg>\n             </button>\n             <div className=\"text-center py-8\">\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n-                {t('cart.confirmRemoval')}\n+                CONFIRM REMOVAL\n               </p>\n               <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n-                {t('cart.confirmRemovalMsg')}\n+                Are you sure you want to remove this item?\n               </p>\n               <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                 {itemToDelete.name}\n               </p>\n@@ -660,9 +654,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.confirm')}\n+                Confirm\n               </button>\n               <button\n                 onClick={() => setShowDeleteModal(false)}\n                 style={{\n@@ -676,9 +670,9 @@\n                   textTransform: \"uppercase\",\n                   letterSpacing: \"0.1em\"\n                 }}\n               >\n-                {t('cart.cancel')}\n+                Cancel\n               </button>\n             </div>\n           </motion.div>\n         </div>\n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use client\";\nimport { motion } from \"framer-motion\";\nimport { useCart } from \"../../context/CartContext\";\nimport { useRouter } from \"next/navigation\";\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\n\nconst styles = {\n  emptyCart: {\n    textAlign: \"center\",\n    padding: \"40px\",\n  },\n  emptyCartTitle: {\n    fontSize: \"24px\",\n    fontWeight: \"bold\",\n    marginBottom: \"10px\",\n  },\n  emptyCartText: {\n    color: \"#666\",\n    marginBottom: \"20px\",\n  },\n  continueShopping: {\n    display: \"inline-block\",\n    padding: \"10px 20px\",\n    backgroundColor: \"#000\",\n    color: \"white\",\n    textDecoration: \"none\",\n    borderRadius: \"4px\",\n  },\n  cartItem: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"20px\",\n    borderBottom: \"1px solid #e0e0e0\",\n    gap: \"20px\",\n  },\n  productInfo: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"20px\",\n    flex: 1,\n  },\n  productImage: {\n    objectFit: \"cover\",\n    borderRadius: \"4px\",\n  },\n  productDetails: {\n    flex: 1,\n  },\n  productName: {\n    fontSize: \"16px\",\n    marginBottom: \"8px\",\n  },\n  productPrice: {\n    fontSize: \"14px\",\n    color: \"#666\",\n  },\n  quantityControl: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"10px\",\n  },\n  quantityButton: {\n    width: \"30px\",\n    height: \"30px\",\n    border: \"1px solid #e0e0e0\",\n    backgroundColor: \"white\",\n    cursor: \"pointer\",\n  },\n  quantity: {\n    width: \"40px\",\n    textAlign: \"center\",\n  },\n  removeButton: {\n    padding: \"8px 16px\",\n    backgroundColor: \"#ff4444\",\n    color: \"white\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n  },\n};\n\nexport default function Cart() {\n  const {\n    cartItems: cart,\n    removeItem: removeFromCart,\n    updateQuantity,\n  } = useCart();\n  const router = useRouter();\n  const [savedItems, setSavedItems] = useState([]);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingItem, setEditingItem] = useState(null);\n  const [selectedSize, setSelectedSize] = useState(\"\");\n  const [promoCode, setPromoCode] = useState(\"\");\n  const [promoAmount, setPromoAmount] = useState(0);\n  const [isPromoApplied, setIsPromoApplied] = useState(false);\n  const [promoMessage, setPromoMessage] = useState(\"\");\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [itemToDelete, setItemToDelete] = useState(null);\n  const [productStock, setProductStock] = useState(null);\n  const [editingQuantity, setEditingQuantity] = useState(1);\n\n  const sizes = [\"M\", \"L\", \"XL\"];\n\n  const calculateTotal = () => {\n    const subtotal = cart\n      .reduce((total, item) => {\n        const itemTotal = item.price * item.quantity;\n        return total + itemTotal;\n      }, 0);\n\n    const finalTotal = subtotal - (isPromoApplied ? promoAmount : 0);\n    \n    return finalTotal.toLocaleString('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    });\n  };\n\n  const handleQuantityChange = (item, newQuantity) => {\n    const stockQuantity = item.currentStock || item.stock?.[item.size] || 0;\n    \n    if (newQuantity >= 1 && newQuantity <= stockQuantity) {\n      updateQuantity(item.id, newQuantity, item.size);\n    } else if (newQuantity > stockQuantity) {\n      alert(`Chỉ còn ${stockQuantity} sản phẩm trong kho cho size ${item.size}`);\n    }\n  };\n\n  const handleEdit = (item) => {\n    setEditingItem(item);\n    setSelectedSize(item.size || \"M\");\n    setEditingQuantity(item.quantity);\n    setShowEditModal(true);\n  };\n\n  const handleSizeChange = async (e) => {\n    const newSize = e.target.value;\n    setSelectedSize(newSize);\n\n    const currentItem = cart.find(item => item.id === editingItem.id);\n    if (currentItem) {\n      const sizeQuantity = currentItem.stock?.[newSize] || 0;\n      setEditingQuantity(Math.min(editingQuantity, sizeQuantity));\n    }\n  };\n\n  const handleSaveChanges = () => {\n    if (editingItem && selectedSize) {\n      const currentItem = cart.find(item => item.id === editingItem.id);\n      if (!currentItem) return;\n\n      const sizeQuantity = currentItem.stock?.[selectedSize] || 0;\n      if (editingQuantity > sizeQuantity) {\n        alert(`Chỉ còn ${sizeQuantity} sản phẩm trong kho cho size ${selectedSize}`);\n        return;\n      }\n\n      updateQuantity(editingItem.id, editingQuantity, selectedSize);\n    }\n    setShowEditModal(false);\n    setEditingItem(null);\n    setProductStock(null);\n    setEditingQuantity(1);\n  };\n\n  const handleCancelEdit = () => {\n    setShowEditModal(false);\n    setEditingItem(null);\n    setProductStock(null);\n    setEditingQuantity(1);\n  };\n\n  const handleDelete = (item) => {\n    setItemToDelete(item);\n    setShowDeleteModal(true);\n  };\n\n  const confirmDelete = () => {\n    if (itemToDelete) {\n      removeFromCart(itemToDelete.id);\n      setShowDeleteModal(false);\n      setItemToDelete(null);\n    }\n  };\n\n  const handleSaveItem = (item) => {\n    setSavedItems(prev => {\n      const isAlreadySaved = prev.some(savedItem => savedItem.id === item.id);\n      if (isAlreadySaved) {\n        const updatedItems = prev.filter(savedItem => savedItem.id !== item.id);\n        localStorage.setItem('savedItems', JSON.stringify(updatedItems));\n        return updatedItems;\n      } else {\n        const updatedItems = [...prev, { ...item, savedAt: new Date().toISOString() }];\n        localStorage.setItem('savedItems', JSON.stringify(updatedItems));\n        return updatedItems;\n      }\n    });\n\n    const message = savedItems.some(savedItem => savedItem.id === item.id) \n      ? \"Item removed from saved items\"\n      : \"Item saved successfully\";\n    alert(message);\n  };\n\n  useEffect(() => {\n    const loadSavedItems = () => {\n      try {\n        const savedItemsFromStorage = JSON.parse(localStorage.getItem('savedItems') || '[]');\n        setSavedItems(savedItemsFromStorage);\n      } catch (error) {\n        console.error('Error loading saved items:', error);\n        setSavedItems([]);\n      }\n    };\n\n    loadSavedItems();\n\n    window.addEventListener('storage', loadSavedItems);\n    return () => window.removeEventListener('storage', loadSavedItems);\n  }, []);\n\n  useEffect(() => {\n    const fetchProductStock = async () => {\n      if (editingItem) {\n        try {\n          const response = await fetch(`/api/products/${editingItem.id}`);\n          const data = await response.json();\n          if (data.ok) {\n            setProductStock(data.product);\n            setEditingQuantity(1);\n          }\n        } catch (error) {\n          console.error(\"Error fetching product stock:\", error);\n        }\n      }\n    };\n\n    fetchProductStock();\n  }, [editingItem]);\n\n  const handleApplyPromoCode = async () => {\n    try {\n      const response = await fetch(\"/api/admin/notifications\");\n      const data = await response.json();\n      \n      if (data.ok) {\n        const foundPromoCode = data.promoCodes.find(\n          (promo) => promo.code === promoCode.trim() && promo.isActive\n        );\n\n        if (foundPromoCode) {\n          setPromoAmount(foundPromoCode.amount);\n          setIsPromoApplied(true);\n          setPromoMessage(`Mã giảm giá ${foundPromoCode.amount.toLocaleString('vi-VN')} VND đã được áp dụng!`);\n        } else {\n          setPromoMessage(\"Mã giảm giá không hợp lệ hoặc đã hết hạn\");\n          setPromoAmount(0);\n          setIsPromoApplied(false);\n        }\n      } else {\n        setPromoMessage(\"Có lỗi xảy ra khi kiểm tra mã giảm giá\");\n        setPromoAmount(0);\n        setIsPromoApplied(false);\n      }\n    } catch (error) {\n      console.error(\"Error applying promo code:\", error);\n      setPromoMessage(\"Có lỗi xảy ra khi áp dụng mã giảm giá\");\n      setPromoAmount(0);\n      setIsPromoApplied(false);\n    }\n  };\n\n  const handleCheckout = () => {\n    if (cart.length === 0) {\n      alert(\"Bạn không có sản phẩm nào trong shopping bag cả.\");\n      return;\n    }\n    router.push(\"/checkout\");\n  };\n\n  if (cart.length === 0) {\n    return (\n      <div style={styles.emptyCart}>\n        <h1 style={styles.emptyCartTitle}>Giỏ hàng trống</h1>\n        <p style={styles.emptyCartText}>\n          Bạn chưa có sản phẩm nào trong giỏ hàng.\n        </p>\n        <Link href=\"/\" style={styles.continueShopping}>\n          Tiếp tục mua sắm\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gray-100\">\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ duration: 0.5 }}\n        className=\"relative w-full h-[300px] sm:h-[400px] bg-cover bg-center text-white flex justify-center items-center\"\n        style={{\n          backgroundImage: `url('https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')`,\n        }}\n      >\n        <h1 className=\"text-5xl sm:text-6xl font-bold uppercase\">SHOPPING BAG</h1>\n      </motion.div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-16\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-6\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5 }}\n            className=\"lg:col-span-7\"\n          >\n            <div className=\"mb-6\">\n              <h2 style={{\n                fontSize: \"1em\",\n                fontWeight: \"bold\",\n                marginBottom: \"15px\",\n                color: \"#000000\",\n                textAlign: \"left\",\n                borderBottom: \"1px solid #000000\",\n                paddingBottom: \"10px\"\n              }}>\n                YOUR SELECTIONS\n              </h2>\n            </div>\n            {cart.map((item, idx) => (\n              <div key={item.id} style={{ display: 'flex', gap: 32, alignItems: 'flex-start', padding: '32px 0', borderBottom: idx < cart.length - 1 ? '1px solid #e0e0e0' : 'none' }}>\n                {/* Ảnh sản phẩm */}\n                <div style={{ minWidth: 140, maxWidth: 180, flex: '0 0 140px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                  <Image\n                    src={item.image}\n                    alt={item.name}\n                    width={140}\n                    height={140}\n                    style={{ objectFit: 'cover', borderRadius: 4 }}\n                  />\n                </div>\n                {/* Thông tin sản phẩm */}\n                <div style={{ flex: 1, minWidth: 0, display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\n                  <div style={{ fontWeight: 700, fontSize: 20, marginBottom: 8, fontFamily: 'serif' }}>{item.name}</div>\n                  <div style={{ color: '#666', fontSize: 15, marginBottom: 2 }}>Màu: <span style={{ color: '#222' }}>{item.color || 'N/A'}</span></div>\n                  <div style={{ color: '#666', fontSize: 15, marginBottom: 2 }}>Size: <span style={{ color: '#222' }}>{item.size || 'N/A'}</span></div>\n                  <div style={{ color: '#666', fontSize: 15, marginBottom: 2 }}>Số lượng: <span style={{ color: '#222' }}>{item.quantity}</span></div>\n                  <div style={{ color: '#d32d2f', fontSize: 15, margin: '10px 0 0 0', fontWeight: 500 }}>Order khoảng 5 ngày</div>\n                  {/* 3 nút dưới cùng */}\n                  <div style={{ display: 'flex', gap: 24, marginTop: 18 }}>\n                    <button\n                      onClick={() => handleEdit(item)}\n                      className=\"cart-action-btn\"\n                      style={{ background: 'none', border: 'none', color: '#000', fontWeight: 600, fontSize: 14, textTransform: 'uppercase', cursor: 'pointer', fontFamily: 'inherit', position: 'relative', padding: 0 }}\n                    >\n                      EDIT\n                    </button>\n                    <button\n                      onClick={() => handleDelete(item)}\n                      className=\"cart-action-btn\"\n                      style={{ background: 'none', border: 'none', color: '#000', fontWeight: 600, fontSize: 14, textTransform: 'uppercase', cursor: 'pointer', fontFamily: 'inherit', position: 'relative', padding: 0 }}\n                    >\n                      REMOVE\n                    </button>\n                    <button\n                      onClick={() => handleSaveItem(item)}\n                      className=\"cart-action-btn\"\n                      style={{ background: 'none', border: 'none', color: '#000', fontWeight: 600, fontSize: 14, textTransform: 'uppercase', cursor: 'pointer', fontFamily: 'inherit', position: 'relative', padding: 0, display: 'flex', alignItems: 'center', gap: 4 }}\n                    >\n                      <span style={{ fontSize: 18, color: '#d32d2f' }}>&#9829;</span> SAVED ITEMS\n                    </button>\n                  </div>\n                </div>\n                {/* Giá và số lượng */}\n                <div style={{ minWidth: 160, textAlign: 'right', display: 'flex', flexDirection: 'column', alignItems: 'flex-end', gap: 16, justifyContent: 'center' }}>\n                  <div style={{ fontWeight: 600, fontSize: 20, marginBottom: 12, fontFamily: 'serif' }}>AU$ {item.price?.toLocaleString('en-US', { minimumFractionDigits: 2 })}</div>\n                  <div style={{ display: 'flex', alignItems: 'center', gap: 0 }}>\n                    <button\n                      onClick={() => handleQuantityChange(item, Math.max(1, item.quantity - 1))}\n                      className=\"cart-qty-btn\"\n                      style={{ width: 32, height: 32, border: '1px solid #ccc', background: '#fff', fontSize: 18, fontWeight: 600, cursor: 'pointer', borderRadius: 0, transition: 'background 0.2s' }}\n                    >\n                      -\n                    </button>\n                    <span style={{ width: 40, textAlign: 'center', fontSize: 16, fontWeight: 500 }}>{item.quantity}</span>\n                    <button\n                      onClick={() => handleQuantityChange(item, item.quantity + 1)}\n                      className=\"cart-qty-btn\"\n                      style={{ width: 32, height: 32, border: '1px solid #ccc', background: '#fff', fontSize: 18, fontWeight: 600, cursor: 'pointer', borderRadius: 0, transition: 'background 0.2s' }}\n                    >\n                      +\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </motion.div>\n\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: 0.2 }}\n            className=\"lg:col-span-3\"\n          >\n            <div className=\"bg-white p-6 rounded-lg shadow-md sticky top-4\">\n              <h2 style={{\n                fontSize: \"1em\",\n                fontWeight: \"bold\",\n                marginBottom: \"15px\",\n                color: \"#000000\",\n                textAlign: \"left\",\n                borderBottom: \"1px solid #000000\",\n                paddingBottom: \"10px\"\n              }}>\n                ORDER SUMMARY\n              </h2>\n              <div className=\"space-y-4\">\n                {cart.map((item) => (\n                  <div key={item.id} style={{\n                    display: \"flex\",\n                    gap: \"15px\",\n                    marginBottom: \"20px\",\n                    color: \"#000000\",\n                  }}>\n                    <img \n                      src={item.image} \n                      alt={item.name} \n                      style={{\n                        width: \"80px\",\n                        height: \"80px\",\n                        objectFit: \"cover\",\n                      }}\n                    />\n                    <div style={{\n                      color: \"#000000\",\n                      flex: 1,\n                    }}>\n                      <p style={{ \n                        fontWeight: \"bold\", \n                        marginBottom: \"6px\", \n                        fontSize: \"0.9em\" \n                      }}>\n                        {item.name}\n                      </p>\n                      <div style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"4px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                      }}>\n                        <span>Số lượng:</span>\n                        <span>{item.quantity}</span>\n                      </div>\n                      <div style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"4px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                      }}>\n                        <span>Màu:</span>\n                        <span>{item.color || \"Đen\"}</span>\n                      </div>\n                      <div style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"4px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                      }}>\n                        <span>Size:</span>\n                        <span>{item.size || \"Unknown\"}</span>\n                      </div>\n                      <div style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"4px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                      }}>\n                        <span>Thời gian:</span>\n                        <span>{item.shippingInfo || \"Dự kiến 5 ngày\"}</span>\n                      </div>\n                      <div style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                        marginBottom: \"4px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                      }}>\n                        <span>Giá:</span>\n                        <span>{(item.price * item.quantity).toLocaleString('vi-VN')} VND</span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n                \n                <div style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: \"8px\",\n                  fontSize: \"0.7em\",\n                  color: \"#000000\",\n                }}>\n                  <span>Tổng phụ</span>\n                  <span>{(cart.reduce((total, item) => total + item.price * item.quantity, 0)).toLocaleString('vi-VN')} VND</span>\n                </div>\n                <div style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: \"8px\",\n                  fontSize: \"0.7em\",\n                  color: \"#000000\",\n                }}>\n                  <span>Vận chuyển</span>\n                  <span>Miễn phí (Express)</span>\n                </div>\n                {isPromoApplied && (\n                  <div style={{\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    marginBottom: \"8px\",\n                    fontSize: \"0.7em\",\n                    color: \"#000000\",\n                  }}>\n                    <span>Giảm giá</span>\n                    <span>- {promoAmount.toLocaleString('vi-VN')} VND</span>\n                  </div>\n                )}\n                <div style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  marginBottom: \"8px\",\n                  fontSize: \"0.7em\",\n                  fontWeight: \"bold\",\n                  color: \"#000000\",\n                }}>\n                  <span>Tổng cộng</span>\n                  <span>{calculateTotal()}</span>\n                </div>\n              </div>\n              <div style={{ \n                borderTop: \"1px solid #000000\", \n                paddingTop: \"10px\",\n                marginTop: \"20px\"\n              }}>\n                <div style={{\n                  display: \"flex\",\n                  gap: \"10px\",\n                  marginBottom: \"15px\",\n                }}>\n                  <input\n                    type=\"text\"\n                    value={promoCode}\n                    onChange={(e) => setPromoCode(e.target.value)}\n                    placeholder=\"Enter promo code\"\n                    style={{\n                      flex: 1,\n                      padding: \"8px\",\n                      fontSize: \"0.7em\",\n                      border: \"1px solid #000000\",\n                      color: \"#000000\",\n                    }}\n                  />\n                  <button\n                    onClick={handleApplyPromoCode}\n                    style={{\n                      padding: \"8px 15px\",\n                      fontSize: \"0.7em\",\n                      backgroundColor: \"#000000\",\n                      color: \"#ffffff\",\n                      border: \"none\",\n                      cursor: \"pointer\",\n                    }}\n                  >\n                    Apply\n                  </button>\n                </div>\n                {promoMessage && (\n                  <p style={{\n                    fontSize: \"0.7em\",\n                    color: isPromoApplied ? \"#059669\" : \"#dc2626\",\n                    marginBottom: \"10px\"\n                  }}>\n                    {promoMessage}\n                  </p>\n                )}\n                <div style={{ \n                  borderTop: \"1px solid #000000\", \n                  borderBottom: \"1px solid #000000\", \n                  paddingTop: \"10px\", \n                  paddingBottom: \"10px\",\n                  marginTop: \"20px\"\n                }}>\n                  <p style={{ marginBottom: \"10px\", fontWeight: \"bold\", fontSize: \"0.8em\", color: \"#000000\" }}>MAY WE HELP?</p>\n                  <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>+61 1300492212</p>\n                  <p style={{ marginBottom: \"10px\", fontSize: \"0.75em\", color: \"#000000\" }}>clientservice.au@gucci.com</p>\n                </div>\n              </div>\n              <button\n                onClick={handleCheckout}\n                className=\"w-full bg-black text-white text-sm font-semibold py-3 px-4 mt-8 rounded hover:bg-gray-800 transition-colors\"\n              >\n                CHECK OUT\n              </button>\n            </div>\n          </motion.div>\n        </div>\n      </div>\n\n      {showEditModal && editingItem && (\n        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-white/80 w-11/12 max-w-2xl relative\"\n          >\n            <button\n              onClick={handleCancelEdit}\n              className=\"absolute top-4 right-4 text-black\"\n            >\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </button>\n            <div className=\"text-center py-4\">\n              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>EDIT YOUR SELECTION</p>\n              <h2 style={{ fontSize: \"0.9em\", color: \"#000000\", marginTop: \"8px\" }}>{editingItem.name}</h2>\n              <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginTop: \"4px\", fontWeight: \"bold\" }}>AU$ {editingItem.price?.toFixed(2) || \"450.00\"}</p>\n            </div>\n            <div className=\"flex flex-col md:flex-row border-t border-gray-200\">\n              <div className=\"md:w-1/2 p-6 flex flex-col items-center justify-center border-r border-gray-200\">\n                <img\n                  src={editingItem.image}\n                  alt={editingItem.name}\n                  style={{\n                    width: \"160px\",\n                    height: \"160px\",\n                    objectFit: \"cover\",\n                    marginBottom: \"16px\"\n                  }}\n                />\n                <div style={{ textAlign: \"center\" }}>\n                  <p style={{ fontSize: \"0.7em\", color: \"#000000\", marginBottom: \"4px\" }}>Màu: {editingItem.color || \"Đen\"}</p>\n                  <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>Size: {editingItem.size || \"M\"}</p>\n                </div>\n              </div>\n              <div className=\"md:w-1/2 p-6\">\n                <div className=\"mb-6\">\n                  <label style={{ \n                    display: \"block\", \n                    marginBottom: \"8px\", \n                    fontSize: \"0.7em\", \n                    color: \"#000000\", \n                    textTransform: \"uppercase\", \n                    letterSpacing: \"0.1em\" \n                  }}>\n                    SIZE\n                  </label>\n                  <div className=\"relative\">\n                    <select\n                      value={selectedSize}\n                      onChange={handleSizeChange}\n                      style={{\n                        width: \"100%\",\n                        padding: \"8px\",\n                        fontSize: \"0.7em\",\n                        color: \"#000000\",\n                        border: \"1px solid #000000\",\n                        appearance: \"none\",\n                        background: \"white\",\n                        cursor: \"pointer\"\n                      }}\n                    >\n                      {sizes.map((size) => {\n                        const sizeQuantity = productStock?.[`quantity${size}`] || 0;\n                        const isDisabled = sizeQuantity === 0;\n                        return (\n                          <option \n                            key={size} \n                            value={size}\n                            disabled={isDisabled}\n                            style={{\n                              color: isDisabled ? \"#999\" : \"#000\",\n                              backgroundColor: isDisabled ? \"#f5f5f5\" : \"white\"\n                            }}\n                          >\n                            {size} - {isDisabled ? \"Hết hàng\" : `Còn ${sizeQuantity}`}\n                          </option>\n                        );\n                      })}\n                    </select>\n                    <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n                      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path d=\"M4 6L8 10L12 6\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"border-t border-gray-200\">\n              <button\n                onClick={handleSaveChanges}\n                style={{\n                  width: \"100%\",\n                  padding: \"12px\",\n                  fontSize: \"0.7em\",\n                  color: \"#ffffff\",\n                  backgroundColor: \"#000000\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  textTransform: \"uppercase\",\n                  letterSpacing: \"0.1em\"\n                }}\n              >\n                Save Changes\n              </button>\n              <button\n                onClick={handleCancelEdit}\n                style={{\n                  width: \"100%\",\n                  padding: \"12px\",\n                  fontSize: \"0.7em\",\n                  color: \"#000000\",\n                  backgroundColor: \"transparent\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  textTransform: \"uppercase\",\n                  letterSpacing: \"0.1em\"\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </motion.div>\n        </div>\n      )}\n\n      {showDeleteModal && itemToDelete && (\n        <div className=\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-white/80 w-11/12 max-w-md relative\"\n          >\n            <button\n              onClick={() => setShowDeleteModal(false)}\n              className=\"absolute top-4 right-4 text-black\"\n            >\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M18 6L6 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <path d=\"M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </button>\n            <div className=\"text-center py-8\">\n              <p style={{ fontSize: \"0.7em\", color: \"#000000\", textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: \"16px\" }}>\n                CONFIRM REMOVAL\n              </p>\n              <p style={{ fontSize: \"0.9em\", color: \"#000000\", marginBottom: \"8px\" }}>\n                Are you sure you want to remove this item?\n              </p>\n              <p style={{ fontSize: \"0.7em\", color: \"#000000\" }}>\n                {itemToDelete.name}\n              </p>\n            </div>\n            <div className=\"border-t border-gray-200\">\n              <button\n                onClick={confirmDelete}\n                style={{\n                  width: \"100%\",\n                  padding: \"12px\",\n                  fontSize: \"0.7em\",\n                  color: \"#ffffff\",\n                  backgroundColor: \"#000000\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  textTransform: \"uppercase\",\n                  letterSpacing: \"0.1em\"\n                }}\n              >\n                Confirm\n              </button>\n              <button\n                onClick={() => setShowDeleteModal(false)}\n                style={{\n                  width: \"100%\",\n                  padding: \"12px\",\n                  fontSize: \"0.7em\",\n                  color: \"#000000\",\n                  backgroundColor: \"transparent\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  textTransform: \"uppercase\",\n                  letterSpacing: \"0.1em\"\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </motion.div>\n        </div>\n      )}\n\n      <style jsx>{`\n        .underline-btn {\n          position: relative;\n          text-decoration: none;\n          transition: color 0.3s ease;\n        }\n        .underline-btn::after {\n          content: \"\";\n          position: absolute;\n          width: 0;\n          height: 1px;\n          bottom: -1px;\n          left: 0;\n          background-color: currentColor;\n          transition: width 0.3s ease;\n        }\n        .underline-btn:hover::after {\n          width: 100%;\n        }\n        .underline-btn:hover {\n          color: #000;\n        }\n        .underline-btn.remove:hover {\n          color: #dc2626;\n        }\n        .cart-action-btn {\n          overflow: hidden;\n        }\n        .cart-action-btn::after {\n          content: \"\";\n          display: block;\n          width: 0;\n          height: 2px;\n          background: #000;\n          transition: width 0.3s;\n          position: absolute;\n          left: 0;\n          bottom: -2px;\n        }\n        .cart-action-btn:hover::after {\n          width: 100%;\n        }\n        .cart-action-btn:hover {\n          color: #d32d2f;\n        }\n        .cart-qty-btn:hover {\n          background: #f5f5f5;\n          border-color: #000;\n        }\n      `}</style>\n    </div>\n  );\n}"
        }
    ]
}