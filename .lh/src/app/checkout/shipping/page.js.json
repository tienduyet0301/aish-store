{
    "sourceFile": "src/app/checkout/shipping/page.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 59,
            "patches": [
                {
                    "date": 1746893162505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747059524091,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,8 +81,15 @@\n       const selectedProvinceData = provinces.find(p => p.code === selectedProvince);\r\n       const selectedDistrictData = districts.find(d => d.code === selectedDistrict);\r\n       const selectedWardData = wards.find(w => w.code === selectedWard);\r\n \r\n+      // Tính toán lại tổng tiền\r\n+      const subtotal = order.items.reduce((total, item) => {\r\n+        const priceStr = typeof item.price === 'string' ? item.price.replace('AU$', '').trim() : item.price;\r\n+        const price = parseFloat(priceStr) || 0;\r\n+        return total + (price * item.quantity);\r\n+      }, 0);\r\n+\r\n       const details = {\r\n         orderCode: `ORDER${Date.now()}`,\r\n         fullName: `${formData.firstName} ${formData.lastName}`,\r\n         email: userEmail,\r\n@@ -91,13 +98,19 @@\n         address: formData.address,\r\n         ward: selectedWardData?.name || \"\",\r\n         district: selectedDistrictData?.name || \"\",\r\n         province: selectedProvinceData?.name || \"\",\r\n-        items: order.items || [],\r\n-        subtotal: order.subtotal || \"0\",\r\n+        items: order.items.map(item => ({\r\n+          ...item,\r\n+          price: typeof item.price === 'string' ? parseFloat(item.price.replace('AU$', '').trim()) : item.price\r\n+        })),\r\n+        subtotal: subtotal,\r\n         shippingFee: \"Miễn phí\",\r\n-        total: order.total || \"0\",\r\n-        paymentMethod: paymentMethod\r\n+        total: subtotal,\r\n+        paymentMethod: paymentMethod,\r\n+        status: 'pending',\r\n+        paymentStatus: 'pending',\r\n+        shippingStatus: 'pending'\r\n       };\r\n \r\n       // Gửi đơn hàng lên server\r\n       const response = await fetch('/api/orders', {\r\n"
                },
                {
                    "date": 1747059687821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,17 +81,21 @@\n       const selectedProvinceData = provinces.find(p => p.code === selectedProvince);\r\n       const selectedDistrictData = districts.find(d => d.code === selectedDistrict);\r\n       const selectedWardData = wards.find(w => w.code === selectedWard);\r\n \r\n+      // Tạo mã đơn hàng\r\n+      const now = new Date();\r\n+      const orderCode = `AISH${now.getFullYear()}${String(now.getMonth() + 1).padStart(2, '0')}${String(now.getDate()).padStart(2, '0')}${String(now.getHours()).padStart(2, '0')}${String(now.getMinutes()).padStart(2, '0')}${String(now.getSeconds()).padStart(2, '0')}`;\r\n+\r\n       // Tính toán lại tổng tiền\r\n       const subtotal = order.items.reduce((total, item) => {\r\n         const priceStr = typeof item.price === 'string' ? item.price.replace('AU$', '').trim() : item.price;\r\n         const price = parseFloat(priceStr) || 0;\r\n         return total + (price * item.quantity);\r\n       }, 0);\r\n \r\n       const details = {\r\n-        orderCode: `ORDER${Date.now()}`,\r\n+        orderCode: orderCode,\r\n         fullName: `${formData.firstName} ${formData.lastName}`,\r\n         email: userEmail,\r\n         phone: formData.phone,\r\n         additionalPhone: formData.additionalPhone || null,\r\n"
                },
                {
                    "date": 1747063801025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,9 +108,11 @@\n           price: typeof item.price === 'string' ? parseFloat(item.price.replace('AU$', '').trim()) : item.price\r\n         })),\r\n         subtotal: subtotal,\r\n         shippingFee: \"Miễn phí\",\r\n-        total: subtotal,\r\n+        promoCode: order.promoCode || null,\r\n+        promoAmount: order.promoAmount || 0,\r\n+        total: subtotal - (order.promoAmount || 0),\r\n         paymentMethod: paymentMethod,\r\n         status: 'pending',\r\n         paymentStatus: 'pending',\r\n         shippingStatus: 'pending'\r\n"
                },
                {
                    "date": 1747064558898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,28 +117,14 @@\n         paymentStatus: 'pending',\r\n         shippingStatus: 'pending'\r\n       };\r\n \r\n-      // Gửi đơn hàng lên server\r\n-      const response = await fetch('/api/orders', {\r\n-        method: 'POST',\r\n-        headers: {\r\n-          'Content-Type': 'application/json',\r\n-        },\r\n-        body: JSON.stringify(details),\r\n-      });\r\n-\r\n-      const data = await response.json();\r\n-\r\n-      if (data.ok) {\r\n-        setOrderDetails(details);\r\n-        setShowConfirmationModal(true);\r\n-      } else {\r\n-        throw new Error(data.message);\r\n-      }\r\n+      // Chỉ hiển thị modal xác nhận, không tạo đơn hàng ngay\r\n+      setOrderDetails(details);\r\n+      setShowConfirmationModal(true);\r\n     } catch (error) {\r\n-      console.error(\"Error creating order:\", error);\r\n-      alert(\"Có lỗi xảy ra khi tạo đơn hàng. Vui lòng thử lại.\");\r\n+      console.error(\"Error preparing order:\", error);\r\n+      alert(\"Có lỗi xảy ra khi chuẩn bị đơn hàng. Vui lòng thử lại.\");\r\n     }\r\n   };\r\n \r\n   const handlePaymentMethodChange = (method) => {\r\n"
                },
                {
                    "date": 1747064643347,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,14 +117,28 @@\n         paymentStatus: 'pending',\r\n         shippingStatus: 'pending'\r\n       };\r\n \r\n-      // Chỉ hiển thị modal xác nhận, không tạo đơn hàng ngay\r\n-      setOrderDetails(details);\r\n-      setShowConfirmationModal(true);\r\n+      // Gửi đơn hàng lên server\r\n+      const response = await fetch('/api/orders', {\r\n+        method: 'POST',\r\n+        headers: {\r\n+          'Content-Type': 'application/json',\r\n+        },\r\n+        body: JSON.stringify(details),\r\n+      });\r\n+\r\n+      const data = await response.json();\r\n+\r\n+      if (data.ok) {\r\n+        setOrderDetails(details);\r\n+        setShowConfirmationModal(true);\r\n+      } else {\r\n+        throw new Error(data.message);\r\n+      }\r\n     } catch (error) {\r\n-      console.error(\"Error preparing order:\", error);\r\n-      alert(\"Có lỗi xảy ra khi chuẩn bị đơn hàng. Vui lòng thử lại.\");\r\n+      console.error(\"Error creating order:\", error);\r\n+      alert(\"Có lỗi xảy ra khi tạo đơn hàng. Vui lòng thử lại.\");\r\n     }\r\n   };\r\n \r\n   const handlePaymentMethodChange = (method) => {\r\n"
                },
                {
                    "date": 1747064710772,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,28 +117,14 @@\n         paymentStatus: 'pending',\r\n         shippingStatus: 'pending'\r\n       };\r\n \r\n-      // Gửi đơn hàng lên server\r\n-      const response = await fetch('/api/orders', {\r\n-        method: 'POST',\r\n-        headers: {\r\n-          'Content-Type': 'application/json',\r\n-        },\r\n-        body: JSON.stringify(details),\r\n-      });\r\n-\r\n-      const data = await response.json();\r\n-\r\n-      if (data.ok) {\r\n-        setOrderDetails(details);\r\n-        setShowConfirmationModal(true);\r\n-      } else {\r\n-        throw new Error(data.message);\r\n-      }\r\n+      // Chỉ hiển thị modal xác nhận, không tạo đơn hàng ngay\r\n+      setOrderDetails(details);\r\n+      setShowConfirmationModal(true);\r\n     } catch (error) {\r\n-      console.error(\"Error creating order:\", error);\r\n-      alert(\"Có lỗi xảy ra khi tạo đơn hàng. Vui lòng thử lại.\");\r\n+      console.error(\"Error preparing order:\", error);\r\n+      alert(\"Có lỗi xảy ra khi chuẩn bị đơn hàng. Vui lòng thử lại.\");\r\n     }\r\n   };\r\n \r\n   const handlePaymentMethodChange = (method) => {\r\n"
                },
                {
                    "date": 1747067528202,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,11 +192,17 @@\n   return (\r\n     <div style={styles.leftSection}>\r\n       <div style={styles.section}>\r\n         <h2 style={styles.sectionTitle}>THÔNG TIN LIÊN HỆ</h2>\r\n-        <p style={styles.sectionText}>\r\n-          {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n-        </p>\r\n+        {userEmail ? (\r\n+          <p style={styles.sectionText}>\r\n+            {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n+          </p>\r\n+        ) : (\r\n+          <p style={styles.sectionText}>\r\n+            Bạn đang mua hàng với tư cách khách\r\n+          </p>\r\n+        )}\r\n       </div>\r\n \r\n       <div style={styles.section}>\r\n         <h2 style={styles.sectionTitle}>ĐỊA CHỈ GIAO HÀNG</h2>\r\n"
                },
                {
                    "date": 1747067571755,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,17 +192,11 @@\n   return (\r\n     <div style={styles.leftSection}>\r\n       <div style={styles.section}>\r\n         <h2 style={styles.sectionTitle}>THÔNG TIN LIÊN HỆ</h2>\r\n-        {userEmail ? (\r\n-          <p style={styles.sectionText}>\r\n-            {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n-          </p>\r\n-        ) : (\r\n-          <p style={styles.sectionText}>\r\n-            Bạn đang mua hàng với tư cách khách\r\n-          </p>\r\n-        )}\r\n+        <p style={styles.sectionText}>\r\n+          {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n+        </p>\r\n       </div>\r\n \r\n       <div style={styles.section}>\r\n         <h2 style={styles.sectionTitle}>ĐỊA CHỈ GIAO HÀNG</h2>\r\n"
                },
                {
                    "date": 1747067979022,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -193,9 +193,15 @@\n     <div style={styles.leftSection}>\r\n       <div style={styles.section}>\r\n         <h2 style={styles.sectionTitle}>THÔNG TIN LIÊN HỆ</h2>\r\n         <p style={styles.sectionText}>\r\n-          {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n+          {userEmail ? (\r\n+            <>\r\n+              {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n+            </>\r\n+          ) : (\r\n+            \"Bạn chưa đăng nhập\"\r\n+          )}\r\n         </p>\r\n       </div>\r\n \r\n       <div style={styles.section}>\r\n"
                },
                {
                    "date": 1747068026255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,12 @@\n \"use client\";\r\n-import { useState } from \"react\";\r\n+import { useState, useEffect } from \"react\";\r\n import Link from \"next/link\";\r\n import { useVietnameseAddress } from \"../../../hooks/useVietnameseAddress\";\r\n import OrderConfirmationModal from \"../../../components/OrderConfirmationModal\";\r\n \r\n export default function ShippingPage({\r\n-  userEmail,\r\n+  userEmail: propUserEmail,\r\n   isShippingComplete,\r\n   showAdditionalContact,\r\n   showPaymentDetails,\r\n   errors,\r\n@@ -17,8 +17,9 @@\n   const [paymentMethod, setPaymentMethod] = useState(\"\");\r\n   const [showPaymentSection, setShowPaymentSection] = useState(false);\r\n   const [showConfirmationModal, setShowConfirmationModal] = useState(false);\r\n   const [orderDetails, setOrderDetails] = useState(null);\r\n+  const [localUserEmail, setLocalUserEmail] = useState(\"\");\r\n   const [formData, setFormData] = useState({\r\n     firstName: \"\",\r\n     lastName: \"\",\r\n     address: \"\",\r\n@@ -37,8 +38,19 @@\n     handleDistrictChange,\r\n     handleWardChange\r\n   } = useVietnameseAddress();\r\n \r\n+  useEffect(() => {\r\n+    // Lấy email từ localStorage hoặc sessionStorage\r\n+    const email = localStorage.getItem('userEmail') || sessionStorage.getItem('userEmail');\r\n+    if (email) {\r\n+      setLocalUserEmail(email);\r\n+    }\r\n+  }, []);\r\n+\r\n+  // Sử dụng email từ props hoặc từ localStorage\r\n+  const userEmail = propUserEmail || localUserEmail;\r\n+\r\n   const handleInputChange = (e) => {\r\n     const { name, value } = e.target;\r\n     setFormData(prev => ({\r\n       ...prev,\r\n"
                },
                {
                    "date": 1747068230088,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,13 +39,22 @@\n     handleWardChange\r\n   } = useVietnameseAddress();\r\n \r\n   useEffect(() => {\r\n-    // Lấy email từ localStorage hoặc sessionStorage\r\n-    const email = localStorage.getItem('userEmail') || sessionStorage.getItem('userEmail');\r\n-    if (email) {\r\n-      setLocalUserEmail(email);\r\n+    async function fetchUser() {\r\n+      try {\r\n+        const res = await fetch('/api/user/profile');\r\n+        if (res.ok) {\r\n+          const user = await res.json();\r\n+          setLocalUserEmail(user.email || \"\");\r\n+        } else {\r\n+          setLocalUserEmail(\"\"); // Chưa đăng nhập\r\n+        }\r\n+      } catch {\r\n+        setLocalUserEmail(\"\");\r\n+      }\r\n     }\r\n+    fetchUser();\r\n   }, []);\r\n \r\n   // Sử dụng email từ props hoặc từ localStorage\r\n   const userEmail = propUserEmail || localUserEmail;\r\n"
                },
                {
                    "date": 1747068258045,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,22 +39,13 @@\n     handleWardChange\r\n   } = useVietnameseAddress();\r\n \r\n   useEffect(() => {\r\n-    async function fetchUser() {\r\n-      try {\r\n-        const res = await fetch('/api/user/profile');\r\n-        if (res.ok) {\r\n-          const user = await res.json();\r\n-          setLocalUserEmail(user.email || \"\");\r\n-        } else {\r\n-          setLocalUserEmail(\"\"); // Chưa đăng nhập\r\n-        }\r\n-      } catch {\r\n-        setLocalUserEmail(\"\");\r\n-      }\r\n+    // Lấy email từ localStorage hoặc sessionStorage\r\n+    const email = localStorage.getItem('userEmail') || sessionStorage.getItem('userEmail');\r\n+    if (email) {\r\n+      setLocalUserEmail(email);\r\n     }\r\n-    fetchUser();\r\n   }, []);\r\n \r\n   // Sử dụng email từ props hoặc từ localStorage\r\n   const userEmail = propUserEmail || localUserEmail;\r\n"
                },
                {
                    "date": 1747104141306,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,20 +244,8 @@\n             </div>\r\n           </div>\r\n \r\n           <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Địa chỉ *</label>\r\n-            <input\r\n-              name=\"address\"\r\n-              type=\"text\"\r\n-              value={formData.address}\r\n-              onChange={handleInputChange}\r\n-              style={{ ...styles.input, borderColor: errors.address ? \"red\" : \"#e0e0e0\" }}\r\n-              required\r\n-            />\r\n-          </div>\r\n-\r\n-          <div style={styles.formGroup}>\r\n             <label style={styles.label}>Căn hộ, tòa nhà, v.v. (không bắt buộc)</label>\r\n             <input\r\n               name=\"apartment\"\r\n               type=\"text\"\r\n"
                },
                {
                    "date": 1747104261839,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,8 +24,9 @@\n     lastName: \"\",\r\n     address: \"\",\r\n     phone: \"\",\r\n     additionalPhone: \"\",\r\n+    apartment: \"\",\r\n   });\r\n \r\n   const {\r\n     provinces,\r\n@@ -110,8 +111,9 @@\n         fullName: `${formData.firstName} ${formData.lastName}`,\r\n         email: userEmail,\r\n         phone: formData.phone,\r\n         additionalPhone: formData.additionalPhone || null,\r\n+        apartment: formData.apartment || null,\r\n         address: formData.address,\r\n         ward: selectedWardData?.name || \"\",\r\n         district: selectedDistrictData?.name || \"\",\r\n         province: selectedProvinceData?.name || \"\",\r\n"
                },
                {
                    "date": 1747104379423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,9 +85,9 @@\n         return;\r\n       }\r\n \r\n       // Kiểm tra các trường bắt buộc\r\n-      if (!formData.firstName || !formData.lastName || !formData.address || !formData.phone) {\r\n+      if (!formData.firstName || !formData.lastName || !formData.phone) {\r\n         alert(\"Vui lòng điền đầy đủ thông tin bắt buộc\");\r\n         return;\r\n       }\r\n \r\n"
                },
                {
                    "date": 1747104444530,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -112,9 +112,8 @@\n         email: userEmail,\r\n         phone: formData.phone,\r\n         additionalPhone: formData.additionalPhone || null,\r\n         apartment: formData.apartment || null,\r\n-        address: formData.address,\r\n         ward: selectedWardData?.name || \"\",\r\n         district: selectedDistrictData?.name || \"\",\r\n         province: selectedProvinceData?.name || \"\",\r\n         items: order.items.map(item => ({\r\n"
                },
                {
                    "date": 1747104519912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,8 +249,10 @@\n             <label style={styles.label}>Căn hộ, tòa nhà, v.v. (không bắt buộc)</label>\r\n             <input\r\n               name=\"apartment\"\r\n               type=\"text\"\r\n+              value={formData.apartment}\r\n+              onChange={handleInputChange}\r\n               style={styles.input}\r\n             />\r\n           </div>\r\n \r\n"
                },
                {
                    "date": 1747104734759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,8 +130,17 @@\n         paymentStatus: 'pending',\r\n         shippingStatus: 'pending'\r\n       };\r\n \r\n+      // Log để kiểm tra dữ liệu\r\n+      console.log('Order Details:', details);\r\n+      console.log('Selected Address:', {\r\n+        apartment: formData.apartment,\r\n+        ward: selectedWardData?.name,\r\n+        district: selectedDistrictData?.name,\r\n+        province: selectedProvinceData?.name\r\n+      });\r\n+\r\n       // Chỉ hiển thị modal xác nhận, không tạo đơn hàng ngay\r\n       setOrderDetails(details);\r\n       setShowConfirmationModal(true);\r\n     } catch (error) {\r\n"
                },
                {
                    "date": 1747104773849,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,8 +34,11 @@\n     wards,\r\n     selectedProvince,\r\n     selectedDistrict,\r\n     selectedWard,\r\n+    selectedProvinceName,\r\n+    selectedDistrictName,\r\n+    selectedWardName,\r\n     handleProvinceChange,\r\n     handleDistrictChange,\r\n     handleWardChange\r\n   } = useVietnameseAddress();\r\n@@ -112,11 +115,11 @@\n         email: userEmail,\r\n         phone: formData.phone,\r\n         additionalPhone: formData.additionalPhone || null,\r\n         apartment: formData.apartment || null,\r\n-        ward: selectedWardData?.name || \"\",\r\n-        district: selectedDistrictData?.name || \"\",\r\n-        province: selectedProvinceData?.name || \"\",\r\n+        ward: selectedWardName || \"\",\r\n+        district: selectedDistrictName || \"\",\r\n+        province: selectedProvinceName || \"\",\r\n         items: order.items.map(item => ({\r\n           ...item,\r\n           price: typeof item.price === 'string' ? parseFloat(item.price.replace('AU$', '').trim()) : item.price\r\n         })),\r\n"
                },
                {
                    "date": 1747105260034,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,11 +115,11 @@\n         email: userEmail,\r\n         phone: formData.phone,\r\n         additionalPhone: formData.additionalPhone || null,\r\n         apartment: formData.apartment || null,\r\n-        ward: selectedWardName || \"\",\r\n-        district: selectedDistrictName || \"\",\r\n-        province: selectedProvinceName || \"\",\r\n+        ward: selectedWardData?.name || \"\",\r\n+        district: selectedDistrictData?.name || \"\",\r\n+        province: selectedProvinceData?.name || \"\",\r\n         items: order.items.map(item => ({\r\n           ...item,\r\n           price: typeof item.price === 'string' ? parseFloat(item.price.replace('AU$', '').trim()) : item.price\r\n         })),\r\n"
                },
                {
                    "date": 1747105341076,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,12 +93,20 @@\n         alert(\"Vui lòng điền đầy đủ thông tin bắt buộc\");\r\n         return;\r\n       }\r\n \r\n+      // Tìm thông tin địa chỉ\r\n       const selectedProvinceData = provinces.find(p => p.code === selectedProvince);\r\n       const selectedDistrictData = districts.find(d => d.code === selectedDistrict);\r\n       const selectedWardData = wards.find(w => w.code === selectedWard);\r\n \r\n+      // Log để kiểm tra dữ liệu\r\n+      console.log('Selected Address Data:', {\r\n+        province: selectedProvinceData,\r\n+        district: selectedDistrictData,\r\n+        ward: selectedWardData\r\n+      });\r\n+\r\n       // Tạo mã đơn hàng\r\n       const now = new Date();\r\n       const orderCode = `AISH${now.getFullYear()}${String(now.getMonth() + 1).padStart(2, '0')}${String(now.getDate()).padStart(2, '0')}${String(now.getHours()).padStart(2, '0')}${String(now.getMinutes()).padStart(2, '0')}${String(now.getSeconds()).padStart(2, '0')}`;\r\n \r\n@@ -115,11 +123,11 @@\n         email: userEmail,\r\n         phone: formData.phone,\r\n         additionalPhone: formData.additionalPhone || null,\r\n         apartment: formData.apartment || null,\r\n-        ward: selectedWardData?.name || \"\",\r\n-        district: selectedDistrictData?.name || \"\",\r\n-        province: selectedProvinceData?.name || \"\",\r\n+        ward: selectedWardData ? selectedWardData.name : \"\",\r\n+        district: selectedDistrictData ? selectedDistrictData.name : \"\",\r\n+        province: selectedProvinceData ? selectedProvinceData.name : \"\",\r\n         items: order.items.map(item => ({\r\n           ...item,\r\n           price: typeof item.price === 'string' ? parseFloat(item.price.replace('AU$', '').trim()) : item.price\r\n         })),\r\n"
                },
                {
                    "date": 1747105466758,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,11 +123,11 @@\n         email: userEmail,\r\n         phone: formData.phone,\r\n         additionalPhone: formData.additionalPhone || null,\r\n         apartment: formData.apartment || null,\r\n-        ward: selectedWardData ? selectedWardData.name : \"\",\r\n-        district: selectedDistrictData ? selectedDistrictData.name : \"\",\r\n-        province: selectedProvinceData ? selectedProvinceData.name : \"\",\r\n+        ward: selectedWardName,\r\n+        district: selectedDistrictName,\r\n+        province: selectedProvinceName,\r\n         items: order.items.map(item => ({\r\n           ...item,\r\n           price: typeof item.price === 'string' ? parseFloat(item.price.replace('AU$', '').trim()) : item.price\r\n         })),\r\n@@ -145,11 +145,11 @@\n       // Log để kiểm tra dữ liệu\r\n       console.log('Order Details:', details);\r\n       console.log('Selected Address:', {\r\n         apartment: formData.apartment,\r\n-        ward: selectedWardData?.name,\r\n-        district: selectedDistrictData?.name,\r\n-        province: selectedProvinceData?.name\r\n+        ward: selectedWardName,\r\n+        district: selectedDistrictName,\r\n+        province: selectedProvinceName\r\n       });\r\n \r\n       // Chỉ hiển thị modal xác nhận, không tạo đơn hàng ngay\r\n       setOrderDetails(details);\r\n"
                },
                {
                    "date": 1747105849107,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,11 +123,11 @@\n         email: userEmail,\r\n         phone: formData.phone,\r\n         additionalPhone: formData.additionalPhone || null,\r\n         apartment: formData.apartment || null,\r\n-        ward: selectedWardName,\r\n-        district: selectedDistrictName,\r\n-        province: selectedProvinceName,\r\n+        ward: selectedWardName || \"\",\r\n+        district: selectedDistrictName || \"\",\r\n+        province: selectedProvinceName || \"\",\r\n         items: order.items.map(item => ({\r\n           ...item,\r\n           price: typeof item.price === 'string' ? parseFloat(item.price.replace('AU$', '').trim()) : item.price\r\n         })),\r\n"
                },
                {
                    "date": 1747107658803,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -355,8 +355,13 @@\n               />\r\n             </div>\r\n           )}\r\n \r\n+          {/* Thêm các trường ẩn để lưu thông tin địa chỉ */}\r\n+          <input type=\"hidden\" name=\"ward\" value={selectedWardName} />\r\n+          <input type=\"hidden\" name=\"district\" value={selectedDistrictName} />\r\n+          <input type=\"hidden\" name=\"province\" value={selectedProvinceName} />\r\n+\r\n           <button\r\n             onClick={handleContinueToPayment}\r\n             style={styles.continueButton}\r\n             type=\"submit\"\r\n"
                },
                {
                    "date": 1747109216125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,8 +93,12 @@\n         alert(\"Vui lòng điền đầy đủ thông tin bắt buộc\");\r\n         return;\r\n       }\r\n \r\n+      // Log kiểm tra giá trị selectedWardName và formData\r\n+      console.log('selectedWardName:', selectedWardName);\r\n+      console.log('formData:', formData);\r\n+\r\n       // Tìm thông tin địa chỉ\r\n       const selectedProvinceData = provinces.find(p => p.code === selectedProvince);\r\n       const selectedDistrictData = districts.find(d => d.code === selectedDistrict);\r\n       const selectedWardData = wards.find(w => w.code === selectedWard);\r\n"
                },
                {
                    "date": 1747109290937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,12 +93,8 @@\n         alert(\"Vui lòng điền đầy đủ thông tin bắt buộc\");\r\n         return;\r\n       }\r\n \r\n-      // Log kiểm tra giá trị selectedWardName và formData\r\n-      console.log('selectedWardName:', selectedWardName);\r\n-      console.log('formData:', formData);\r\n-\r\n       // Tìm thông tin địa chỉ\r\n       const selectedProvinceData = provinces.find(p => p.code === selectedProvince);\r\n       const selectedDistrictData = districts.find(d => d.code === selectedDistrict);\r\n       const selectedWardData = wards.find(w => w.code === selectedWard);\r\n"
                },
                {
                    "date": 1747109878224,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,8 +81,11 @@\n   const handleCompleteOrder = async (e) => {\r\n     e.preventDefault();\r\n     \r\n     try {\r\n+      // Log kiểm tra selectedWard và selectedWardName\r\n+      console.log('selectedWard:', selectedWard);\r\n+      console.log('selectedWardName:', selectedWardName);\r\n       // Kiểm tra xem đã chọn đủ thông tin địa chỉ chưa\r\n       if (!selectedProvince || !selectedDistrict || !selectedWard) {\r\n         alert(\"Vui lòng chọn đầy đủ thông tin địa chỉ\");\r\n         return;\r\n"
                },
                {
                    "date": 1747368026042,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -205,20 +205,20 @@\n           }}>\r\n             Thông tin chuyển khoản\r\n           </h3>\r\n           <div style={{ fontSize: \"0.9em\", color: \"#000000\" }}>\r\n-            <p style={{ marginBottom: \"8px\" }}>Ngân hàng: Vietcombank</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>Chủ tài khoản: AISH COMPANY</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>Số tài khoản: 1234567890</p>\r\n+            <p style={{ marginBottom: \"8px\" }}>Ngân hàng: MB BANK</p>\r\n+            <p style={{ marginBottom: \"8px\" }}>Chủ tài khoản: PHAN THUY TRUC DAO</p>\r\n+            <p style={{ marginBottom: \"8px\" }}>Số tài khoản: 024052306</p>\r\n             <p style={{ marginBottom: \"8px\" }}>\r\n-              Nội dung chuyển khoản: {order.orderNumber || \"ORDER123\"} + {order.phone || \"SĐT\"}\r\n+              Nội dung chuyển khoản: MÃ ĐƠN HÀNG + SĐT\r\n             </p>\r\n             <p style={{\r\n               marginTop: \"15px\",\r\n               fontStyle: \"italic\",\r\n               color: \"#666666\"\r\n             }}>\r\n-              Quý khách vui lòng chụp màn hình gửi về Facebook hoặc Instagram AISH\r\n+              Sau khi đặt hàng thành công, quý khách sẽ thấy mã đơn hàng tại trang. Quý khách vui lòng chuyển khoản đúng nội dung và chụp màn hình gửi về Facebook hoặc Instagram AISH nhaa\r\n             </p>\r\n           </div>\r\n         </div>\r\n       );\r\n"
                },
                {
                    "date": 1747368888837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,9 +216,9 @@\n               marginTop: \"15px\",\r\n               fontStyle: \"italic\",\r\n               color: \"#666666\"\r\n             }}>\r\n-              Sau khi đặt hàng thành công, quý khách sẽ thấy mã đơn hàng tại trang. Quý khách vui lòng chuyển khoản đúng nội dung và chụp màn hình gửi về Facebook hoặc Instagram AISH nhaa\r\n+              Sau khi đặt hàng thành công, quý khách sẽ thấy mã đơn hàng tại trang. Quý khách vui lòng chuyển khoản đúng nội dung và chụp màn hình gửi về Facebook hoặc Instagram aish.aish.vn nhaa\r\n             </p>\r\n           </div>\r\n         </div>\r\n       );\r\n"
                },
                {
                    "date": 1747368981733,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,9 +182,9 @@\n             fontSize: \"0.9em\",\r\n             color: \"#000000\",\r\n             fontStyle: \"italic\"\r\n           }}>\r\n-            Quý khách vui lòng để ý mã đơn hàng để tiện theo dõi.\r\n+            Quý khách ghi nhớ mã đơn hàng và nhắn tin cho Facebook hoặc Instagram aish.aish.vn nếu muốn tra cứu mã vận đơn nhé\r\n           </p>\r\n         </div>\r\n       );\r\n     }\r\n"
                },
                {
                    "date": 1747380552081,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -227,26 +227,26 @@\n \r\n   return (\r\n     <div style={styles.leftSection}>\r\n       <div style={styles.section}>\r\n-        <h2 style={styles.sectionTitle}>THÔNG TIN LIÊN HỆ</h2>\r\n+        <h2 style={styles.sectionTitle}>CONTACT INFORMATION</h2>\r\n         <p style={styles.sectionText}>\r\n           {userEmail ? (\r\n             <>\r\n-              {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n+              {userEmail} (<Link href=\"/logout\" style={styles.link}>Logout</Link>)\r\n             </>\r\n           ) : (\r\n-            \"Bạn chưa đăng nhập\"\r\n+            \"You are not logged in\"\r\n           )}\r\n         </p>\r\n       </div>\r\n \r\n       <div style={styles.section}>\r\n-        <h2 style={styles.sectionTitle}>ĐỊA CHỈ GIAO HÀNG</h2>\r\n+        <h2 style={styles.sectionTitle}>SHIPPING ADDRESS</h2>\r\n         <form id=\"shippingForm\" style={styles.form}>\r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Họ *</label>\r\n+              <label style={styles.label}>Last Name *</label>\r\n               <input\r\n                 name=\"firstName\"\r\n                 type=\"text\"\r\n                 value={formData.firstName}\r\n@@ -255,9 +255,9 @@\n                 required\r\n               />\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Tên *</label>\r\n+              <label style={styles.label}>First Name *</label>\r\n               <input\r\n                 name=\"lastName\"\r\n                 type=\"text\"\r\n                 value={formData.lastName}\r\n@@ -268,9 +268,9 @@\n             </div>\r\n           </div>\r\n \r\n           <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Căn hộ, tòa nhà, v.v. (không bắt buộc)</label>\r\n+            <label style={styles.label}>Apartment, building, etc. (optional)</label>\r\n             <input\r\n               name=\"apartment\"\r\n               type=\"text\"\r\n               value={formData.apartment}\r\n@@ -278,74 +278,70 @@\n               style={styles.input}\r\n             />\r\n           </div>\r\n \r\n-          <div style={styles.formRow}>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Tỉnh/Thành phố *</label>\r\n-              <select\r\n-                value={selectedProvince}\r\n-                onChange={handleProvinceChange}\r\n-                style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-              >\r\n-                <option value=\"\">Chọn Tỉnh/Thành phố</option>\r\n-                {provinces.map((province) => (\r\n-                  <option key={province.code} value={province.code}>\r\n-                    {province.name}\r\n-                  </option>\r\n-                ))}\r\n-              </select>\r\n-            </div>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Quận/Huyện *</label>\r\n-              <select\r\n-                value={selectedDistrict}\r\n-                onChange={handleDistrictChange}\r\n-                style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-                disabled={!selectedProvince}\r\n-              >\r\n-                <option value=\"\">Chọn Quận/Huyện</option>\r\n-                {districts.map((district) => (\r\n-                  <option key={district.code} value={district.code}>\r\n-                    {district.name}\r\n-                  </option>\r\n-                ))}\r\n-              </select>\r\n-            </div>\r\n+          <div style={styles.formGroup}>\r\n+            <label style={styles.label}>Province/City *</label>\r\n+            <select\r\n+              value={selectedProvince}\r\n+              onChange={handleProvinceChange}\r\n+              style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n+              required\r\n+            >\r\n+              <option value=\"\">Select Province/City</option>\r\n+              {provinces.map((province) => (\r\n+                <option key={province.code} value={province.code}>\r\n+                  {province.name}\r\n+                </option>\r\n+              ))}\r\n+            </select>\r\n           </div>\r\n+          <div style={styles.formGroup}>\r\n+            <label style={styles.label}>District *</label>\r\n+            <select\r\n+              value={selectedDistrict}\r\n+              onChange={handleDistrictChange}\r\n+              style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n+              required\r\n+              disabled={!selectedProvince}\r\n+            >\r\n+              <option value=\"\">Select District</option>\r\n+              {districts.map((district) => (\r\n+                <option key={district.code} value={district.code}>\r\n+                  {district.name}\r\n+                </option>\r\n+              ))}\r\n+            </select>\r\n+          </div>\r\n \r\n-          <div style={styles.formRow}>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Phường/Xã *</label>\r\n-              <select\r\n-                value={selectedWard}\r\n-                onChange={handleWardChange}\r\n-                style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-                disabled={!selectedDistrict}\r\n-              >\r\n-                <option value=\"\">Chọn Phường/Xã</option>\r\n-                {wards.map((ward) => (\r\n-                  <option key={ward.code} value={ward.code}>\r\n-                    {ward.name}\r\n-                  </option>\r\n-                ))}\r\n-              </select>\r\n-            </div>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Số điện thoại *</label>\r\n-              <input\r\n-                name=\"phone\"\r\n-                type=\"tel\"\r\n-                value={formData.phone}\r\n-                onChange={handleInputChange}\r\n-                style={{ ...styles.input, borderColor: errors.phone ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-              />\r\n-            </div>\r\n+          <div style={styles.formGroup}>\r\n+            <label style={styles.label}>Ward *</label>\r\n+            <select\r\n+              value={selectedWard}\r\n+              onChange={handleWardChange}\r\n+              style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n+              required\r\n+              disabled={!selectedDistrict}\r\n+            >\r\n+              <option value=\"\">Select Ward</option>\r\n+              {wards.map((ward) => (\r\n+                <option key={ward.code} value={ward.code}>\r\n+                  {ward.name}\r\n+                </option>\r\n+              ))}\r\n+            </select>\r\n           </div>\r\n+          <div style={styles.formGroup}>\r\n+            <label style={styles.label}>Phone Number *</label>\r\n+            <input\r\n+              name=\"phone\"\r\n+              type=\"tel\"\r\n+              value={formData.phone}\r\n+              onChange={handleInputChange}\r\n+              style={{ ...styles.input, borderColor: errors.phone ? \"red\" : \"#e0e0e0\" }}\r\n+              required\r\n+            />\r\n+          </div>\r\n \r\n           {showAdditionalContact && (\r\n             <div style={styles.formGroup}>\r\n               <label style={styles.label}>Số điện thoại phụ (không bắt buộc)</label>\r\n"
                },
                {
                    "date": 1747380577889,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -227,26 +227,26 @@\n \r\n   return (\r\n     <div style={styles.leftSection}>\r\n       <div style={styles.section}>\r\n-        <h2 style={styles.sectionTitle}>CONTACT INFORMATION</h2>\r\n+        <h2 style={styles.sectionTitle}>THÔNG TIN LIÊN HỆ</h2>\r\n         <p style={styles.sectionText}>\r\n           {userEmail ? (\r\n             <>\r\n-              {userEmail} (<Link href=\"/logout\" style={styles.link}>Logout</Link>)\r\n+              {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n             </>\r\n           ) : (\r\n-            \"You are not logged in\"\r\n+            \"Bạn chưa đăng nhập\"\r\n           )}\r\n         </p>\r\n       </div>\r\n \r\n       <div style={styles.section}>\r\n-        <h2 style={styles.sectionTitle}>SHIPPING ADDRESS</h2>\r\n+        <h2 style={styles.sectionTitle}>ĐỊA CHỈ GIAO HÀNG</h2>\r\n         <form id=\"shippingForm\" style={styles.form}>\r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Last Name *</label>\r\n+              <label style={styles.label}>Họ *</label>\r\n               <input\r\n                 name=\"firstName\"\r\n                 type=\"text\"\r\n                 value={formData.firstName}\r\n@@ -255,9 +255,9 @@\n                 required\r\n               />\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>First Name *</label>\r\n+              <label style={styles.label}>Tên *</label>\r\n               <input\r\n                 name=\"lastName\"\r\n                 type=\"text\"\r\n                 value={formData.lastName}\r\n@@ -268,9 +268,9 @@\n             </div>\r\n           </div>\r\n \r\n           <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Apartment, building, etc. (optional)</label>\r\n+            <label style={styles.label}>Căn hộ, tòa nhà, v.v. (không bắt buộc)</label>\r\n             <input\r\n               name=\"apartment\"\r\n               type=\"text\"\r\n               value={formData.apartment}\r\n@@ -278,70 +278,74 @@\n               style={styles.input}\r\n             />\r\n           </div>\r\n \r\n-          <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Province/City *</label>\r\n-            <select\r\n-              value={selectedProvince}\r\n-              onChange={handleProvinceChange}\r\n-              style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n-              required\r\n-            >\r\n-              <option value=\"\">Select Province/City</option>\r\n-              {provinces.map((province) => (\r\n-                <option key={province.code} value={province.code}>\r\n-                  {province.name}\r\n-                </option>\r\n-              ))}\r\n-            </select>\r\n+          <div style={styles.formRow}>\r\n+            <div style={styles.formGroup}>\r\n+              <label style={styles.label}>Tỉnh/Thành phố *</label>\r\n+              <select\r\n+                value={selectedProvince}\r\n+                onChange={handleProvinceChange}\r\n+                style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n+                required\r\n+              >\r\n+                <option value=\"\">Chọn Tỉnh/Thành phố</option>\r\n+                {provinces.map((province) => (\r\n+                  <option key={province.code} value={province.code}>\r\n+                    {province.name}\r\n+                  </option>\r\n+                ))}\r\n+              </select>\r\n+            </div>\r\n+            <div style={styles.formGroup}>\r\n+              <label style={styles.label}>Quận/Huyện *</label>\r\n+              <select\r\n+                value={selectedDistrict}\r\n+                onChange={handleDistrictChange}\r\n+                style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n+                required\r\n+                disabled={!selectedProvince}\r\n+              >\r\n+                <option value=\"\">Chọn Quận/Huyện</option>\r\n+                {districts.map((district) => (\r\n+                  <option key={district.code} value={district.code}>\r\n+                    {district.name}\r\n+                  </option>\r\n+                ))}\r\n+              </select>\r\n+            </div>\r\n           </div>\r\n-          <div style={styles.formGroup}>\r\n-            <label style={styles.label}>District *</label>\r\n-            <select\r\n-              value={selectedDistrict}\r\n-              onChange={handleDistrictChange}\r\n-              style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n-              required\r\n-              disabled={!selectedProvince}\r\n-            >\r\n-              <option value=\"\">Select District</option>\r\n-              {districts.map((district) => (\r\n-                <option key={district.code} value={district.code}>\r\n-                  {district.name}\r\n-                </option>\r\n-              ))}\r\n-            </select>\r\n-          </div>\r\n \r\n-          <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Ward *</label>\r\n-            <select\r\n-              value={selectedWard}\r\n-              onChange={handleWardChange}\r\n-              style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n-              required\r\n-              disabled={!selectedDistrict}\r\n-            >\r\n-              <option value=\"\">Select Ward</option>\r\n-              {wards.map((ward) => (\r\n-                <option key={ward.code} value={ward.code}>\r\n-                  {ward.name}\r\n-                </option>\r\n-              ))}\r\n-            </select>\r\n+          <div style={styles.formRow}>\r\n+            <div style={styles.formGroup}>\r\n+              <label style={styles.label}>Phường/Xã *</label>\r\n+              <select\r\n+                value={selectedWard}\r\n+                onChange={handleWardChange}\r\n+                style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n+                required\r\n+                disabled={!selectedDistrict}\r\n+              >\r\n+                <option value=\"\">Chọn Phường/Xã</option>\r\n+                {wards.map((ward) => (\r\n+                  <option key={ward.code} value={ward.code}>\r\n+                    {ward.name}\r\n+                  </option>\r\n+                ))}\r\n+              </select>\r\n+            </div>\r\n+            <div style={styles.formGroup}>\r\n+              <label style={styles.label}>Số điện thoại *</label>\r\n+              <input\r\n+                name=\"phone\"\r\n+                type=\"tel\"\r\n+                value={formData.phone}\r\n+                onChange={handleInputChange}\r\n+                style={{ ...styles.input, borderColor: errors.phone ? \"red\" : \"#e0e0e0\" }}\r\n+                required\r\n+              />\r\n+            </div>\r\n           </div>\r\n-          <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Phone Number *</label>\r\n-            <input\r\n-              name=\"phone\"\r\n-              type=\"tel\"\r\n-              value={formData.phone}\r\n-              onChange={handleInputChange}\r\n-              style={{ ...styles.input, borderColor: errors.phone ? \"red\" : \"#e0e0e0\" }}\r\n-              required\r\n-            />\r\n-          </div>\r\n \r\n           {showAdditionalContact && (\r\n             <div style={styles.formGroup}>\r\n               <label style={styles.label}>Số điện thoại phụ (không bắt buộc)</label>\r\n"
                },
                {
                    "date": 1747380615317,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,15 +86,15 @@\n       console.log('selectedWard:', selectedWard);\r\n       console.log('selectedWardName:', selectedWardName);\r\n       // Kiểm tra xem đã chọn đủ thông tin địa chỉ chưa\r\n       if (!selectedProvince || !selectedDistrict || !selectedWard) {\r\n-        alert(\"Vui lòng chọn đầy đủ thông tin địa chỉ\");\r\n+        alert(\"Please select complete address information\");\r\n         return;\r\n       }\r\n \r\n       // Kiểm tra các trường bắt buộc\r\n       if (!formData.firstName || !formData.lastName || !formData.phone) {\r\n-        alert(\"Vui lòng điền đầy đủ thông tin bắt buộc\");\r\n+        alert(\"Please fill in all required information\");\r\n         return;\r\n       }\r\n \r\n       // Tìm thông tin địa chỉ\r\n@@ -134,9 +134,9 @@\n           ...item,\r\n           price: typeof item.price === 'string' ? parseFloat(item.price.replace('AU$', '').trim()) : item.price\r\n         })),\r\n         subtotal: subtotal,\r\n-        shippingFee: \"Miễn phí\",\r\n+        shippingFee: \"Free\",\r\n         promoCode: order.promoCode || null,\r\n         promoAmount: order.promoAmount || 0,\r\n         total: subtotal - (order.promoAmount || 0),\r\n         paymentMethod: paymentMethod,\r\n@@ -158,9 +158,9 @@\n       setOrderDetails(details);\r\n       setShowConfirmationModal(true);\r\n     } catch (error) {\r\n       console.error(\"Error preparing order:\", error);\r\n-      alert(\"Có lỗi xảy ra khi chuẩn bị đơn hàng. Vui lòng thử lại.\");\r\n+      alert(\"An error occurred while preparing the order. Please try again.\");\r\n     }\r\n   };\r\n \r\n   const handlePaymentMethodChange = (method) => {\r\n@@ -182,9 +182,9 @@\n             fontSize: \"0.9em\",\r\n             color: \"#000000\",\r\n             fontStyle: \"italic\"\r\n           }}>\r\n-            Quý khách ghi nhớ mã đơn hàng và nhắn tin cho Facebook hoặc Instagram aish.aish.vn nếu muốn tra cứu mã vận đơn nhé\r\n+            Please remember your order code and message Facebook or Instagram aish.aish.vn if you want to check the tracking number\r\n           </p>\r\n         </div>\r\n       );\r\n     }\r\n@@ -202,23 +202,23 @@\n             fontWeight: \"bold\",\r\n             marginBottom: \"10px\",\r\n             color: \"#000000\"\r\n           }}>\r\n-            Thông tin chuyển khoản\r\n+            Bank Transfer Information\r\n           </h3>\r\n           <div style={{ fontSize: \"0.9em\", color: \"#000000\" }}>\r\n-            <p style={{ marginBottom: \"8px\" }}>Ngân hàng: MB BANK</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>Chủ tài khoản: PHAN THUY TRUC DAO</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>Số tài khoản: 024052306</p>\r\n+            <p style={{ marginBottom: \"8px\" }}>Bank: MB BANK</p>\r\n+            <p style={{ marginBottom: \"8px\" }}>Account Holder: PHAN THUY TRUC DAO</p>\r\n+            <p style={{ marginBottom: \"8px\" }}>Account Number: 024052306</p>\r\n             <p style={{ marginBottom: \"8px\" }}>\r\n-              Nội dung chuyển khoản: MÃ ĐƠN HÀNG + SĐT\r\n+              Transfer Content: ORDER CODE + PHONE NUMBER\r\n             </p>\r\n             <p style={{\r\n               marginTop: \"15px\",\r\n               fontStyle: \"italic\",\r\n               color: \"#666666\"\r\n             }}>\r\n-              Sau khi đặt hàng thành công, quý khách sẽ thấy mã đơn hàng tại trang. Quý khách vui lòng chuyển khoản đúng nội dung và chụp màn hình gửi về Facebook hoặc Instagram aish.aish.vn nhaa\r\n+              After successful order placement, you will see the order code on the page. Please transfer with the correct content and send a screenshot to Facebook or Instagram aish.aish.vn\r\n             </p>\r\n           </div>\r\n         </div>\r\n       );\r\n@@ -227,9 +227,9 @@\n \r\n   return (\r\n     <div style={styles.leftSection}>\r\n       <div style={styles.section}>\r\n-        <h2 style={styles.sectionTitle}>THÔNG TIN LIÊN HỆ</h2>\r\n+        <h2 style={styles.sectionTitle}>CONTACT INFORMATION</h2>\r\n         <p style={styles.sectionText}>\r\n           {userEmail ? (\r\n             <>\r\n               {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n@@ -240,13 +240,13 @@\n         </p>\r\n       </div>\r\n \r\n       <div style={styles.section}>\r\n-        <h2 style={styles.sectionTitle}>ĐỊA CHỈ GIAO HÀNG</h2>\r\n+        <h2 style={styles.sectionTitle}>SHIPPING ADDRESS</h2>\r\n         <form id=\"shippingForm\" style={styles.form}>\r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Họ *</label>\r\n+              <label style={styles.label}>First Name *</label>\r\n               <input\r\n                 name=\"firstName\"\r\n                 type=\"text\"\r\n                 value={formData.firstName}\r\n@@ -255,9 +255,9 @@\n                 required\r\n               />\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Tên *</label>\r\n+              <label style={styles.label}>Last Name *</label>\r\n               <input\r\n                 name=\"lastName\"\r\n                 type=\"text\"\r\n                 value={formData.lastName}\r\n@@ -268,9 +268,9 @@\n             </div>\r\n           </div>\r\n \r\n           <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Căn hộ, tòa nhà, v.v. (không bắt buộc)</label>\r\n+            <label style={styles.label}>Apartment, building, etc. (optional)</label>\r\n             <input\r\n               name=\"apartment\"\r\n               type=\"text\"\r\n               value={formData.apartment}\r\n@@ -280,33 +280,33 @@\n           </div>\r\n \r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Tỉnh/Thành phố *</label>\r\n+              <label style={styles.label}>Province/City *</label>\r\n               <select\r\n                 value={selectedProvince}\r\n                 onChange={handleProvinceChange}\r\n                 style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n                 required\r\n               >\r\n-                <option value=\"\">Chọn Tỉnh/Thành phố</option>\r\n+                <option value=\"\">Select Province/City</option>\r\n                 {provinces.map((province) => (\r\n                   <option key={province.code} value={province.code}>\r\n                     {province.name}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Quận/Huyện *</label>\r\n+              <label style={styles.label}>District/County *</label>\r\n               <select\r\n                 value={selectedDistrict}\r\n                 onChange={handleDistrictChange}\r\n                 style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n                 required\r\n                 disabled={!selectedProvince}\r\n               >\r\n-                <option value=\"\">Chọn Quận/Huyện</option>\r\n+                <option value=\"\">Select District/County</option>\r\n                 {districts.map((district) => (\r\n                   <option key={district.code} value={district.code}>\r\n                     {district.name}\r\n                   </option>\r\n@@ -316,26 +316,26 @@\n           </div>\r\n \r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Phường/Xã *</label>\r\n+              <label style={styles.label}>Ward/Commune *</label>\r\n               <select\r\n                 value={selectedWard}\r\n                 onChange={handleWardChange}\r\n                 style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n                 required\r\n                 disabled={!selectedDistrict}\r\n               >\r\n-                <option value=\"\">Chọn Phường/Xã</option>\r\n+                <option value=\"\">Select Ward/Commune</option>\r\n                 {wards.map((ward) => (\r\n                   <option key={ward.code} value={ward.code}>\r\n                     {ward.name}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Số điện thoại *</label>\r\n+              <label style={styles.label}>Phone *</label>\r\n               <input\r\n                 name=\"phone\"\r\n                 type=\"tel\"\r\n                 value={formData.phone}\r\n@@ -347,9 +347,9 @@\n           </div>\r\n \r\n           {showAdditionalContact && (\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Số điện thoại phụ (không bắt buộc)</label>\r\n+              <label style={styles.label}>Additional Phone (optional)</label>\r\n               <input\r\n                 name=\"additionalPhone\"\r\n                 type=\"tel\"\r\n                 value={formData.additionalPhone}\r\n@@ -368,16 +368,16 @@\n             onClick={handleContinueToPayment}\r\n             style={styles.continueButton}\r\n             type=\"submit\"\r\n           >\r\n-            Tiếp tục thanh toán\r\n+            Continue to Payment\r\n           </button>\r\n         </form>\r\n       </div>\r\n \r\n       {showPaymentSection && (\r\n         <div id=\"paymentSection\" style={styles.section}>\r\n-          <h2 style={styles.sectionTitle}>HÌNH THỨC THANH TOÁN</h2>\r\n+          <h2 style={styles.sectionTitle}>PAYMENT METHOD</h2>\r\n           <div style={styles.paymentMethods}>\r\n             <div\r\n               style={{\r\n                 ...styles.paymentMethod,\r\n@@ -393,9 +393,9 @@\n                   onChange={() => handlePaymentMethodChange(\"cod\")}\r\n                   style={styles.radio}\r\n                 />\r\n                 <label style={styles.paymentMethodLabel}>\r\n-                  Thanh toán khi nhận hàng (COD)\r\n+                  Cash on Delivery (COD)\r\n                 </label>\r\n               </div>\r\n             </div>\r\n \r\n@@ -414,9 +414,9 @@\n                   onChange={() => handlePaymentMethodChange(\"bank\")}\r\n                   style={styles.radio}\r\n                 />\r\n                 <label style={styles.paymentMethodLabel}>\r\n-                  Chuyển khoản ngân hàng\r\n+                  Bank Transfer\r\n                 </label>\r\n               </div>\r\n             </div>\r\n           </div>\r\n@@ -427,9 +427,9 @@\n             <button\r\n               onClick={handleCompleteOrder}\r\n               style={styles.completeOrderButton}\r\n             >\r\n-              Hoàn tất đơn hàng\r\n+              Complete Order\r\n             </button>\r\n           )}\r\n         </div>\r\n       )}\r\n"
                },
                {
                    "date": 1747380748246,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,33 +280,33 @@\n           </div>\r\n \r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Province/City *</label>\r\n+              <label style={styles.label}>Tỉnh/Thành phố *</label>\r\n               <select\r\n                 value={selectedProvince}\r\n                 onChange={handleProvinceChange}\r\n                 style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n                 required\r\n               >\r\n-                <option value=\"\">Select Province/City</option>\r\n+                <option value=\"\">Chọn Tỉnh/Thành phố</option>\r\n                 {provinces.map((province) => (\r\n                   <option key={province.code} value={province.code}>\r\n                     {province.name}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>District/County *</label>\r\n+              <label style={styles.label}>Quận/Huyện *</label>\r\n               <select\r\n                 value={selectedDistrict}\r\n                 onChange={handleDistrictChange}\r\n                 style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n                 required\r\n                 disabled={!selectedProvince}\r\n               >\r\n-                <option value=\"\">Select District/County</option>\r\n+                <option value=\"\">Chọn Quận/Huyện</option>\r\n                 {districts.map((district) => (\r\n                   <option key={district.code} value={district.code}>\r\n                     {district.name}\r\n                   </option>\r\n@@ -316,17 +316,17 @@\n           </div>\r\n \r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Ward/Commune *</label>\r\n+              <label style={styles.label}>Phường/Xã *</label>\r\n               <select\r\n                 value={selectedWard}\r\n                 onChange={handleWardChange}\r\n                 style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n                 required\r\n                 disabled={!selectedDistrict}\r\n               >\r\n-                <option value=\"\">Select Ward/Commune</option>\r\n+                <option value=\"\">Chọn Phường/Xã</option>\r\n                 {wards.map((ward) => (\r\n                   <option key={ward.code} value={ward.code}>\r\n                     {ward.name}\r\n                   </option>\r\n"
                },
                {
                    "date": 1747380820312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,9 +280,9 @@\n           </div>\r\n \r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Tỉnh/Thành phố *</label>\r\n+              <label style={styles.label}>Province/City *</label>\r\n               <select\r\n                 value={selectedProvince}\r\n                 onChange={handleProvinceChange}\r\n                 style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n@@ -296,9 +296,9 @@\n                 ))}\r\n               </select>\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Quận/Huyện *</label>\r\n+              <label style={styles.label}>District/County *</label>\r\n               <select\r\n                 value={selectedDistrict}\r\n                 onChange={handleDistrictChange}\r\n                 style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n@@ -316,9 +316,9 @@\n           </div>\r\n \r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Phường/Xã *</label>\r\n+              <label style={styles.label}>Ward/Commune *</label>\r\n               <select\r\n                 value={selectedWard}\r\n                 onChange={handleWardChange}\r\n                 style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n"
                },
                {
                    "date": 1747380904517,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,9 +182,9 @@\n             fontSize: \"0.9em\",\r\n             color: \"#000000\",\r\n             fontStyle: \"italic\"\r\n           }}>\r\n-            Please remember your order code and message Facebook or Instagram aish.aish.vn if you want to check the tracking number\r\n+            Quý khách ghi nhớ mã đơn hàng và nhắn tin cho Facebook hoặc Instagram aish.aish.vn nếu muốn tra cứu mã vận đơn nhé\r\n           </p>\r\n         </div>\r\n       );\r\n     }\r\n@@ -202,23 +202,23 @@\n             fontWeight: \"bold\",\r\n             marginBottom: \"10px\",\r\n             color: \"#000000\"\r\n           }}>\r\n-            Bank Transfer Information\r\n+            Thông tin chuyển khoản\r\n           </h3>\r\n           <div style={{ fontSize: \"0.9em\", color: \"#000000\" }}>\r\n-            <p style={{ marginBottom: \"8px\" }}>Bank: MB BANK</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>Account Holder: PHAN THUY TRUC DAO</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>Account Number: 024052306</p>\r\n+            <p style={{ marginBottom: \"8px\" }}>Ngân hàng: MB BANK</p>\r\n+            <p style={{ marginBottom: \"8px\" }}>Chủ tài khoản: PHAN THUY TRUC DAO</p>\r\n+            <p style={{ marginBottom: \"8px\" }}>Số tài khoản: 024052306</p>\r\n             <p style={{ marginBottom: \"8px\" }}>\r\n-              Transfer Content: ORDER CODE + PHONE NUMBER\r\n+              Nội dung chuyển khoản: MÃ ĐƠN HÀNG + SĐT\r\n             </p>\r\n             <p style={{\r\n               marginTop: \"15px\",\r\n               fontStyle: \"italic\",\r\n               color: \"#666666\"\r\n             }}>\r\n-              After successful order placement, you will see the order code on the page. Please transfer with the correct content and send a screenshot to Facebook or Instagram aish.aish.vn\r\n+              Sau khi đặt hàng thành công, quý khách sẽ thấy mã đơn hàng tại trang. Quý khách vui lòng chuyển khoản đúng nội dung và chụp màn hình gửi về Facebook hoặc Instagram aish.aish.vn nhaa\r\n             </p>\r\n           </div>\r\n         </div>\r\n       );\r\n"
                },
                {
                    "date": 1747389056244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,190 +248,274 @@\n               <label style={styles.label}>First Name *</label>\r\n               <input\r\n                 name=\"firstName\"\r\n                 type=\"text\"\r\n+                required\r\n                 value={formData.firstName}\r\n                 onChange={handleInputChange}\r\n-                style={{ ...styles.input, borderColor: errors.firstName ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n+                style={{\r\n+                  ...styles.input,\r\n+                  width: \"100%\",\r\n+                  padding: \"8px\",\r\n+                  fontSize: \"0.9em\",\r\n+                  border: \"1px solid #000000\",\r\n+                  marginBottom: \"10px\",\r\n+                }}\r\n               />\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n               <label style={styles.label}>Last Name *</label>\r\n               <input\r\n                 name=\"lastName\"\r\n                 type=\"text\"\r\n+                required\r\n                 value={formData.lastName}\r\n                 onChange={handleInputChange}\r\n-                style={{ ...styles.input, borderColor: errors.lastName ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n+                style={{\r\n+                  ...styles.input,\r\n+                  width: \"100%\",\r\n+                  padding: \"8px\",\r\n+                  fontSize: \"0.9em\",\r\n+                  border: \"1px solid #000000\",\r\n+                  marginBottom: \"10px\",\r\n+                }}\r\n               />\r\n             </div>\r\n           </div>\r\n \r\n           <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Apartment, building, etc. (optional)</label>\r\n+            <label style={styles.label}>Phone Number *</label>\r\n             <input\r\n+              name=\"phone\"\r\n+              type=\"tel\"\r\n+              required\r\n+              value={formData.phone}\r\n+              onChange={handleInputChange}\r\n+              style={{\r\n+                ...styles.input,\r\n+                width: \"100%\",\r\n+                padding: \"8px\",\r\n+                fontSize: \"0.9em\",\r\n+                border: \"1px solid #000000\",\r\n+                marginBottom: \"10px\",\r\n+              }}\r\n+            />\r\n+          </div>\r\n+\r\n+          <div style={styles.formGroup}>\r\n+            <label style={styles.label}>Address *</label>\r\n+            <input\r\n+              name=\"address\"\r\n+              type=\"text\"\r\n+              required\r\n+              style={{\r\n+                ...styles.input,\r\n+                width: \"100%\",\r\n+                padding: \"8px\",\r\n+                fontSize: \"0.9em\",\r\n+                border: \"1px solid #000000\",\r\n+                marginBottom: \"10px\",\r\n+              }}\r\n+            />\r\n+          </div>\r\n+\r\n+          <div style={styles.formGroup}>\r\n+            <label style={styles.label}>Apartment, suite, etc.</label>\r\n+            <input\r\n               name=\"apartment\"\r\n               type=\"text\"\r\n               value={formData.apartment}\r\n               onChange={handleInputChange}\r\n-              style={styles.input}\r\n+              style={{\r\n+                ...styles.input,\r\n+                width: \"100%\",\r\n+                padding: \"8px\",\r\n+                fontSize: \"0.9em\",\r\n+                border: \"1px solid #000000\",\r\n+                marginBottom: \"10px\",\r\n+              }}\r\n             />\r\n           </div>\r\n \r\n-          <div style={styles.formRow}>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Province/City *</label>\r\n-              <select\r\n-                value={selectedProvince}\r\n-                onChange={handleProvinceChange}\r\n-                style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-              >\r\n-                <option value=\"\">Chọn Tỉnh/Thành phố</option>\r\n-                {provinces.map((province) => (\r\n-                  <option key={province.code} value={province.code}>\r\n-                    {province.name}\r\n-                  </option>\r\n-                ))}\r\n-              </select>\r\n-            </div>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>District/County *</label>\r\n-              <select\r\n-                value={selectedDistrict}\r\n-                onChange={handleDistrictChange}\r\n-                style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-                disabled={!selectedProvince}\r\n-              >\r\n-                <option value=\"\">Chọn Quận/Huyện</option>\r\n-                {districts.map((district) => (\r\n-                  <option key={district.code} value={district.code}>\r\n-                    {district.name}\r\n-                  </option>\r\n-                ))}\r\n-              </select>\r\n-            </div>\r\n+          <div style={styles.formGroup}>\r\n+            <label style={styles.label}>Province/City *</label>\r\n+            <select\r\n+              value={selectedProvince}\r\n+              onChange={handleProvinceChange}\r\n+              required\r\n+              style={{\r\n+                ...styles.input,\r\n+                width: \"100%\",\r\n+                padding: \"8px\",\r\n+                fontSize: \"0.9em\",\r\n+                border: \"1px solid #000000\",\r\n+                marginBottom: \"10px\",\r\n+                backgroundColor: \"white\",\r\n+              }}\r\n+            >\r\n+              <option value=\"\">Select Province/City</option>\r\n+              {provinces.map((province) => (\r\n+                <option key={province.code} value={province.code}>\r\n+                  {province.name}\r\n+                </option>\r\n+              ))}\r\n+            </select>\r\n           </div>\r\n \r\n-          <div style={styles.formRow}>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Ward/Commune *</label>\r\n-              <select\r\n-                value={selectedWard}\r\n-                onChange={handleWardChange}\r\n-                style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-                disabled={!selectedDistrict}\r\n-              >\r\n-                <option value=\"\">Chọn Phường/Xã</option>\r\n-                {wards.map((ward) => (\r\n-                  <option key={ward.code} value={ward.code}>\r\n-                    {ward.name}\r\n-                  </option>\r\n-                ))}\r\n-              </select>\r\n-            </div>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Phone *</label>\r\n-              <input\r\n-                name=\"phone\"\r\n-                type=\"tel\"\r\n-                value={formData.phone}\r\n-                onChange={handleInputChange}\r\n-                style={{ ...styles.input, borderColor: errors.phone ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-              />\r\n-            </div>\r\n+          <div style={styles.formGroup}>\r\n+            <label style={styles.label}>District *</label>\r\n+            <select\r\n+              value={selectedDistrict}\r\n+              onChange={handleDistrictChange}\r\n+              required\r\n+              style={{\r\n+                ...styles.input,\r\n+                width: \"100%\",\r\n+                padding: \"8px\",\r\n+                fontSize: \"0.9em\",\r\n+                border: \"1px solid #000000\",\r\n+                marginBottom: \"10px\",\r\n+                backgroundColor: \"white\",\r\n+              }}\r\n+            >\r\n+              <option value=\"\">Select District</option>\r\n+              {districts.map((district) => (\r\n+                <option key={district.code} value={district.code}>\r\n+                  {district.name}\r\n+                </option>\r\n+              ))}\r\n+            </select>\r\n           </div>\r\n \r\n+          <div style={styles.formGroup}>\r\n+            <label style={styles.label}>Ward *</label>\r\n+            <select\r\n+              value={selectedWard}\r\n+              onChange={handleWardChange}\r\n+              required\r\n+              style={{\r\n+                ...styles.input,\r\n+                width: \"100%\",\r\n+                padding: \"8px\",\r\n+                fontSize: \"0.9em\",\r\n+                border: \"1px solid #000000\",\r\n+                marginBottom: \"10px\",\r\n+                backgroundColor: \"white\",\r\n+              }}\r\n+            >\r\n+              <option value=\"\">Select Ward</option>\r\n+              {wards.map((ward) => (\r\n+                <option key={ward.code} value={ward.code}>\r\n+                  {ward.name}\r\n+                </option>\r\n+              ))}\r\n+            </select>\r\n+          </div>\r\n+\r\n+          <div style={styles.formGroup}>\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={handleAdditionalContactToggle}\r\n+              style={{\r\n+                ...styles.button,\r\n+                backgroundColor: \"transparent\",\r\n+                color: \"#000000\",\r\n+                border: \"none\",\r\n+                padding: \"0\",\r\n+                fontSize: \"0.9em\",\r\n+                textDecoration: \"underline\",\r\n+                cursor: \"pointer\",\r\n+                marginBottom: \"10px\",\r\n+              }}\r\n+            >\r\n+              + Add Additional Contact Information\r\n+            </button>\r\n+          </div>\r\n+\r\n           {showAdditionalContact && (\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Additional Phone (optional)</label>\r\n+              <label style={styles.label}>Additional Phone Number</label>\r\n               <input\r\n                 name=\"additionalPhone\"\r\n                 type=\"tel\"\r\n                 value={formData.additionalPhone}\r\n                 onChange={handleInputChange}\r\n-                style={styles.input}\r\n+                style={{\r\n+                  ...styles.input,\r\n+                  width: \"100%\",\r\n+                  padding: \"8px\",\r\n+                  fontSize: \"0.9em\",\r\n+                  border: \"1px solid #000000\",\r\n+                  marginBottom: \"10px\",\r\n+                }}\r\n               />\r\n             </div>\r\n           )}\r\n \r\n-          {/* Thêm các trường ẩn để lưu thông tin địa chỉ */}\r\n-          <input type=\"hidden\" name=\"ward\" value={selectedWardName} />\r\n-          <input type=\"hidden\" name=\"district\" value={selectedDistrictName} />\r\n-          <input type=\"hidden\" name=\"province\" value={selectedProvinceName} />\r\n-\r\n-          <button\r\n-            onClick={handleContinueToPayment}\r\n-            style={styles.continueButton}\r\n-            type=\"submit\"\r\n-          >\r\n-            Continue to Payment\r\n-          </button>\r\n+          <div style={styles.formGroup}>\r\n+            <button\r\n+              type=\"submit\"\r\n+              onClick={handleContinueToPayment}\r\n+              style={{\r\n+                ...styles.button,\r\n+                width: \"100%\",\r\n+                padding: \"12px\",\r\n+                fontSize: \"0.9em\",\r\n+                backgroundColor: \"#000000\",\r\n+                color: \"#ffffff\",\r\n+                border: \"none\",\r\n+                cursor: \"pointer\",\r\n+                marginTop: \"20px\",\r\n+              }}\r\n+            >\r\n+              Continue to Payment\r\n+            </button>\r\n+          </div>\r\n         </form>\r\n       </div>\r\n \r\n       {showPaymentSection && (\r\n         <div id=\"paymentSection\" style={styles.section}>\r\n           <h2 style={styles.sectionTitle}>PAYMENT METHOD</h2>\r\n           <div style={styles.paymentMethods}>\r\n-            <div\r\n+            <button\r\n+              onClick={() => handlePaymentMethodChange('cod')}\r\n               style={{\r\n-                ...styles.paymentMethod,\r\n-                borderColor: paymentMethod === \"cod\" ? \"#000\" : \"#e0e0e0\",\r\n+                ...styles.paymentButton,\r\n+                backgroundColor: paymentMethod === 'cod' ? '#000000' : '#ffffff',\r\n+                color: paymentMethod === 'cod' ? '#ffffff' : '#000000',\r\n               }}\r\n-              onClick={() => handlePaymentMethodChange(\"cod\")}\r\n             >\r\n-              <div style={styles.paymentMethodHeader}>\r\n-                <input\r\n-                  type=\"radio\"\r\n-                  name=\"paymentMethod\"\r\n-                  checked={paymentMethod === \"cod\"}\r\n-                  onChange={() => handlePaymentMethodChange(\"cod\")}\r\n-                  style={styles.radio}\r\n-                />\r\n-                <label style={styles.paymentMethodLabel}>\r\n-                  Cash on Delivery (COD)\r\n-                </label>\r\n-              </div>\r\n-            </div>\r\n-\r\n-            <div\r\n+              Cash on Delivery (COD)\r\n+            </button>\r\n+            <button\r\n+              onClick={() => handlePaymentMethodChange('bank')}\r\n               style={{\r\n-                ...styles.paymentMethod,\r\n-                borderColor: paymentMethod === \"bank\" ? \"#000\" : \"#e0e0e0\",\r\n+                ...styles.paymentButton,\r\n+                backgroundColor: paymentMethod === 'bank' ? '#000000' : '#ffffff',\r\n+                color: paymentMethod === 'bank' ? '#ffffff' : '#000000',\r\n               }}\r\n-              onClick={() => handlePaymentMethodChange(\"bank\")}\r\n             >\r\n-              <div style={styles.paymentMethodHeader}>\r\n-                <input\r\n-                  type=\"radio\"\r\n-                  name=\"paymentMethod\"\r\n-                  checked={paymentMethod === \"bank\"}\r\n-                  onChange={() => handlePaymentMethodChange(\"bank\")}\r\n-                  style={styles.radio}\r\n-                />\r\n-                <label style={styles.paymentMethodLabel}>\r\n-                  Bank Transfer\r\n-                </label>\r\n-              </div>\r\n-            </div>\r\n+              Bank Transfer\r\n+            </button>\r\n           </div>\r\n-\r\n           {renderPaymentInfo()}\r\n-\r\n-          {paymentMethod && (\r\n-            <button\r\n-              onClick={handleCompleteOrder}\r\n-              style={styles.completeOrderButton}\r\n-            >\r\n-              Complete Order\r\n-            </button>\r\n-          )}\r\n+          <button\r\n+            onClick={handleCompleteOrder}\r\n+            style={{\r\n+              ...styles.button,\r\n+              width: \"100%\",\r\n+              padding: \"12px\",\r\n+              fontSize: \"0.9em\",\r\n+              backgroundColor: \"#000000\",\r\n+              color: \"#ffffff\",\r\n+              border: \"none\",\r\n+              cursor: \"pointer\",\r\n+              marginTop: \"20px\",\r\n+            }}\r\n+          >\r\n+            Complete Order\r\n+          </button>\r\n         </div>\r\n       )}\r\n \r\n       <OrderConfirmationModal\r\n@@ -444,136 +528,78 @@\n }\r\n \r\n const styles = {\r\n   leftSection: {\r\n-    flex: 2,\r\n+    flex: 1,\r\n     backgroundColor: \"#ffffff\",\r\n-    padding: \"20px\",\r\n-    border: \"1px solid #e0e0e0\",\r\n+    padding: \"15px\",\r\n     color: \"#000000\",\r\n   },\r\n   section: {\r\n     marginBottom: \"30px\",\r\n-    color: \"#000000\",\r\n   },\r\n   sectionTitle: {\r\n     fontSize: \"1.1em\",\r\n     fontWeight: \"bold\",\r\n     marginBottom: \"15px\",\r\n     color: \"#000000\",\r\n   },\r\n   sectionText: {\r\n-    fontSize: \"0.85em\",\r\n+    fontSize: \"0.9em\",\r\n     color: \"#000000\",\r\n   },\r\n   link: {\r\n     color: \"#000000\",\r\n     textDecoration: \"underline\",\r\n-    cursor: \"pointer\",\r\n   },\r\n   form: {\r\n     display: \"flex\",\r\n     flexDirection: \"column\",\r\n     gap: \"15px\",\r\n-    color: \"#000000\",\r\n   },\r\n   formRow: {\r\n     display: \"flex\",\r\n     gap: \"15px\",\r\n-    color: \"#000000\",\r\n+    flexDirection: \"column\",\r\n+    \"@media (min-width: 768px)\": {\r\n+      flexDirection: \"row\",\r\n+    },\r\n   },\r\n   formGroup: {\r\n     flex: 1,\r\n-    color: \"#000000\",\r\n   },\r\n   label: {\r\n-    fontSize: \"0.85em\",\r\n+    display: \"block\",\r\n     marginBottom: \"5px\",\r\n-    display: \"block\",\r\n+    fontSize: \"0.9em\",\r\n     color: \"#000000\",\r\n   },\r\n   input: {\r\n     width: \"100%\",\r\n-    padding: \"10px\",\r\n-    fontSize: \"0.85em\",\r\n-    border: \"1px solid #e0e0e0\",\r\n-    borderRadius: \"4px\",\r\n-    color: \"#000000\",\r\n+    padding: \"8px\",\r\n+    fontSize: \"0.9em\",\r\n+    border: \"1px solid #000000\",\r\n+    marginBottom: \"10px\",\r\n   },\r\n-  checkboxGroup: {\r\n-    display: \"flex\",\r\n-    alignItems: \"center\",\r\n-    gap: \"10px\",\r\n-    color: \"#000000\",\r\n+  button: {\r\n+    padding: \"10px 20px\",\r\n+    fontSize: \"0.9em\",\r\n+    backgroundColor: \"#000000\",\r\n+    color: \"#ffffff\",\r\n+    border: \"none\",\r\n+    cursor: \"pointer\",\r\n   },\r\n-  checkbox: {\r\n-    width: \"20px\",\r\n-    height: \"20px\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  checkboxLabel: {\r\n-    fontSize: \"0.85em\",\r\n-    color: \"#000000\",\r\n-  },\r\n   paymentMethods: {\r\n     display: \"flex\",\r\n     flexDirection: \"column\",\r\n-    gap: \"15px\",\r\n-    marginTop: \"20px\",\r\n-  },\r\n-  paymentMethod: {\r\n-    border: \"1px solid #e0e0e0\",\r\n-    borderRadius: \"4px\",\r\n-    padding: \"15px\",\r\n-    cursor: \"pointer\",\r\n-    transition: \"all 0.3s ease\",\r\n-  },\r\n-  paymentMethodHeader: {\r\n-    display: \"flex\",\r\n-    alignItems: \"center\",\r\n     gap: \"10px\",\r\n+    marginBottom: \"20px\",\r\n   },\r\n-  paymentMethodLabel: {\r\n-    fontSize: \"14px\",\r\n-    fontWeight: \"500\",\r\n-  },\r\n-  paymentMethodContent: {\r\n-    marginTop: \"15px\",\r\n-    paddingTop: \"15px\",\r\n-    borderTop: \"1px solid #e0e0e0\",\r\n-    fontSize: \"13px\",\r\n-    color: \"#666\",\r\n-  },\r\n-  radio: {\r\n-    width: \"18px\",\r\n-    height: \"18px\",\r\n+  paymentButton: {\r\n+    padding: \"12px\",\r\n+    fontSize: \"0.9em\",\r\n+    border: \"1px solid #000000\",\r\n     cursor: \"pointer\",\r\n-  },\r\n-  bankInfo: {\r\n-    fontWeight: \"500\",\r\n-    marginBottom: \"10px\",\r\n-  },\r\n-  completeOrderButton: {\r\n     width: \"100%\",\r\n-    padding: \"15px\",\r\n-    backgroundColor: \"#000\",\r\n-    color: \"#fff\",\r\n-    border: \"none\",\r\n-    cursor: \"pointer\",\r\n-    fontSize: \"14px\",\r\n-    fontWeight: \"500\",\r\n-    marginTop: \"20px\",\r\n-    transition: \"background-color 0.3s ease\",\r\n+    textAlign: \"left\",\r\n   },\r\n-  continueButton: {\r\n-    width: \"100%\",\r\n-    padding: \"15px\",\r\n-    backgroundColor: \"#000\",\r\n-    color: \"#fff\",\r\n-    border: \"none\",\r\n-    cursor: \"pointer\",\r\n-    fontSize: \"14px\",\r\n-    fontWeight: \"500\",\r\n-    marginTop: \"20px\",\r\n-    transition: \"background-color 0.3s ease\",\r\n-  },\r\n };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747389140083,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,274 +248,190 @@\n               <label style={styles.label}>First Name *</label>\r\n               <input\r\n                 name=\"firstName\"\r\n                 type=\"text\"\r\n-                required\r\n                 value={formData.firstName}\r\n                 onChange={handleInputChange}\r\n-                style={{\r\n-                  ...styles.input,\r\n-                  width: \"100%\",\r\n-                  padding: \"8px\",\r\n-                  fontSize: \"0.9em\",\r\n-                  border: \"1px solid #000000\",\r\n-                  marginBottom: \"10px\",\r\n-                }}\r\n+                style={{ ...styles.input, borderColor: errors.firstName ? \"red\" : \"#e0e0e0\" }}\r\n+                required\r\n               />\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n               <label style={styles.label}>Last Name *</label>\r\n               <input\r\n                 name=\"lastName\"\r\n                 type=\"text\"\r\n-                required\r\n                 value={formData.lastName}\r\n                 onChange={handleInputChange}\r\n-                style={{\r\n-                  ...styles.input,\r\n-                  width: \"100%\",\r\n-                  padding: \"8px\",\r\n-                  fontSize: \"0.9em\",\r\n-                  border: \"1px solid #000000\",\r\n-                  marginBottom: \"10px\",\r\n-                }}\r\n+                style={{ ...styles.input, borderColor: errors.lastName ? \"red\" : \"#e0e0e0\" }}\r\n+                required\r\n               />\r\n             </div>\r\n           </div>\r\n \r\n           <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Phone Number *</label>\r\n+            <label style={styles.label}>Apartment, building, etc. (optional)</label>\r\n             <input\r\n-              name=\"phone\"\r\n-              type=\"tel\"\r\n-              required\r\n-              value={formData.phone}\r\n-              onChange={handleInputChange}\r\n-              style={{\r\n-                ...styles.input,\r\n-                width: \"100%\",\r\n-                padding: \"8px\",\r\n-                fontSize: \"0.9em\",\r\n-                border: \"1px solid #000000\",\r\n-                marginBottom: \"10px\",\r\n-              }}\r\n-            />\r\n-          </div>\r\n-\r\n-          <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Address *</label>\r\n-            <input\r\n-              name=\"address\"\r\n-              type=\"text\"\r\n-              required\r\n-              style={{\r\n-                ...styles.input,\r\n-                width: \"100%\",\r\n-                padding: \"8px\",\r\n-                fontSize: \"0.9em\",\r\n-                border: \"1px solid #000000\",\r\n-                marginBottom: \"10px\",\r\n-              }}\r\n-            />\r\n-          </div>\r\n-\r\n-          <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Apartment, suite, etc.</label>\r\n-            <input\r\n               name=\"apartment\"\r\n               type=\"text\"\r\n               value={formData.apartment}\r\n               onChange={handleInputChange}\r\n-              style={{\r\n-                ...styles.input,\r\n-                width: \"100%\",\r\n-                padding: \"8px\",\r\n-                fontSize: \"0.9em\",\r\n-                border: \"1px solid #000000\",\r\n-                marginBottom: \"10px\",\r\n-              }}\r\n+              style={styles.input}\r\n             />\r\n           </div>\r\n \r\n-          <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Province/City *</label>\r\n-            <select\r\n-              value={selectedProvince}\r\n-              onChange={handleProvinceChange}\r\n-              required\r\n-              style={{\r\n-                ...styles.input,\r\n-                width: \"100%\",\r\n-                padding: \"8px\",\r\n-                fontSize: \"0.9em\",\r\n-                border: \"1px solid #000000\",\r\n-                marginBottom: \"10px\",\r\n-                backgroundColor: \"white\",\r\n-              }}\r\n-            >\r\n-              <option value=\"\">Select Province/City</option>\r\n-              {provinces.map((province) => (\r\n-                <option key={province.code} value={province.code}>\r\n-                  {province.name}\r\n-                </option>\r\n-              ))}\r\n-            </select>\r\n+          <div style={styles.formRow}>\r\n+            <div style={styles.formGroup}>\r\n+              <label style={styles.label}>Province/City *</label>\r\n+              <select\r\n+                value={selectedProvince}\r\n+                onChange={handleProvinceChange}\r\n+                style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n+                required\r\n+              >\r\n+                <option value=\"\">Chọn Tỉnh/Thành phố</option>\r\n+                {provinces.map((province) => (\r\n+                  <option key={province.code} value={province.code}>\r\n+                    {province.name}\r\n+                  </option>\r\n+                ))}\r\n+              </select>\r\n+            </div>\r\n+            <div style={styles.formGroup}>\r\n+              <label style={styles.label}>District/County *</label>\r\n+              <select\r\n+                value={selectedDistrict}\r\n+                onChange={handleDistrictChange}\r\n+                style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n+                required\r\n+                disabled={!selectedProvince}\r\n+              >\r\n+                <option value=\"\">Chọn Quận/Huyện</option>\r\n+                {districts.map((district) => (\r\n+                  <option key={district.code} value={district.code}>\r\n+                    {district.name}\r\n+                  </option>\r\n+                ))}\r\n+              </select>\r\n+            </div>\r\n           </div>\r\n \r\n-          <div style={styles.formGroup}>\r\n-            <label style={styles.label}>District *</label>\r\n-            <select\r\n-              value={selectedDistrict}\r\n-              onChange={handleDistrictChange}\r\n-              required\r\n-              style={{\r\n-                ...styles.input,\r\n-                width: \"100%\",\r\n-                padding: \"8px\",\r\n-                fontSize: \"0.9em\",\r\n-                border: \"1px solid #000000\",\r\n-                marginBottom: \"10px\",\r\n-                backgroundColor: \"white\",\r\n-              }}\r\n-            >\r\n-              <option value=\"\">Select District</option>\r\n-              {districts.map((district) => (\r\n-                <option key={district.code} value={district.code}>\r\n-                  {district.name}\r\n-                </option>\r\n-              ))}\r\n-            </select>\r\n+          <div style={styles.formRow}>\r\n+            <div style={styles.formGroup}>\r\n+              <label style={styles.label}>Ward/Commune *</label>\r\n+              <select\r\n+                value={selectedWard}\r\n+                onChange={handleWardChange}\r\n+                style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n+                required\r\n+                disabled={!selectedDistrict}\r\n+              >\r\n+                <option value=\"\">Chọn Phường/Xã</option>\r\n+                {wards.map((ward) => (\r\n+                  <option key={ward.code} value={ward.code}>\r\n+                    {ward.name}\r\n+                  </option>\r\n+                ))}\r\n+              </select>\r\n+            </div>\r\n+            <div style={styles.formGroup}>\r\n+              <label style={styles.label}>Phone *</label>\r\n+              <input\r\n+                name=\"phone\"\r\n+                type=\"tel\"\r\n+                value={formData.phone}\r\n+                onChange={handleInputChange}\r\n+                style={{ ...styles.input, borderColor: errors.phone ? \"red\" : \"#e0e0e0\" }}\r\n+                required\r\n+              />\r\n+            </div>\r\n           </div>\r\n \r\n-          <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Ward *</label>\r\n-            <select\r\n-              value={selectedWard}\r\n-              onChange={handleWardChange}\r\n-              required\r\n-              style={{\r\n-                ...styles.input,\r\n-                width: \"100%\",\r\n-                padding: \"8px\",\r\n-                fontSize: \"0.9em\",\r\n-                border: \"1px solid #000000\",\r\n-                marginBottom: \"10px\",\r\n-                backgroundColor: \"white\",\r\n-              }}\r\n-            >\r\n-              <option value=\"\">Select Ward</option>\r\n-              {wards.map((ward) => (\r\n-                <option key={ward.code} value={ward.code}>\r\n-                  {ward.name}\r\n-                </option>\r\n-              ))}\r\n-            </select>\r\n-          </div>\r\n-\r\n-          <div style={styles.formGroup}>\r\n-            <button\r\n-              type=\"button\"\r\n-              onClick={handleAdditionalContactToggle}\r\n-              style={{\r\n-                ...styles.button,\r\n-                backgroundColor: \"transparent\",\r\n-                color: \"#000000\",\r\n-                border: \"none\",\r\n-                padding: \"0\",\r\n-                fontSize: \"0.9em\",\r\n-                textDecoration: \"underline\",\r\n-                cursor: \"pointer\",\r\n-                marginBottom: \"10px\",\r\n-              }}\r\n-            >\r\n-              + Add Additional Contact Information\r\n-            </button>\r\n-          </div>\r\n-\r\n           {showAdditionalContact && (\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Additional Phone Number</label>\r\n+              <label style={styles.label}>Additional Phone (optional)</label>\r\n               <input\r\n                 name=\"additionalPhone\"\r\n                 type=\"tel\"\r\n                 value={formData.additionalPhone}\r\n                 onChange={handleInputChange}\r\n-                style={{\r\n-                  ...styles.input,\r\n-                  width: \"100%\",\r\n-                  padding: \"8px\",\r\n-                  fontSize: \"0.9em\",\r\n-                  border: \"1px solid #000000\",\r\n-                  marginBottom: \"10px\",\r\n-                }}\r\n+                style={styles.input}\r\n               />\r\n             </div>\r\n           )}\r\n \r\n-          <div style={styles.formGroup}>\r\n-            <button\r\n-              type=\"submit\"\r\n-              onClick={handleContinueToPayment}\r\n-              style={{\r\n-                ...styles.button,\r\n-                width: \"100%\",\r\n-                padding: \"12px\",\r\n-                fontSize: \"0.9em\",\r\n-                backgroundColor: \"#000000\",\r\n-                color: \"#ffffff\",\r\n-                border: \"none\",\r\n-                cursor: \"pointer\",\r\n-                marginTop: \"20px\",\r\n-              }}\r\n-            >\r\n-              Continue to Payment\r\n-            </button>\r\n-          </div>\r\n+          {/* Thêm các trường ẩn để lưu thông tin địa chỉ */}\r\n+          <input type=\"hidden\" name=\"ward\" value={selectedWardName} />\r\n+          <input type=\"hidden\" name=\"district\" value={selectedDistrictName} />\r\n+          <input type=\"hidden\" name=\"province\" value={selectedProvinceName} />\r\n+\r\n+          <button\r\n+            onClick={handleContinueToPayment}\r\n+            style={styles.continueButton}\r\n+            type=\"submit\"\r\n+          >\r\n+            Continue to Payment\r\n+          </button>\r\n         </form>\r\n       </div>\r\n \r\n       {showPaymentSection && (\r\n         <div id=\"paymentSection\" style={styles.section}>\r\n           <h2 style={styles.sectionTitle}>PAYMENT METHOD</h2>\r\n           <div style={styles.paymentMethods}>\r\n-            <button\r\n-              onClick={() => handlePaymentMethodChange('cod')}\r\n+            <div\r\n               style={{\r\n-                ...styles.paymentButton,\r\n-                backgroundColor: paymentMethod === 'cod' ? '#000000' : '#ffffff',\r\n-                color: paymentMethod === 'cod' ? '#ffffff' : '#000000',\r\n+                ...styles.paymentMethod,\r\n+                borderColor: paymentMethod === \"cod\" ? \"#000\" : \"#e0e0e0\",\r\n               }}\r\n+              onClick={() => handlePaymentMethodChange(\"cod\")}\r\n             >\r\n-              Cash on Delivery (COD)\r\n-            </button>\r\n-            <button\r\n-              onClick={() => handlePaymentMethodChange('bank')}\r\n+              <div style={styles.paymentMethodHeader}>\r\n+                <input\r\n+                  type=\"radio\"\r\n+                  name=\"paymentMethod\"\r\n+                  checked={paymentMethod === \"cod\"}\r\n+                  onChange={() => handlePaymentMethodChange(\"cod\")}\r\n+                  style={styles.radio}\r\n+                />\r\n+                <label style={styles.paymentMethodLabel}>\r\n+                  Cash on Delivery (COD)\r\n+                </label>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div\r\n               style={{\r\n-                ...styles.paymentButton,\r\n-                backgroundColor: paymentMethod === 'bank' ? '#000000' : '#ffffff',\r\n-                color: paymentMethod === 'bank' ? '#ffffff' : '#000000',\r\n+                ...styles.paymentMethod,\r\n+                borderColor: paymentMethod === \"bank\" ? \"#000\" : \"#e0e0e0\",\r\n               }}\r\n+              onClick={() => handlePaymentMethodChange(\"bank\")}\r\n             >\r\n-              Bank Transfer\r\n-            </button>\r\n+              <div style={styles.paymentMethodHeader}>\r\n+                <input\r\n+                  type=\"radio\"\r\n+                  name=\"paymentMethod\"\r\n+                  checked={paymentMethod === \"bank\"}\r\n+                  onChange={() => handlePaymentMethodChange(\"bank\")}\r\n+                  style={styles.radio}\r\n+                />\r\n+                <label style={styles.paymentMethodLabel}>\r\n+                  Bank Transfer\r\n+                </label>\r\n+              </div>\r\n+            </div>\r\n           </div>\r\n+\r\n           {renderPaymentInfo()}\r\n-          <button\r\n-            onClick={handleCompleteOrder}\r\n-            style={{\r\n-              ...styles.button,\r\n-              width: \"100%\",\r\n-              padding: \"12px\",\r\n-              fontSize: \"0.9em\",\r\n-              backgroundColor: \"#000000\",\r\n-              color: \"#ffffff\",\r\n-              border: \"none\",\r\n-              cursor: \"pointer\",\r\n-              marginTop: \"20px\",\r\n-            }}\r\n-          >\r\n-            Complete Order\r\n-          </button>\r\n+\r\n+          {paymentMethod && (\r\n+            <button\r\n+              onClick={handleCompleteOrder}\r\n+              style={styles.completeOrderButton}\r\n+            >\r\n+              Complete Order\r\n+            </button>\r\n+          )}\r\n         </div>\r\n       )}\r\n \r\n       <OrderConfirmationModal\r\n@@ -528,78 +444,136 @@\n }\r\n \r\n const styles = {\r\n   leftSection: {\r\n-    flex: 1,\r\n+    flex: 2,\r\n     backgroundColor: \"#ffffff\",\r\n-    padding: \"15px\",\r\n+    padding: \"20px\",\r\n+    border: \"1px solid #e0e0e0\",\r\n     color: \"#000000\",\r\n   },\r\n   section: {\r\n     marginBottom: \"30px\",\r\n+    color: \"#000000\",\r\n   },\r\n   sectionTitle: {\r\n     fontSize: \"1.1em\",\r\n     fontWeight: \"bold\",\r\n     marginBottom: \"15px\",\r\n     color: \"#000000\",\r\n   },\r\n   sectionText: {\r\n-    fontSize: \"0.9em\",\r\n+    fontSize: \"0.85em\",\r\n     color: \"#000000\",\r\n   },\r\n   link: {\r\n     color: \"#000000\",\r\n     textDecoration: \"underline\",\r\n+    cursor: \"pointer\",\r\n   },\r\n   form: {\r\n     display: \"flex\",\r\n     flexDirection: \"column\",\r\n     gap: \"15px\",\r\n+    color: \"#000000\",\r\n   },\r\n   formRow: {\r\n     display: \"flex\",\r\n     gap: \"15px\",\r\n-    flexDirection: \"column\",\r\n-    \"@media (min-width: 768px)\": {\r\n-      flexDirection: \"row\",\r\n-    },\r\n+    color: \"#000000\",\r\n   },\r\n   formGroup: {\r\n     flex: 1,\r\n+    color: \"#000000\",\r\n   },\r\n   label: {\r\n+    fontSize: \"0.85em\",\r\n+    marginBottom: \"5px\",\r\n     display: \"block\",\r\n-    marginBottom: \"5px\",\r\n-    fontSize: \"0.9em\",\r\n     color: \"#000000\",\r\n   },\r\n   input: {\r\n     width: \"100%\",\r\n-    padding: \"8px\",\r\n-    fontSize: \"0.9em\",\r\n-    border: \"1px solid #000000\",\r\n-    marginBottom: \"10px\",\r\n+    padding: \"10px\",\r\n+    fontSize: \"0.85em\",\r\n+    border: \"1px solid #e0e0e0\",\r\n+    borderRadius: \"4px\",\r\n+    color: \"#000000\",\r\n   },\r\n-  button: {\r\n-    padding: \"10px 20px\",\r\n-    fontSize: \"0.9em\",\r\n-    backgroundColor: \"#000000\",\r\n-    color: \"#ffffff\",\r\n-    border: \"none\",\r\n-    cursor: \"pointer\",\r\n+  checkboxGroup: {\r\n+    display: \"flex\",\r\n+    alignItems: \"center\",\r\n+    gap: \"10px\",\r\n+    color: \"#000000\",\r\n   },\r\n+  checkbox: {\r\n+    width: \"20px\",\r\n+    height: \"20px\",\r\n+    color: \"#000000\",\r\n+  },\r\n+  checkboxLabel: {\r\n+    fontSize: \"0.85em\",\r\n+    color: \"#000000\",\r\n+  },\r\n   paymentMethods: {\r\n     display: \"flex\",\r\n     flexDirection: \"column\",\r\n+    gap: \"15px\",\r\n+    marginTop: \"20px\",\r\n+  },\r\n+  paymentMethod: {\r\n+    border: \"1px solid #e0e0e0\",\r\n+    borderRadius: \"4px\",\r\n+    padding: \"15px\",\r\n+    cursor: \"pointer\",\r\n+    transition: \"all 0.3s ease\",\r\n+  },\r\n+  paymentMethodHeader: {\r\n+    display: \"flex\",\r\n+    alignItems: \"center\",\r\n     gap: \"10px\",\r\n-    marginBottom: \"20px\",\r\n   },\r\n-  paymentButton: {\r\n-    padding: \"12px\",\r\n-    fontSize: \"0.9em\",\r\n-    border: \"1px solid #000000\",\r\n+  paymentMethodLabel: {\r\n+    fontSize: \"14px\",\r\n+    fontWeight: \"500\",\r\n+  },\r\n+  paymentMethodContent: {\r\n+    marginTop: \"15px\",\r\n+    paddingTop: \"15px\",\r\n+    borderTop: \"1px solid #e0e0e0\",\r\n+    fontSize: \"13px\",\r\n+    color: \"#666\",\r\n+  },\r\n+  radio: {\r\n+    width: \"18px\",\r\n+    height: \"18px\",\r\n     cursor: \"pointer\",\r\n+  },\r\n+  bankInfo: {\r\n+    fontWeight: \"500\",\r\n+    marginBottom: \"10px\",\r\n+  },\r\n+  completeOrderButton: {\r\n     width: \"100%\",\r\n-    textAlign: \"left\",\r\n+    padding: \"15px\",\r\n+    backgroundColor: \"#000\",\r\n+    color: \"#fff\",\r\n+    border: \"none\",\r\n+    cursor: \"pointer\",\r\n+    fontSize: \"14px\",\r\n+    fontWeight: \"500\",\r\n+    marginTop: \"20px\",\r\n+    transition: \"background-color 0.3s ease\",\r\n   },\r\n+  continueButton: {\r\n+    width: \"100%\",\r\n+    padding: \"15px\",\r\n+    backgroundColor: \"#000\",\r\n+    color: \"#fff\",\r\n+    border: \"none\",\r\n+    cursor: \"pointer\",\r\n+    fontSize: \"14px\",\r\n+    fontWeight: \"500\",\r\n+    marginTop: \"20px\",\r\n+    transition: \"background-color 0.3s ease\",\r\n+  },\r\n };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747389209845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -449,8 +449,11 @@\n     backgroundColor: \"#ffffff\",\r\n     padding: \"20px\",\r\n     border: \"1px solid #e0e0e0\",\r\n     color: \"#000000\",\r\n+    \"@media (max-width: 768px)\": {\r\n+      padding: \"15px\",\r\n+    }\r\n   },\r\n   section: {\r\n     marginBottom: \"30px\",\r\n     color: \"#000000\",\r\n@@ -459,8 +462,12 @@\n     fontSize: \"1.1em\",\r\n     fontWeight: \"bold\",\r\n     marginBottom: \"15px\",\r\n     color: \"#000000\",\r\n+    \"@media (max-width: 768px)\": {\r\n+      fontSize: \"1em\",\r\n+      marginBottom: \"10px\",\r\n+    }\r\n   },\r\n   sectionText: {\r\n     fontSize: \"0.85em\",\r\n     color: \"#000000\",\r\n@@ -479,8 +486,12 @@\n   formRow: {\r\n     display: \"flex\",\r\n     gap: \"15px\",\r\n     color: \"#000000\",\r\n+    \"@media (max-width: 768px)\": {\r\n+      flexDirection: \"column\",\r\n+      gap: \"10px\",\r\n+    }\r\n   },\r\n   formGroup: {\r\n     flex: 1,\r\n     color: \"#000000\",\r\n@@ -489,16 +500,23 @@\n     fontSize: \"0.85em\",\r\n     marginBottom: \"5px\",\r\n     display: \"block\",\r\n     color: \"#000000\",\r\n+    \"@media (max-width: 768px)\": {\r\n+      fontSize: \"0.8em\",\r\n+    }\r\n   },\r\n   input: {\r\n     width: \"100%\",\r\n     padding: \"10px\",\r\n     fontSize: \"0.85em\",\r\n     border: \"1px solid #e0e0e0\",\r\n     borderRadius: \"4px\",\r\n     color: \"#000000\",\r\n+    \"@media (max-width: 768px)\": {\r\n+      padding: \"8px\",\r\n+      fontSize: \"0.8em\",\r\n+    }\r\n   },\r\n   checkboxGroup: {\r\n     display: \"flex\",\r\n     alignItems: \"center\",\r\n@@ -518,15 +536,22 @@\n     display: \"flex\",\r\n     flexDirection: \"column\",\r\n     gap: \"15px\",\r\n     marginTop: \"20px\",\r\n+    \"@media (max-width: 768px)\": {\r\n+      gap: \"10px\",\r\n+      marginTop: \"15px\",\r\n+    }\r\n   },\r\n   paymentMethod: {\r\n     border: \"1px solid #e0e0e0\",\r\n     borderRadius: \"4px\",\r\n     padding: \"15px\",\r\n     cursor: \"pointer\",\r\n     transition: \"all 0.3s ease\",\r\n+    \"@media (max-width: 768px)\": {\r\n+      padding: \"12px\",\r\n+    }\r\n   },\r\n   paymentMethodHeader: {\r\n     display: \"flex\",\r\n     alignItems: \"center\",\r\n@@ -534,8 +559,11 @@\n   },\r\n   paymentMethodLabel: {\r\n     fontSize: \"14px\",\r\n     fontWeight: \"500\",\r\n+    \"@media (max-width: 768px)\": {\r\n+      fontSize: \"13px\",\r\n+    }\r\n   },\r\n   paymentMethodContent: {\r\n     marginTop: \"15px\",\r\n     paddingTop: \"15px\",\r\n@@ -562,8 +590,13 @@\n     fontSize: \"14px\",\r\n     fontWeight: \"500\",\r\n     marginTop: \"20px\",\r\n     transition: \"background-color 0.3s ease\",\r\n+    \"@media (max-width: 768px)\": {\r\n+      padding: \"12px\",\r\n+      fontSize: \"13px\",\r\n+      marginTop: \"15px\",\r\n+    }\r\n   },\r\n   continueButton: {\r\n     width: \"100%\",\r\n     padding: \"15px\",\r\n@@ -574,6 +607,11 @@\n     fontSize: \"14px\",\r\n     fontWeight: \"500\",\r\n     marginTop: \"20px\",\r\n     transition: \"background-color 0.3s ease\",\r\n+    \"@media (max-width: 768px)\": {\r\n+      padding: \"12px\",\r\n+      fontSize: \"13px\",\r\n+      marginTop: \"15px\",\r\n+    }\r\n   },\r\n };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747389296694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -449,11 +449,8 @@\n     backgroundColor: \"#ffffff\",\r\n     padding: \"20px\",\r\n     border: \"1px solid #e0e0e0\",\r\n     color: \"#000000\",\r\n-    \"@media (max-width: 768px)\": {\r\n-      padding: \"15px\",\r\n-    }\r\n   },\r\n   section: {\r\n     marginBottom: \"30px\",\r\n     color: \"#000000\",\r\n@@ -462,12 +459,8 @@\n     fontSize: \"1.1em\",\r\n     fontWeight: \"bold\",\r\n     marginBottom: \"15px\",\r\n     color: \"#000000\",\r\n-    \"@media (max-width: 768px)\": {\r\n-      fontSize: \"1em\",\r\n-      marginBottom: \"10px\",\r\n-    }\r\n   },\r\n   sectionText: {\r\n     fontSize: \"0.85em\",\r\n     color: \"#000000\",\r\n@@ -486,12 +479,8 @@\n   formRow: {\r\n     display: \"flex\",\r\n     gap: \"15px\",\r\n     color: \"#000000\",\r\n-    \"@media (max-width: 768px)\": {\r\n-      flexDirection: \"column\",\r\n-      gap: \"10px\",\r\n-    }\r\n   },\r\n   formGroup: {\r\n     flex: 1,\r\n     color: \"#000000\",\r\n@@ -500,23 +489,16 @@\n     fontSize: \"0.85em\",\r\n     marginBottom: \"5px\",\r\n     display: \"block\",\r\n     color: \"#000000\",\r\n-    \"@media (max-width: 768px)\": {\r\n-      fontSize: \"0.8em\",\r\n-    }\r\n   },\r\n   input: {\r\n     width: \"100%\",\r\n     padding: \"10px\",\r\n     fontSize: \"0.85em\",\r\n     border: \"1px solid #e0e0e0\",\r\n     borderRadius: \"4px\",\r\n     color: \"#000000\",\r\n-    \"@media (max-width: 768px)\": {\r\n-      padding: \"8px\",\r\n-      fontSize: \"0.8em\",\r\n-    }\r\n   },\r\n   checkboxGroup: {\r\n     display: \"flex\",\r\n     alignItems: \"center\",\r\n@@ -536,22 +518,15 @@\n     display: \"flex\",\r\n     flexDirection: \"column\",\r\n     gap: \"15px\",\r\n     marginTop: \"20px\",\r\n-    \"@media (max-width: 768px)\": {\r\n-      gap: \"10px\",\r\n-      marginTop: \"15px\",\r\n-    }\r\n   },\r\n   paymentMethod: {\r\n     border: \"1px solid #e0e0e0\",\r\n     borderRadius: \"4px\",\r\n     padding: \"15px\",\r\n     cursor: \"pointer\",\r\n     transition: \"all 0.3s ease\",\r\n-    \"@media (max-width: 768px)\": {\r\n-      padding: \"12px\",\r\n-    }\r\n   },\r\n   paymentMethodHeader: {\r\n     display: \"flex\",\r\n     alignItems: \"center\",\r\n@@ -559,11 +534,8 @@\n   },\r\n   paymentMethodLabel: {\r\n     fontSize: \"14px\",\r\n     fontWeight: \"500\",\r\n-    \"@media (max-width: 768px)\": {\r\n-      fontSize: \"13px\",\r\n-    }\r\n   },\r\n   paymentMethodContent: {\r\n     marginTop: \"15px\",\r\n     paddingTop: \"15px\",\r\n@@ -590,13 +562,8 @@\n     fontSize: \"14px\",\r\n     fontWeight: \"500\",\r\n     marginTop: \"20px\",\r\n     transition: \"background-color 0.3s ease\",\r\n-    \"@media (max-width: 768px)\": {\r\n-      padding: \"12px\",\r\n-      fontSize: \"13px\",\r\n-      marginTop: \"15px\",\r\n-    }\r\n   },\r\n   continueButton: {\r\n     width: \"100%\",\r\n     padding: \"15px\",\r\n@@ -607,11 +574,6 @@\n     fontSize: \"14px\",\r\n     fontWeight: \"500\",\r\n     marginTop: \"20px\",\r\n     transition: \"background-color 0.3s ease\",\r\n-    \"@media (max-width: 768px)\": {\r\n-      padding: \"12px\",\r\n-      fontSize: \"13px\",\r\n-      marginTop: \"15px\",\r\n-    }\r\n   },\r\n };\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747389445343,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -227,13 +227,29 @@\n \r\n   return (\r\n     <div style={styles.leftSection}>\r\n       <div style={styles.section}>\r\n-        <h2 style={styles.sectionTitle}>CONTACT INFORMATION</h2>\r\n-        <p style={styles.sectionText}>\r\n+        <h2 style={{\r\n+          ...styles.sectionTitle,\r\n+          \"@media (max-width: 768px)\": {\r\n+            fontSize: \"0.9em\",\r\n+            marginBottom: \"10px\"\r\n+          }\r\n+        }}>CONTACT INFORMATION</h2>\r\n+        <p style={{\r\n+          ...styles.sectionText,\r\n+          \"@media (max-width: 768px)\": {\r\n+            fontSize: \"0.8em\"\r\n+          }\r\n+        }}>\r\n           {userEmail ? (\r\n             <>\r\n-              {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n+              {userEmail} (<Link href=\"/logout\" style={{\r\n+                ...styles.link,\r\n+                \"@media (max-width: 768px)\": {\r\n+                  fontSize: \"0.8em\"\r\n+                }\r\n+              }}>Đăng xuất</Link>)\r\n             </>\r\n           ) : (\r\n             \"Bạn chưa đăng nhập\"\r\n           )}\r\n"
                },
                {
                    "date": 1747389472140,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -227,29 +227,13 @@\n \r\n   return (\r\n     <div style={styles.leftSection}>\r\n       <div style={styles.section}>\r\n-        <h2 style={{\r\n-          ...styles.sectionTitle,\r\n-          \"@media (max-width: 768px)\": {\r\n-            fontSize: \"0.9em\",\r\n-            marginBottom: \"10px\"\r\n-          }\r\n-        }}>CONTACT INFORMATION</h2>\r\n-        <p style={{\r\n-          ...styles.sectionText,\r\n-          \"@media (max-width: 768px)\": {\r\n-            fontSize: \"0.8em\"\r\n-          }\r\n-        }}>\r\n+        <h2 style={styles.sectionTitle}>CONTACT INFORMATION</h2>\r\n+        <p style={styles.sectionText}>\r\n           {userEmail ? (\r\n             <>\r\n-              {userEmail} (<Link href=\"/logout\" style={{\r\n-                ...styles.link,\r\n-                \"@media (max-width: 768px)\": {\r\n-                  fontSize: \"0.8em\"\r\n-                }\r\n-              }}>Đăng xuất</Link>)\r\n+              {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n             </>\r\n           ) : (\r\n             \"Bạn chưa đăng nhập\"\r\n           )}\r\n"
                },
                {
                    "date": 1747390557859,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -284,14 +284,19 @@\n               <label style={styles.label}>Province/City *</label>\r\n               <select\r\n                 value={selectedProvince}\r\n                 onChange={handleProvinceChange}\r\n-                style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n+                style={{\r\n+                  ...styles.input,\r\n+                  borderColor: errors.province ? \"red\" : \"#e0e0e0\",\r\n+                  fontSize: \"0.85em\",\r\n+                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+                }}\r\n                 required\r\n               >\r\n-                <option value=\"\">Chọn Tỉnh/Thành phố</option>\r\n+                <option value=\"\" style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>Chọn Tỉnh/Thành phố</option>\r\n                 {provinces.map((province) => (\r\n-                  <option key={province.code} value={province.code}>\r\n+                  <option key={province.code} value={province.code} style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>\r\n                     {province.name}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n@@ -300,15 +305,20 @@\n               <label style={styles.label}>District/County *</label>\r\n               <select\r\n                 value={selectedDistrict}\r\n                 onChange={handleDistrictChange}\r\n-                style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n+                style={{\r\n+                  ...styles.input,\r\n+                  borderColor: errors.district ? \"red\" : \"#e0e0e0\",\r\n+                  fontSize: \"0.85em\",\r\n+                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+                }}\r\n                 required\r\n                 disabled={!selectedProvince}\r\n               >\r\n-                <option value=\"\">Chọn Quận/Huyện</option>\r\n+                <option value=\"\" style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>Chọn Quận/Huyện</option>\r\n                 {districts.map((district) => (\r\n-                  <option key={district.code} value={district.code}>\r\n+                  <option key={district.code} value={district.code} style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>\r\n                     {district.name}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n@@ -320,15 +330,20 @@\n               <label style={styles.label}>Ward/Commune *</label>\r\n               <select\r\n                 value={selectedWard}\r\n                 onChange={handleWardChange}\r\n-                style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n+                style={{\r\n+                  ...styles.input,\r\n+                  borderColor: errors.ward ? \"red\" : \"#e0e0e0\",\r\n+                  fontSize: \"0.85em\",\r\n+                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+                }}\r\n                 required\r\n                 disabled={!selectedDistrict}\r\n               >\r\n-                <option value=\"\">Chọn Phường/Xã</option>\r\n+                <option value=\"\" style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>Chọn Phường/Xã</option>\r\n                 {wards.map((ward) => (\r\n-                  <option key={ward.code} value={ward.code}>\r\n+                  <option key={ward.code} value={ward.code} style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>\r\n                     {ward.name}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n"
                },
                {
                    "date": 1747390598870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -284,19 +284,14 @@\n               <label style={styles.label}>Province/City *</label>\r\n               <select\r\n                 value={selectedProvince}\r\n                 onChange={handleProvinceChange}\r\n-                style={{\r\n-                  ...styles.input,\r\n-                  borderColor: errors.province ? \"red\" : \"#e0e0e0\",\r\n-                  fontSize: \"0.85em\",\r\n-                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n-                }}\r\n+                style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n                 required\r\n               >\r\n-                <option value=\"\" style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>Chọn Tỉnh/Thành phố</option>\r\n+                <option value=\"\">Chọn Tỉnh/Thành phố</option>\r\n                 {provinces.map((province) => (\r\n-                  <option key={province.code} value={province.code} style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>\r\n+                  <option key={province.code} value={province.code}>\r\n                     {province.name}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n@@ -305,20 +300,15 @@\n               <label style={styles.label}>District/County *</label>\r\n               <select\r\n                 value={selectedDistrict}\r\n                 onChange={handleDistrictChange}\r\n-                style={{\r\n-                  ...styles.input,\r\n-                  borderColor: errors.district ? \"red\" : \"#e0e0e0\",\r\n-                  fontSize: \"0.85em\",\r\n-                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n-                }}\r\n+                style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n                 required\r\n                 disabled={!selectedProvince}\r\n               >\r\n-                <option value=\"\" style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>Chọn Quận/Huyện</option>\r\n+                <option value=\"\">Chọn Quận/Huyện</option>\r\n                 {districts.map((district) => (\r\n-                  <option key={district.code} value={district.code} style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>\r\n+                  <option key={district.code} value={district.code}>\r\n                     {district.name}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n@@ -330,20 +320,15 @@\n               <label style={styles.label}>Ward/Commune *</label>\r\n               <select\r\n                 value={selectedWard}\r\n                 onChange={handleWardChange}\r\n-                style={{\r\n-                  ...styles.input,\r\n-                  borderColor: errors.ward ? \"red\" : \"#e0e0e0\",\r\n-                  fontSize: \"0.85em\",\r\n-                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n-                }}\r\n+                style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n                 required\r\n                 disabled={!selectedDistrict}\r\n               >\r\n-                <option value=\"\" style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>Chọn Phường/Xã</option>\r\n+                <option value=\"\">Chọn Phường/Xã</option>\r\n                 {wards.map((ward) => (\r\n-                  <option key={ward.code} value={ward.code} style={typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}}>\r\n+                  <option key={ward.code} value={ward.code}>\r\n                     {ward.name}\r\n                   </option>\r\n                 ))}\r\n               </select>\r\n"
                },
                {
                    "date": 1747390690987,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,9 +280,17 @@\n           </div>\r\n \r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Province/City *</label>\r\n+              <label\r\n+                style={{\r\n+                  ...styles.label,\r\n+                  fontSize: \"0.85em\",\r\n+                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+                }}\r\n+              >\r\n+                Province/City *\r\n+              </label>\r\n               <select\r\n                 value={selectedProvince}\r\n                 onChange={handleProvinceChange}\r\n                 style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n@@ -296,9 +304,17 @@\n                 ))}\r\n               </select>\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>District/County *</label>\r\n+              <label\r\n+                style={{\r\n+                  ...styles.label,\r\n+                  fontSize: \"0.85em\",\r\n+                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+                }}\r\n+              >\r\n+                District/County *\r\n+              </label>\r\n               <select\r\n                 value={selectedDistrict}\r\n                 onChange={handleDistrictChange}\r\n                 style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n@@ -316,9 +332,17 @@\n           </div>\r\n \r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Ward/Commune *</label>\r\n+              <label\r\n+                style={{\r\n+                  ...styles.label,\r\n+                  fontSize: \"0.85em\",\r\n+                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+                }}\r\n+              >\r\n+                Ward/Commune *\r\n+              </label>\r\n               <select\r\n                 value={selectedWard}\r\n                 onChange={handleWardChange}\r\n                 style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n"
                },
                {
                    "date": 1747390739978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,17 +280,9 @@\n           </div>\r\n \r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label\r\n-                style={{\r\n-                  ...styles.label,\r\n-                  fontSize: \"0.85em\",\r\n-                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n-                }}\r\n-              >\r\n-                Province/City *\r\n-              </label>\r\n+              <label style={styles.label}>Province/City *</label>\r\n               <select\r\n                 value={selectedProvince}\r\n                 onChange={handleProvinceChange}\r\n                 style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n@@ -304,17 +296,9 @@\n                 ))}\r\n               </select>\r\n             </div>\r\n             <div style={styles.formGroup}>\r\n-              <label\r\n-                style={{\r\n-                  ...styles.label,\r\n-                  fontSize: \"0.85em\",\r\n-                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n-                }}\r\n-              >\r\n-                District/County *\r\n-              </label>\r\n+              <label style={styles.label}>District/County *</label>\r\n               <select\r\n                 value={selectedDistrict}\r\n                 onChange={handleDistrictChange}\r\n                 style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n@@ -332,17 +316,9 @@\n           </div>\r\n \r\n           <div style={styles.formRow}>\r\n             <div style={styles.formGroup}>\r\n-              <label\r\n-                style={{\r\n-                  ...styles.label,\r\n-                  fontSize: \"0.85em\",\r\n-                  ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n-                }}\r\n-              >\r\n-                Ward/Commune *\r\n-              </label>\r\n+              <label style={styles.label}>Ward/Commune *</label>\r\n               <select\r\n                 value={selectedWard}\r\n                 onChange={handleWardChange}\r\n                 style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n"
                },
                {
                    "date": 1747390848750,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -392,9 +392,15 @@\n                   checked={paymentMethod === \"cod\"}\r\n                   onChange={() => handlePaymentMethodChange(\"cod\")}\r\n                   style={styles.radio}\r\n                 />\r\n-                <label style={styles.paymentMethodLabel}>\r\n+                <label\r\n+                  style={{\r\n+                    ...styles.paymentMethodLabel,\r\n+                    fontSize: \"0.85em\",\r\n+                    ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+                  }}\r\n+                >\r\n                   Cash on Delivery (COD)\r\n                 </label>\r\n               </div>\r\n             </div>\r\n@@ -413,9 +419,15 @@\n                   checked={paymentMethod === \"bank\"}\r\n                   onChange={() => handlePaymentMethodChange(\"bank\")}\r\n                   style={styles.radio}\r\n                 />\r\n-                <label style={styles.paymentMethodLabel}>\r\n+                <label\r\n+                  style={{\r\n+                    ...styles.paymentMethodLabel,\r\n+                    fontSize: \"0.85em\",\r\n+                    ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+                  }}\r\n+                >\r\n                   Bank Transfer\r\n                 </label>\r\n               </div>\r\n             </div>\r\n"
                },
                {
                    "date": 1747390950671,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,9 +180,10 @@\n         }}>\r\n           <p style={{\r\n             fontSize: \"0.9em\",\r\n             color: \"#000000\",\r\n-            fontStyle: \"italic\"\r\n+            fontStyle: \"italic\",\r\n+            ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n           }}>\r\n             Quý khách ghi nhớ mã đơn hàng và nhắn tin cho Facebook hoặc Instagram aish.aish.vn nếu muốn tra cứu mã vận đơn nhé\r\n           </p>\r\n         </div>\r\n@@ -200,23 +201,23 @@\n           <h3 style={{\r\n             fontSize: \"0.9em\",\r\n             fontWeight: \"bold\",\r\n             marginBottom: \"10px\",\r\n-            color: \"#000000\"\r\n+            color: \"#000000\",\r\n+            ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n           }}>\r\n             Thông tin chuyển khoản\r\n           </h3>\r\n-          <div style={{ fontSize: \"0.9em\", color: \"#000000\" }}>\r\n+          <div style={{ fontSize: \"0.9em\", color: \"#000000\", ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}) }}>\r\n             <p style={{ marginBottom: \"8px\" }}>Ngân hàng: MB BANK</p>\r\n             <p style={{ marginBottom: \"8px\" }}>Chủ tài khoản: PHAN THUY TRUC DAO</p>\r\n             <p style={{ marginBottom: \"8px\" }}>Số tài khoản: 024052306</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>\r\n-              Nội dung chuyển khoản: MÃ ĐƠN HÀNG + SĐT\r\n-            </p>\r\n+            <p style={{ marginBottom: \"8px\" }}>Nội dung chuyển khoản: MÃ ĐƠN HÀNG + SĐT</p>\r\n             <p style={{\r\n               marginTop: \"15px\",\r\n               fontStyle: \"italic\",\r\n-              color: \"#666666\"\r\n+              color: \"#666666\",\r\n+              ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n             }}>\r\n               Sau khi đặt hàng thành công, quý khách sẽ thấy mã đơn hàng tại trang. Quý khách vui lòng chuyển khoản đúng nội dung và chụp màn hình gửi về Facebook hoặc Instagram aish.aish.vn nhaa\r\n             </p>\r\n           </div>\r\n"
                },
                {
                    "date": 1747391023608,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,10 +180,9 @@\n         }}>\r\n           <p style={{\r\n             fontSize: \"0.9em\",\r\n             color: \"#000000\",\r\n-            fontStyle: \"italic\",\r\n-            ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+            fontStyle: \"italic\"\r\n           }}>\r\n             Quý khách ghi nhớ mã đơn hàng và nhắn tin cho Facebook hoặc Instagram aish.aish.vn nếu muốn tra cứu mã vận đơn nhé\r\n           </p>\r\n         </div>\r\n@@ -201,23 +200,23 @@\n           <h3 style={{\r\n             fontSize: \"0.9em\",\r\n             fontWeight: \"bold\",\r\n             marginBottom: \"10px\",\r\n-            color: \"#000000\",\r\n-            ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+            color: \"#000000\"\r\n           }}>\r\n             Thông tin chuyển khoản\r\n           </h3>\r\n-          <div style={{ fontSize: \"0.9em\", color: \"#000000\", ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {}) }}>\r\n+          <div style={{ fontSize: \"0.9em\", color: \"#000000\" }}>\r\n             <p style={{ marginBottom: \"8px\" }}>Ngân hàng: MB BANK</p>\r\n             <p style={{ marginBottom: \"8px\" }}>Chủ tài khoản: PHAN THUY TRUC DAO</p>\r\n             <p style={{ marginBottom: \"8px\" }}>Số tài khoản: 024052306</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>Nội dung chuyển khoản: MÃ ĐƠN HÀNG + SĐT</p>\r\n+            <p style={{ marginBottom: \"8px\" }}>\r\n+              Nội dung chuyển khoản: MÃ ĐƠN HÀNG + SĐT\r\n+            </p>\r\n             <p style={{\r\n               marginTop: \"15px\",\r\n               fontStyle: \"italic\",\r\n-              color: \"#666666\",\r\n-              ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n+              color: \"#666666\"\r\n             }}>\r\n               Sau khi đặt hàng thành công, quý khách sẽ thấy mã đơn hàng tại trang. Quý khách vui lòng chuyển khoản đúng nội dung và chụp màn hình gửi về Facebook hoặc Instagram aish.aish.vn nhaa\r\n             </p>\r\n           </div>\r\n"
                },
                {
                    "date": 1747391149706,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -437,9 +437,12 @@\n \r\n           {paymentMethod && (\r\n             <button\r\n               onClick={handleCompleteOrder}\r\n-              style={styles.completeOrderButton}\r\n+              style={{\r\n+                ...styles.completeOrderButton,\r\n+                ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { marginTop: \"16px\", width: \"100%\" } : {})\r\n+              }}\r\n             >\r\n               Complete Order\r\n             </button>\r\n           )}\r\n"
                },
                {
                    "date": 1747391200003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -437,12 +437,9 @@\n \r\n           {paymentMethod && (\r\n             <button\r\n               onClick={handleCompleteOrder}\r\n-              style={{\r\n-                ...styles.completeOrderButton,\r\n-                ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { marginTop: \"16px\", width: \"100%\" } : {})\r\n-              }}\r\n+              style={styles.completeOrderButton}\r\n             >\r\n               Complete Order\r\n             </button>\r\n           )}\r\n"
                },
                {
                    "date": 1747391311718,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -437,8 +437,9 @@\n \r\n           {paymentMethod && (\r\n             <button\r\n               onClick={handleCompleteOrder}\r\n+              className=\"hidden md:block w-full mt-4\"\r\n               style={styles.completeOrderButton}\r\n             >\r\n               Complete Order\r\n             </button>\r\n"
                },
                {
                    "date": 1747392349084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -435,15 +435,31 @@\n \r\n           {renderPaymentInfo()}\r\n \r\n           {paymentMethod && (\r\n-            <button\r\n-              onClick={handleCompleteOrder}\r\n-              className=\"hidden md:block w-full mt-4\"\r\n-              style={styles.completeOrderButton}\r\n-            >\r\n-              Complete Order\r\n-            </button>\r\n+            <>\r\n+              <button\r\n+                onClick={handleCompleteOrder}\r\n+                className=\"block md:hidden\"\r\n+                style={{\r\n+                  ...styles.continueButton,\r\n+                  padding: \"18px 20px\",\r\n+                  width: \"90%\",\r\n+                  margin: \"40px auto 40px auto\",\r\n+                  display: \"block\",\r\n+                  borderRadius: \"0\"\r\n+                }}\r\n+              >\r\n+                Complete Order\r\n+              </button>\r\n+              <button\r\n+                onClick={handleCompleteOrder}\r\n+                className=\"hidden md:block w-full mt-4\"\r\n+                style={styles.completeOrderButton}\r\n+              >\r\n+                Complete Order\r\n+              </button>\r\n+            </>\r\n           )}\r\n         </div>\r\n       )}\r\n \r\n"
                },
                {
                    "date": 1747392460919,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -436,8 +436,9 @@\n           {renderPaymentInfo()}\r\n \r\n           {paymentMethod && (\r\n             <>\r\n+              {/* Nút mobile */}\r\n               <button\r\n                 onClick={handleCompleteOrder}\r\n                 className=\"block md:hidden\"\r\n                 style={{\r\n@@ -450,8 +451,9 @@\n                 }}\r\n               >\r\n                 Complete Order\r\n               </button>\r\n+              {/* Nút desktop */}\r\n               <button\r\n                 onClick={handleCompleteOrder}\r\n                 className=\"hidden md:block w-full mt-4\"\r\n                 style={styles.completeOrderButton}\r\n"
                },
                {
                    "date": 1747392489920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -436,9 +436,8 @@\n           {renderPaymentInfo()}\r\n \r\n           {paymentMethod && (\r\n             <>\r\n-              {/* Nút mobile */}\r\n               <button\r\n                 onClick={handleCompleteOrder}\r\n                 className=\"block md:hidden\"\r\n                 style={{\r\n@@ -451,9 +450,8 @@\n                 }}\r\n               >\r\n                 Complete Order\r\n               </button>\r\n-              {/* Nút desktop */}\r\n               <button\r\n                 onClick={handleCompleteOrder}\r\n                 className=\"hidden md:block w-full mt-4\"\r\n                 style={styles.completeOrderButton}\r\n"
                },
                {
                    "date": 1747392598076,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -435,31 +435,15 @@\n \r\n           {renderPaymentInfo()}\r\n \r\n           {paymentMethod && (\r\n-            <>\r\n-              <button\r\n-                onClick={handleCompleteOrder}\r\n-                className=\"block md:hidden\"\r\n-                style={{\r\n-                  ...styles.continueButton,\r\n-                  padding: \"18px 20px\",\r\n-                  width: \"90%\",\r\n-                  margin: \"40px auto 40px auto\",\r\n-                  display: \"block\",\r\n-                  borderRadius: \"0\"\r\n-                }}\r\n-              >\r\n-                Complete Order\r\n-              </button>\r\n-              <button\r\n-                onClick={handleCompleteOrder}\r\n-                className=\"hidden md:block w-full mt-4\"\r\n-                style={styles.completeOrderButton}\r\n-              >\r\n-                Complete Order\r\n-              </button>\r\n-            </>\r\n+            <button\r\n+              onClick={handleCompleteOrder}\r\n+              className=\"hidden md:block w-full mt-4\"\r\n+              style={styles.completeOrderButton}\r\n+            >\r\n+              Complete Order\r\n+            </button>\r\n           )}\r\n         </div>\r\n       )}\r\n \r\n"
                },
                {
                    "date": 1747392685211,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -437,9 +437,9 @@\n \r\n           {paymentMethod && (\r\n             <button\r\n               onClick={handleCompleteOrder}\r\n-              className=\"hidden md:block w-full mt-4\"\r\n+              className=\"w-full mt-4\"\r\n               style={styles.completeOrderButton}\r\n             >\r\n               Complete Order\r\n             </button>\r\n"
                },
                {
                    "date": 1747392803168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -365,9 +365,12 @@\n           <input type=\"hidden\" name=\"province\" value={selectedProvinceName} />\r\n \r\n           <button\r\n             onClick={handleContinueToPayment}\r\n-            style={styles.continueButton}\r\n+            style={{\r\n+              ...styles.continueButton,\r\n+              textTransform: \"uppercase\"\r\n+            }}\r\n             type=\"submit\"\r\n           >\r\n             Continue to Payment\r\n           </button>\r\n@@ -438,9 +441,12 @@\n           {paymentMethod && (\r\n             <button\r\n               onClick={handleCompleteOrder}\r\n               className=\"w-full mt-4\"\r\n-              style={styles.completeOrderButton}\r\n+              style={{\r\n+                ...styles.completeOrderButton,\r\n+                textTransform: \"uppercase\"\r\n+              }}\r\n             >\r\n               Complete Order\r\n             </button>\r\n           )}\r\n"
                },
                {
                    "date": 1747637685065,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,18 +3,9 @@\n import Link from \"next/link\";\r\n import { useVietnameseAddress } from \"../../../hooks/useVietnameseAddress\";\r\n import OrderConfirmationModal from \"../../../components/OrderConfirmationModal\";\r\n \r\n-export default function ShippingPage({\r\n-  userEmail: propUserEmail,\r\n-  isShippingComplete,\r\n-  showAdditionalContact,\r\n-  showPaymentDetails,\r\n-  errors,\r\n-  handleShippingComplete,\r\n-  handleAdditionalContactToggle,\r\n-  order,\r\n-}) {\r\n+export default function ShippingPage() {\r\n   const [paymentMethod, setPaymentMethod] = useState(\"\");\r\n   const [showPaymentSection, setShowPaymentSection] = useState(false);\r\n   const [showConfirmationModal, setShowConfirmationModal] = useState(false);\r\n   const [orderDetails, setOrderDetails] = useState(null);\r\n@@ -50,10 +41,10 @@\n       setLocalUserEmail(email);\r\n     }\r\n   }, []);\r\n \r\n-  // Sử dụng email từ props hoặc từ localStorage\r\n-  const userEmail = propUserEmail || localUserEmail;\r\n+  // Sử dụng email từ localStorage\r\n+  const userEmail = localUserEmail;\r\n \r\n   const handleInputChange = (e) => {\r\n     const { name, value } = e.target;\r\n     setFormData(prev => ({\r\n@@ -112,10 +103,15 @@\n       // Tạo mã đơn hàng\r\n       const now = new Date();\r\n       const orderCode = `AISH${now.getFullYear()}${String(now.getMonth() + 1).padStart(2, '0')}${String(now.getDate()).padStart(2, '0')}${String(now.getHours()).padStart(2, '0')}${String(now.getMinutes()).padStart(2, '0')}${String(now.getSeconds()).padStart(2, '0')}`;\r\n \r\n+      // Lấy thông tin giỏ hàng từ localStorage\r\n+      const cartItems = JSON.parse(localStorage.getItem('cartItems') || '[]');\r\n+      const promoCode = localStorage.getItem('promoCode');\r\n+      const promoAmount = parseFloat(localStorage.getItem('promoAmount') || '0');\r\n+\r\n       // Tính toán lại tổng tiền\r\n-      const subtotal = order.items.reduce((total, item) => {\r\n+      const subtotal = cartItems.reduce((total, item) => {\r\n         const priceStr = typeof item.price === 'string' ? item.price.replace('AU$', '').trim() : item.price;\r\n         const price = parseFloat(priceStr) || 0;\r\n         return total + (price * item.quantity);\r\n       }, 0);\r\n@@ -129,17 +125,17 @@\n         apartment: formData.apartment || null,\r\n         ward: selectedWardName || \"\",\r\n         district: selectedDistrictName || \"\",\r\n         province: selectedProvinceName || \"\",\r\n-        items: order.items.map(item => ({\r\n+        items: cartItems.map(item => ({\r\n           ...item,\r\n           price: typeof item.price === 'string' ? parseFloat(item.price.replace('AU$', '').trim()) : item.price\r\n         })),\r\n         subtotal: subtotal,\r\n         shippingFee: \"Free\",\r\n-        promoCode: order.promoCode || null,\r\n-        promoAmount: order.promoAmount || 0,\r\n-        total: subtotal - (order.promoAmount || 0),\r\n+        promoCode: promoCode || null,\r\n+        promoAmount: promoAmount || 0,\r\n+        total: subtotal - (promoAmount || 0),\r\n         paymentMethod: paymentMethod,\r\n         status: 'pending',\r\n         paymentStatus: 'pending',\r\n         shippingStatus: 'pending'\r\n@@ -197,402 +193,260 @@\n           backgroundColor: \"#f8f8f8\",\r\n           borderRadius: \"4px\"\r\n         }}>\r\n           <h3 style={{\r\n-            fontSize: \"0.9em\",\r\n-            fontWeight: \"bold\",\r\n-            marginBottom: \"10px\",\r\n-            color: \"#000000\"\r\n+            fontSize: \"1.1em\",\r\n+            marginBottom: \"10px\"\r\n           }}>\r\n             Thông tin chuyển khoản\r\n           </h3>\r\n-          <div style={{ fontSize: \"0.9em\", color: \"#000000\" }}>\r\n-            <p style={{ marginBottom: \"8px\" }}>Ngân hàng: MB BANK</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>Chủ tài khoản: PHAN THUY TRUC DAO</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>Số tài khoản: 024052306</p>\r\n-            <p style={{ marginBottom: \"8px\" }}>\r\n-              Nội dung chuyển khoản: MÃ ĐƠN HÀNG + SĐT\r\n-            </p>\r\n-            <p style={{\r\n-              marginTop: \"15px\",\r\n-              fontStyle: \"italic\",\r\n-              color: \"#666666\"\r\n-            }}>\r\n-              Sau khi đặt hàng thành công, quý khách sẽ thấy mã đơn hàng tại trang. Quý khách vui lòng chuyển khoản đúng nội dung và chụp màn hình gửi về Facebook hoặc Instagram aish.aish.vn nhaa\r\n-            </p>\r\n-          </div>\r\n+          <p style={{\r\n+            fontSize: \"0.9em\",\r\n+            marginBottom: \"5px\"\r\n+          }}>\r\n+            Ngân hàng: Vietcombank\r\n+          </p>\r\n+          <p style={{\r\n+            fontSize: \"0.9em\",\r\n+            marginBottom: \"5px\"\r\n+          }}>\r\n+            Số tài khoản: 1234567890\r\n+          </p>\r\n+          <p style={{\r\n+            fontSize: \"0.9em\",\r\n+            marginBottom: \"5px\"\r\n+          }}>\r\n+            Chủ tài khoản: AISH STORE\r\n+          </p>\r\n+          <p style={{\r\n+            fontSize: \"0.9em\",\r\n+            color: \"#666\",\r\n+            fontStyle: \"italic\"\r\n+          }}>\r\n+            Vui lòng chuyển khoản đúng số tiền và ghi nội dung chuyển khoản là mã đơn hàng\r\n+          </p>\r\n         </div>\r\n       );\r\n     }\r\n+\r\n+    return null;\r\n   };\r\n \r\n   return (\r\n-    <div style={styles.leftSection}>\r\n-      <div style={styles.section}>\r\n-        <h2 style={styles.sectionTitle}>CONTACT INFORMATION</h2>\r\n-        <p style={styles.sectionText}>\r\n-          {userEmail ? (\r\n-            <>\r\n-              {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n-            </>\r\n-          ) : (\r\n-            \"Bạn chưa đăng nhập\"\r\n-          )}\r\n-        </p>\r\n-      </div>\r\n-\r\n-      <div style={styles.section}>\r\n-        <h2 style={styles.sectionTitle}>SHIPPING ADDRESS</h2>\r\n-        <form id=\"shippingForm\" style={styles.form}>\r\n-          <div style={styles.formRow}>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>First Name *</label>\r\n-              <input\r\n-                name=\"firstName\"\r\n-                type=\"text\"\r\n-                value={formData.firstName}\r\n-                onChange={handleInputChange}\r\n-                style={{ ...styles.input, borderColor: errors.firstName ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-              />\r\n-            </div>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Last Name *</label>\r\n-              <input\r\n-                name=\"lastName\"\r\n-                type=\"text\"\r\n-                value={formData.lastName}\r\n-                onChange={handleInputChange}\r\n-                style={{ ...styles.input, borderColor: errors.lastName ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-              />\r\n-            </div>\r\n+    <div className=\"container mx-auto px-4 py-8\">\r\n+      <h1 className=\"text-2xl font-bold mb-6\">Shipping Information</h1>\r\n+      \r\n+      <form id=\"shippingForm\" onSubmit={handleContinueToPayment}>\r\n+        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n+          <div>\r\n+            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+              First Name *\r\n+            </label>\r\n+            <input\r\n+              type=\"text\"\r\n+              name=\"firstName\"\r\n+              value={formData.firstName}\r\n+              onChange={handleInputChange}\r\n+              required\r\n+              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n+            />\r\n           </div>\r\n-\r\n-          <div style={styles.formGroup}>\r\n-            <label style={styles.label}>Apartment, building, etc. (optional)</label>\r\n+          \r\n+          <div>\r\n+            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+              Last Name *\r\n+            </label>\r\n             <input\r\n-              name=\"apartment\"\r\n               type=\"text\"\r\n-              value={formData.apartment}\r\n+              name=\"lastName\"\r\n+              value={formData.lastName}\r\n               onChange={handleInputChange}\r\n-              style={styles.input}\r\n+              required\r\n+              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n             />\r\n           </div>\r\n+        </div>\r\n \r\n-          <div style={styles.formRow}>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Province/City *</label>\r\n-              <select\r\n-                value={selectedProvince}\r\n-                onChange={handleProvinceChange}\r\n-                style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-              >\r\n-                <option value=\"\">Chọn Tỉnh/Thành phố</option>\r\n-                {provinces.map((province) => (\r\n-                  <option key={province.code} value={province.code}>\r\n-                    {province.name}\r\n-                  </option>\r\n-                ))}\r\n-              </select>\r\n-            </div>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>District/County *</label>\r\n-              <select\r\n-                value={selectedDistrict}\r\n-                onChange={handleDistrictChange}\r\n-                style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-                disabled={!selectedProvince}\r\n-              >\r\n-                <option value=\"\">Chọn Quận/Huyện</option>\r\n-                {districts.map((district) => (\r\n-                  <option key={district.code} value={district.code}>\r\n-                    {district.name}\r\n-                  </option>\r\n-                ))}\r\n-              </select>\r\n-            </div>\r\n-          </div>\r\n+        <div className=\"mb-6\">\r\n+          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+            Email\r\n+          </label>\r\n+          <input\r\n+            type=\"email\"\r\n+            value={userEmail}\r\n+            disabled\r\n+            className=\"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50\"\r\n+          />\r\n+        </div>\r\n \r\n-          <div style={styles.formRow}>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Ward/Commune *</label>\r\n-              <select\r\n-                value={selectedWard}\r\n-                onChange={handleWardChange}\r\n-                style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-                disabled={!selectedDistrict}\r\n-              >\r\n-                <option value=\"\">Chọn Phường/Xã</option>\r\n-                {wards.map((ward) => (\r\n-                  <option key={ward.code} value={ward.code}>\r\n-                    {ward.name}\r\n-                  </option>\r\n-                ))}\r\n-              </select>\r\n-            </div>\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Phone *</label>\r\n-              <input\r\n-                name=\"phone\"\r\n-                type=\"tel\"\r\n-                value={formData.phone}\r\n-                onChange={handleInputChange}\r\n-                style={{ ...styles.input, borderColor: errors.phone ? \"red\" : \"#e0e0e0\" }}\r\n-                required\r\n-              />\r\n-            </div>\r\n-          </div>\r\n+        <div className=\"mb-6\">\r\n+          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+            Phone Number *\r\n+          </label>\r\n+          <input\r\n+            type=\"tel\"\r\n+            name=\"phone\"\r\n+            value={formData.phone}\r\n+            onChange={handleInputChange}\r\n+            required\r\n+            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n+          />\r\n+        </div>\r\n \r\n-          {showAdditionalContact && (\r\n-            <div style={styles.formGroup}>\r\n-              <label style={styles.label}>Additional Phone (optional)</label>\r\n-              <input\r\n-                name=\"additionalPhone\"\r\n-                type=\"tel\"\r\n-                value={formData.additionalPhone}\r\n-                onChange={handleInputChange}\r\n-                style={styles.input}\r\n-              />\r\n-            </div>\r\n-          )}\r\n+        <div className=\"mb-6\">\r\n+          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+            Additional Phone Number\r\n+          </label>\r\n+          <input\r\n+            type=\"tel\"\r\n+            name=\"additionalPhone\"\r\n+            value={formData.additionalPhone}\r\n+            onChange={handleInputChange}\r\n+            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n+          />\r\n+        </div>\r\n \r\n-          {/* Thêm các trường ẩn để lưu thông tin địa chỉ */}\r\n-          <input type=\"hidden\" name=\"ward\" value={selectedWardName} />\r\n-          <input type=\"hidden\" name=\"district\" value={selectedDistrictName} />\r\n-          <input type=\"hidden\" name=\"province\" value={selectedProvinceName} />\r\n+        <div className=\"mb-6\">\r\n+          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+            Apartment, suite, etc.\r\n+          </label>\r\n+          <input\r\n+            type=\"text\"\r\n+            name=\"apartment\"\r\n+            value={formData.apartment}\r\n+            onChange={handleInputChange}\r\n+            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n+          />\r\n+        </div>\r\n \r\n+        <div className=\"mb-6\">\r\n+          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+            Province *\r\n+          </label>\r\n+          <select\r\n+            value={selectedProvince}\r\n+            onChange={handleProvinceChange}\r\n+            required\r\n+            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n+          >\r\n+            <option value=\"\">Select Province</option>\r\n+            {provinces.map((province) => (\r\n+              <option key={province.code} value={province.code}>\r\n+                {province.name}\r\n+              </option>\r\n+            ))}\r\n+          </select>\r\n+        </div>\r\n+\r\n+        <div className=\"mb-6\">\r\n+          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+            District *\r\n+          </label>\r\n+          <select\r\n+            value={selectedDistrict}\r\n+            onChange={handleDistrictChange}\r\n+            required\r\n+            disabled={!selectedProvince}\r\n+            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n+          >\r\n+            <option value=\"\">Select District</option>\r\n+            {districts.map((district) => (\r\n+              <option key={district.code} value={district.code}>\r\n+                {district.name}\r\n+              </option>\r\n+            ))}\r\n+          </select>\r\n+        </div>\r\n+\r\n+        <div className=\"mb-6\">\r\n+          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n+            Ward *\r\n+          </label>\r\n+          <select\r\n+            value={selectedWard}\r\n+            onChange={handleWardChange}\r\n+            required\r\n+            disabled={!selectedDistrict}\r\n+            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n+          >\r\n+            <option value=\"\">Select Ward</option>\r\n+            {wards.map((ward) => (\r\n+              <option key={ward.code} value={ward.code}>\r\n+                {ward.name}\r\n+              </option>\r\n+            ))}\r\n+          </select>\r\n+        </div>\r\n+\r\n+        <div className=\"flex justify-end\">\r\n           <button\r\n-            onClick={handleContinueToPayment}\r\n-            style={{\r\n-              ...styles.continueButton,\r\n-              textTransform: \"uppercase\"\r\n-            }}\r\n             type=\"submit\"\r\n+            className=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n           >\r\n             Continue to Payment\r\n           </button>\r\n-        </form>\r\n-      </div>\r\n+        </div>\r\n+      </form>\r\n \r\n       {showPaymentSection && (\r\n-        <div id=\"paymentSection\" style={styles.section}>\r\n-          <h2 style={styles.sectionTitle}>PAYMENT METHOD</h2>\r\n-          <div style={styles.paymentMethods}>\r\n-            <div\r\n-              style={{\r\n-                ...styles.paymentMethod,\r\n-                borderColor: paymentMethod === \"cod\" ? \"#000\" : \"#e0e0e0\",\r\n-              }}\r\n-              onClick={() => handlePaymentMethodChange(\"cod\")}\r\n-            >\r\n-              <div style={styles.paymentMethodHeader}>\r\n-                <input\r\n-                  type=\"radio\"\r\n-                  name=\"paymentMethod\"\r\n-                  checked={paymentMethod === \"cod\"}\r\n-                  onChange={() => handlePaymentMethodChange(\"cod\")}\r\n-                  style={styles.radio}\r\n-                />\r\n-                <label\r\n-                  style={{\r\n-                    ...styles.paymentMethodLabel,\r\n-                    fontSize: \"0.85em\",\r\n-                    ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n-                  }}\r\n-                >\r\n-                  Cash on Delivery (COD)\r\n-                </label>\r\n-              </div>\r\n+        <div id=\"paymentSection\" className=\"mt-8\">\r\n+          <h2 className=\"text-xl font-bold mb-4\">Payment Method</h2>\r\n+          \r\n+          <div className=\"space-y-4\">\r\n+            <div className=\"flex items-center\">\r\n+              <input\r\n+                type=\"radio\"\r\n+                id=\"cod\"\r\n+                name=\"paymentMethod\"\r\n+                value=\"cod\"\r\n+                checked={paymentMethod === 'cod'}\r\n+                onChange={() => handlePaymentMethodChange('cod')}\r\n+                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500\"\r\n+              />\r\n+              <label htmlFor=\"cod\" className=\"ml-2 block text-sm font-medium text-gray-700\">\r\n+                Cash on Delivery (COD)\r\n+              </label>\r\n             </div>\r\n \r\n-            <div\r\n-              style={{\r\n-                ...styles.paymentMethod,\r\n-                borderColor: paymentMethod === \"bank\" ? \"#000\" : \"#e0e0e0\",\r\n\\ No newline at end of file\n-              }}\r\n-              onClick={() => handlePaymentMethodChange(\"bank\")}\r\n-            >\r\n-              <div style={styles.paymentMethodHeader}>\r\n-                <input\r\n-                  type=\"radio\"\r\n-                  name=\"paymentMethod\"\r\n-                  checked={paymentMethod === \"bank\"}\r\n-                  onChange={() => handlePaymentMethodChange(\"bank\")}\r\n-                  style={styles.radio}\r\n-                />\r\n-                <label\r\n-                  style={{\r\n-                    ...styles.paymentMethodLabel,\r\n-                    fontSize: \"0.85em\",\r\n-                    ...(typeof window !== 'undefined' && window.innerWidth <= 768 ? { fontSize: \"12px\" } : {})\r\n-                  }}\r\n-                >\r\n-                  Bank Transfer\r\n-                </label>\r\n-              </div>\r\n+            <div className=\"flex items-center\">\r\n+              <input\r\n+                type=\"radio\"\r\n+                id=\"bank\"\r\n+                name=\"paymentMethod\"\r\n+                value=\"bank\"\r\n+                checked={paymentMethod === 'bank'}\r\n+                onChange={() => handlePaymentMethodChange('bank')}\r\n+                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500\"\r\n+              />\r\n+              <label htmlFor=\"bank\" className=\"ml-2 block text-sm font-medium text-gray-700\">\r\n+                Bank Transfer\r\n+              </label>\r\n             </div>\r\n           </div>\r\n \r\n           {renderPaymentInfo()}\r\n \r\n-          {paymentMethod && (\r\n+          <div className=\"mt-6\">\r\n             <button\r\n               onClick={handleCompleteOrder}\r\n-              className=\"w-full mt-4\"\r\n-              style={{\r\n-                ...styles.completeOrderButton,\r\n-                textTransform: \"uppercase\"\r\n-              }}\r\n+              disabled={!paymentMethod}\r\n+              className={`px-6 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\r\n+                paymentMethod\r\n+                  ? 'bg-blue-600 text-white hover:bg-blue-700'\r\n+                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n+              }`}\r\n             >\r\n               Complete Order\r\n             </button>\r\n-          )}\r\n+          </div>\r\n         </div>\r\n       )}\r\n \r\n-      <OrderConfirmationModal\r\n-        isOpen={showConfirmationModal}\r\n-        onClose={() => setShowConfirmationModal(false)}\r\n-        orderDetails={orderDetails}\r\n-      />\r\n+      {showConfirmationModal && orderDetails && (\r\n+        <OrderConfirmationModal\r\n+          orderDetails={orderDetails}\r\n+          onClose={() => setShowConfirmationModal(false)}\r\n+        />\r\n+      )}\r\n     </div>\r\n   );\r\n-}\r\n-\r\n-const styles = {\r\n-  leftSection: {\r\n-    flex: 2,\r\n-    backgroundColor: \"#ffffff\",\r\n-    padding: \"20px\",\r\n-    border: \"1px solid #e0e0e0\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  section: {\r\n-    marginBottom: \"30px\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  sectionTitle: {\r\n-    fontSize: \"1.1em\",\r\n-    fontWeight: \"bold\",\r\n-    marginBottom: \"15px\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  sectionText: {\r\n-    fontSize: \"0.85em\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  link: {\r\n-    color: \"#000000\",\r\n-    textDecoration: \"underline\",\r\n-    cursor: \"pointer\",\r\n-  },\r\n-  form: {\r\n-    display: \"flex\",\r\n-    flexDirection: \"column\",\r\n-    gap: \"15px\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  formRow: {\r\n-    display: \"flex\",\r\n-    gap: \"15px\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  formGroup: {\r\n-    flex: 1,\r\n-    color: \"#000000\",\r\n-  },\r\n-  label: {\r\n-    fontSize: \"0.85em\",\r\n-    marginBottom: \"5px\",\r\n-    display: \"block\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  input: {\r\n-    width: \"100%\",\r\n-    padding: \"10px\",\r\n-    fontSize: \"0.85em\",\r\n-    border: \"1px solid #e0e0e0\",\r\n-    borderRadius: \"4px\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  checkboxGroup: {\r\n-    display: \"flex\",\r\n-    alignItems: \"center\",\r\n-    gap: \"10px\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  checkbox: {\r\n-    width: \"20px\",\r\n-    height: \"20px\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  checkboxLabel: {\r\n-    fontSize: \"0.85em\",\r\n-    color: \"#000000\",\r\n-  },\r\n-  paymentMethods: {\r\n-    display: \"flex\",\r\n-    flexDirection: \"column\",\r\n-    gap: \"15px\",\r\n-    marginTop: \"20px\",\r\n-  },\r\n-  paymentMethod: {\r\n-    border: \"1px solid #e0e0e0\",\r\n-    borderRadius: \"4px\",\r\n-    padding: \"15px\",\r\n-    cursor: \"pointer\",\r\n-    transition: \"all 0.3s ease\",\r\n-  },\r\n-  paymentMethodHeader: {\r\n-    display: \"flex\",\r\n-    alignItems: \"center\",\r\n-    gap: \"10px\",\r\n-  },\r\n-  paymentMethodLabel: {\r\n-    fontSize: \"14px\",\r\n-    fontWeight: \"500\",\r\n-  },\r\n-  paymentMethodContent: {\r\n-    marginTop: \"15px\",\r\n-    paddingTop: \"15px\",\r\n-    borderTop: \"1px solid #e0e0e0\",\r\n-    fontSize: \"13px\",\r\n-    color: \"#666\",\r\n-  },\r\n-  radio: {\r\n-    width: \"18px\",\r\n-    height: \"18px\",\r\n-    cursor: \"pointer\",\r\n-  },\r\n-  bankInfo: {\r\n-    fontWeight: \"500\",\r\n-    marginBottom: \"10px\",\r\n-  },\r\n-  completeOrderButton: {\r\n-    width: \"100%\",\r\n-    padding: \"15px\",\r\n-    backgroundColor: \"#000\",\r\n-    color: \"#fff\",\r\n-    border: \"none\",\r\n-    cursor: \"pointer\",\r\n-    fontSize: \"14px\",\r\n-    fontWeight: \"500\",\r\n-    marginTop: \"20px\",\r\n-    transition: \"background-color 0.3s ease\",\r\n-  },\r\n-  continueButton: {\r\n-    width: \"100%\",\r\n-    padding: \"15px\",\r\n-    backgroundColor: \"#000\",\r\n-    color: \"#fff\",\r\n-    border: \"none\",\r\n-    cursor: \"pointer\",\r\n-    fontSize: \"14px\",\r\n-    fontWeight: \"500\",\r\n-    marginTop: \"20px\",\r\n-    transition: \"background-color 0.3s ease\",\r\n-  },\r\n-};\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use client\";\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useVietnameseAddress } from \"../../../hooks/useVietnameseAddress\";\r\nimport OrderConfirmationModal from \"../../../components/OrderConfirmationModal\";\r\n\r\nexport default function ShippingPage({\r\n  userEmail,\r\n  isShippingComplete,\r\n  showAdditionalContact,\r\n  showPaymentDetails,\r\n  errors,\r\n  handleShippingComplete,\r\n  handleAdditionalContactToggle,\r\n  order,\r\n}) {\r\n  const [paymentMethod, setPaymentMethod] = useState(\"\");\r\n  const [showPaymentSection, setShowPaymentSection] = useState(false);\r\n  const [showConfirmationModal, setShowConfirmationModal] = useState(false);\r\n  const [orderDetails, setOrderDetails] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    address: \"\",\r\n    phone: \"\",\r\n    additionalPhone: \"\",\r\n  });\r\n\r\n  const {\r\n    provinces,\r\n    districts,\r\n    wards,\r\n    selectedProvince,\r\n    selectedDistrict,\r\n    selectedWard,\r\n    handleProvinceChange,\r\n    handleDistrictChange,\r\n    handleWardChange\r\n  } = useVietnameseAddress();\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleContinueToPayment = (e) => {\r\n    e.preventDefault();\r\n    // Thêm validation cho form shipping\r\n    const shippingForm = document.getElementById('shippingForm');\r\n    if (shippingForm.checkValidity()) {\r\n      setShowPaymentSection(true);\r\n      // Scroll to payment section\r\n      const paymentSection = document.getElementById('paymentSection');\r\n      if (paymentSection) {\r\n        paymentSection.scrollIntoView({ behavior: 'smooth' });\r\n      }\r\n    } else {\r\n      shippingForm.reportValidity();\r\n    }\r\n  };\r\n\r\n  const handleCompleteOrder = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      // Kiểm tra xem đã chọn đủ thông tin địa chỉ chưa\r\n      if (!selectedProvince || !selectedDistrict || !selectedWard) {\r\n        alert(\"Vui lòng chọn đầy đủ thông tin địa chỉ\");\r\n        return;\r\n      }\r\n\r\n      // Kiểm tra các trường bắt buộc\r\n      if (!formData.firstName || !formData.lastName || !formData.address || !formData.phone) {\r\n        alert(\"Vui lòng điền đầy đủ thông tin bắt buộc\");\r\n        return;\r\n      }\r\n\r\n      const selectedProvinceData = provinces.find(p => p.code === selectedProvince);\r\n      const selectedDistrictData = districts.find(d => d.code === selectedDistrict);\r\n      const selectedWardData = wards.find(w => w.code === selectedWard);\r\n\r\n      const details = {\r\n        orderCode: `ORDER${Date.now()}`,\r\n        fullName: `${formData.firstName} ${formData.lastName}`,\r\n        email: userEmail,\r\n        phone: formData.phone,\r\n        additionalPhone: formData.additionalPhone || null,\r\n        address: formData.address,\r\n        ward: selectedWardData?.name || \"\",\r\n        district: selectedDistrictData?.name || \"\",\r\n        province: selectedProvinceData?.name || \"\",\r\n        items: order.items || [],\r\n        subtotal: order.subtotal || \"0\",\r\n        shippingFee: \"Miễn phí\",\r\n        total: order.total || \"0\",\r\n        paymentMethod: paymentMethod\r\n      };\r\n\r\n      // Gửi đơn hàng lên server\r\n      const response = await fetch('/api/orders', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(details),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.ok) {\r\n        setOrderDetails(details);\r\n        setShowConfirmationModal(true);\r\n      } else {\r\n        throw new Error(data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error creating order:\", error);\r\n      alert(\"Có lỗi xảy ra khi tạo đơn hàng. Vui lòng thử lại.\");\r\n    }\r\n  };\r\n\r\n  const handlePaymentMethodChange = (method) => {\r\n    setPaymentMethod(method);\r\n  };\r\n\r\n  const renderPaymentInfo = () => {\r\n    if (!paymentMethod) return null;\r\n\r\n    if (paymentMethod === 'cod') {\r\n      return (\r\n        <div style={{\r\n          marginTop: \"20px\",\r\n          padding: \"15px\",\r\n          backgroundColor: \"#f8f8f8\",\r\n          borderRadius: \"4px\"\r\n        }}>\r\n          <p style={{\r\n            fontSize: \"0.9em\",\r\n            color: \"#000000\",\r\n            fontStyle: \"italic\"\r\n          }}>\r\n            Quý khách vui lòng để ý mã đơn hàng để tiện theo dõi.\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (paymentMethod === 'bank') {\r\n      return (\r\n        <div style={{\r\n          marginTop: \"20px\",\r\n          padding: \"15px\",\r\n          backgroundColor: \"#f8f8f8\",\r\n          borderRadius: \"4px\"\r\n        }}>\r\n          <h3 style={{\r\n            fontSize: \"0.9em\",\r\n            fontWeight: \"bold\",\r\n            marginBottom: \"10px\",\r\n            color: \"#000000\"\r\n          }}>\r\n            Thông tin chuyển khoản\r\n          </h3>\r\n          <div style={{ fontSize: \"0.9em\", color: \"#000000\" }}>\r\n            <p style={{ marginBottom: \"8px\" }}>Ngân hàng: Vietcombank</p>\r\n            <p style={{ marginBottom: \"8px\" }}>Chủ tài khoản: AISH COMPANY</p>\r\n            <p style={{ marginBottom: \"8px\" }}>Số tài khoản: 1234567890</p>\r\n            <p style={{ marginBottom: \"8px\" }}>\r\n              Nội dung chuyển khoản: {order.orderNumber || \"ORDER123\"} + {order.phone || \"SĐT\"}\r\n            </p>\r\n            <p style={{\r\n              marginTop: \"15px\",\r\n              fontStyle: \"italic\",\r\n              color: \"#666666\"\r\n            }}>\r\n              Quý khách vui lòng chụp màn hình gửi về Facebook hoặc Instagram AISH\r\n            </p>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.leftSection}>\r\n      <div style={styles.section}>\r\n        <h2 style={styles.sectionTitle}>THÔNG TIN LIÊN HỆ</h2>\r\n        <p style={styles.sectionText}>\r\n          {userEmail} (<Link href=\"/logout\" style={styles.link}>Đăng xuất</Link>)\r\n        </p>\r\n      </div>\r\n\r\n      <div style={styles.section}>\r\n        <h2 style={styles.sectionTitle}>ĐỊA CHỈ GIAO HÀNG</h2>\r\n        <form id=\"shippingForm\" style={styles.form}>\r\n          <div style={styles.formRow}>\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Họ *</label>\r\n              <input\r\n                name=\"firstName\"\r\n                type=\"text\"\r\n                value={formData.firstName}\r\n                onChange={handleInputChange}\r\n                style={{ ...styles.input, borderColor: errors.firstName ? \"red\" : \"#e0e0e0\" }}\r\n                required\r\n              />\r\n            </div>\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Tên *</label>\r\n              <input\r\n                name=\"lastName\"\r\n                type=\"text\"\r\n                value={formData.lastName}\r\n                onChange={handleInputChange}\r\n                style={{ ...styles.input, borderColor: errors.lastName ? \"red\" : \"#e0e0e0\" }}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.formGroup}>\r\n            <label style={styles.label}>Địa chỉ *</label>\r\n            <input\r\n              name=\"address\"\r\n              type=\"text\"\r\n              value={formData.address}\r\n              onChange={handleInputChange}\r\n              style={{ ...styles.input, borderColor: errors.address ? \"red\" : \"#e0e0e0\" }}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div style={styles.formGroup}>\r\n            <label style={styles.label}>Căn hộ, tòa nhà, v.v. (không bắt buộc)</label>\r\n            <input\r\n              name=\"apartment\"\r\n              type=\"text\"\r\n              style={styles.input}\r\n            />\r\n          </div>\r\n\r\n          <div style={styles.formRow}>\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Tỉnh/Thành phố *</label>\r\n              <select\r\n                value={selectedProvince}\r\n                onChange={handleProvinceChange}\r\n                style={{ ...styles.input, borderColor: errors.province ? \"red\" : \"#e0e0e0\" }}\r\n                required\r\n              >\r\n                <option value=\"\">Chọn Tỉnh/Thành phố</option>\r\n                {provinces.map((province) => (\r\n                  <option key={province.code} value={province.code}>\r\n                    {province.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Quận/Huyện *</label>\r\n              <select\r\n                value={selectedDistrict}\r\n                onChange={handleDistrictChange}\r\n                style={{ ...styles.input, borderColor: errors.district ? \"red\" : \"#e0e0e0\" }}\r\n                required\r\n                disabled={!selectedProvince}\r\n              >\r\n                <option value=\"\">Chọn Quận/Huyện</option>\r\n                {districts.map((district) => (\r\n                  <option key={district.code} value={district.code}>\r\n                    {district.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.formRow}>\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Phường/Xã *</label>\r\n              <select\r\n                value={selectedWard}\r\n                onChange={handleWardChange}\r\n                style={{ ...styles.input, borderColor: errors.ward ? \"red\" : \"#e0e0e0\" }}\r\n                required\r\n                disabled={!selectedDistrict}\r\n              >\r\n                <option value=\"\">Chọn Phường/Xã</option>\r\n                {wards.map((ward) => (\r\n                  <option key={ward.code} value={ward.code}>\r\n                    {ward.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Số điện thoại *</label>\r\n              <input\r\n                name=\"phone\"\r\n                type=\"tel\"\r\n                value={formData.phone}\r\n                onChange={handleInputChange}\r\n                style={{ ...styles.input, borderColor: errors.phone ? \"red\" : \"#e0e0e0\" }}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {showAdditionalContact && (\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Số điện thoại phụ (không bắt buộc)</label>\r\n              <input\r\n                name=\"additionalPhone\"\r\n                type=\"tel\"\r\n                value={formData.additionalPhone}\r\n                onChange={handleInputChange}\r\n                style={styles.input}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            onClick={handleContinueToPayment}\r\n            style={styles.continueButton}\r\n            type=\"submit\"\r\n          >\r\n            Tiếp tục thanh toán\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      {showPaymentSection && (\r\n        <div id=\"paymentSection\" style={styles.section}>\r\n          <h2 style={styles.sectionTitle}>HÌNH THỨC THANH TOÁN</h2>\r\n          <div style={styles.paymentMethods}>\r\n            <div\r\n              style={{\r\n                ...styles.paymentMethod,\r\n                borderColor: paymentMethod === \"cod\" ? \"#000\" : \"#e0e0e0\",\r\n              }}\r\n              onClick={() => handlePaymentMethodChange(\"cod\")}\r\n            >\r\n              <div style={styles.paymentMethodHeader}>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"paymentMethod\"\r\n                  checked={paymentMethod === \"cod\"}\r\n                  onChange={() => handlePaymentMethodChange(\"cod\")}\r\n                  style={styles.radio}\r\n                />\r\n                <label style={styles.paymentMethodLabel}>\r\n                  Thanh toán khi nhận hàng (COD)\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                ...styles.paymentMethod,\r\n                borderColor: paymentMethod === \"bank\" ? \"#000\" : \"#e0e0e0\",\r\n              }}\r\n              onClick={() => handlePaymentMethodChange(\"bank\")}\r\n            >\r\n              <div style={styles.paymentMethodHeader}>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"paymentMethod\"\r\n                  checked={paymentMethod === \"bank\"}\r\n                  onChange={() => handlePaymentMethodChange(\"bank\")}\r\n                  style={styles.radio}\r\n                />\r\n                <label style={styles.paymentMethodLabel}>\r\n                  Chuyển khoản ngân hàng\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {renderPaymentInfo()}\r\n\r\n          {paymentMethod && (\r\n            <button\r\n              onClick={handleCompleteOrder}\r\n              style={styles.completeOrderButton}\r\n            >\r\n              Hoàn tất đơn hàng\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <OrderConfirmationModal\r\n        isOpen={showConfirmationModal}\r\n        onClose={() => setShowConfirmationModal(false)}\r\n        orderDetails={orderDetails}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  leftSection: {\r\n    flex: 2,\r\n    backgroundColor: \"#ffffff\",\r\n    padding: \"20px\",\r\n    border: \"1px solid #e0e0e0\",\r\n    color: \"#000000\",\r\n  },\r\n  section: {\r\n    marginBottom: \"30px\",\r\n    color: \"#000000\",\r\n  },\r\n  sectionTitle: {\r\n    fontSize: \"1.1em\",\r\n    fontWeight: \"bold\",\r\n    marginBottom: \"15px\",\r\n    color: \"#000000\",\r\n  },\r\n  sectionText: {\r\n    fontSize: \"0.85em\",\r\n    color: \"#000000\",\r\n  },\r\n  link: {\r\n    color: \"#000000\",\r\n    textDecoration: \"underline\",\r\n    cursor: \"pointer\",\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"15px\",\r\n    color: \"#000000\",\r\n  },\r\n  formRow: {\r\n    display: \"flex\",\r\n    gap: \"15px\",\r\n    color: \"#000000\",\r\n  },\r\n  formGroup: {\r\n    flex: 1,\r\n    color: \"#000000\",\r\n  },\r\n  label: {\r\n    fontSize: \"0.85em\",\r\n    marginBottom: \"5px\",\r\n    display: \"block\",\r\n    color: \"#000000\",\r\n  },\r\n  input: {\r\n    width: \"100%\",\r\n    padding: \"10px\",\r\n    fontSize: \"0.85em\",\r\n    border: \"1px solid #e0e0e0\",\r\n    borderRadius: \"4px\",\r\n    color: \"#000000\",\r\n  },\r\n  checkboxGroup: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: \"10px\",\r\n    color: \"#000000\",\r\n  },\r\n  checkbox: {\r\n    width: \"20px\",\r\n    height: \"20px\",\r\n    color: \"#000000\",\r\n  },\r\n  checkboxLabel: {\r\n    fontSize: \"0.85em\",\r\n    color: \"#000000\",\r\n  },\r\n  paymentMethods: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"15px\",\r\n    marginTop: \"20px\",\r\n  },\r\n  paymentMethod: {\r\n    border: \"1px solid #e0e0e0\",\r\n    borderRadius: \"4px\",\r\n    padding: \"15px\",\r\n    cursor: \"pointer\",\r\n    transition: \"all 0.3s ease\",\r\n  },\r\n  paymentMethodHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: \"10px\",\r\n  },\r\n  paymentMethodLabel: {\r\n    fontSize: \"14px\",\r\n    fontWeight: \"500\",\r\n  },\r\n  paymentMethodContent: {\r\n    marginTop: \"15px\",\r\n    paddingTop: \"15px\",\r\n    borderTop: \"1px solid #e0e0e0\",\r\n    fontSize: \"13px\",\r\n    color: \"#666\",\r\n  },\r\n  radio: {\r\n    width: \"18px\",\r\n    height: \"18px\",\r\n    cursor: \"pointer\",\r\n  },\r\n  bankInfo: {\r\n    fontWeight: \"500\",\r\n    marginBottom: \"10px\",\r\n  },\r\n  completeOrderButton: {\r\n    width: \"100%\",\r\n    padding: \"15px\",\r\n    backgroundColor: \"#000\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"14px\",\r\n    fontWeight: \"500\",\r\n    marginTop: \"20px\",\r\n    transition: \"background-color 0.3s ease\",\r\n  },\r\n  continueButton: {\r\n    width: \"100%\",\r\n    padding: \"15px\",\r\n    backgroundColor: \"#000\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"14px\",\r\n    fontWeight: \"500\",\r\n    marginTop: \"20px\",\r\n    transition: \"background-color 0.3s ease\",\r\n  },\r\n};"
        }
    ]
}