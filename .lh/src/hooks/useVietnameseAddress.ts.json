{
    "sourceFile": "src/hooks/useVietnameseAddress.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1747805612160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747805635185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,116 +1,1 @@\n-import { useState, useEffect } from 'react';\r\n-\r\n-interface Province {\r\n-  code: string;\r\n-  name: string;\r\n-}\r\n-\r\n-interface District {\r\n-  code: string;\r\n-  name: string;\r\n-  province_code: string;\r\n-}\r\n-\r\n-interface Ward {\r\n-  code: string;\r\n-  name: string;\r\n-  district_code: string;\r\n-}\r\n-\r\n-export const useVietnameseAddress = () => {\r\n-  const [provinces, setProvinces] = useState<Province[]>([]);\r\n-  const [districts, setDistricts] = useState<District[]>([]);\r\n-  const [wards, setWards] = useState<Ward[]>([]);\r\n-  const [selectedProvince, setSelectedProvince] = useState<string>('');\r\n-  const [selectedDistrict, setSelectedDistrict] = useState<string>('');\r\n-  const [selectedWard, setSelectedWard] = useState<string>('');\r\n-  const [selectedProvinceName, setSelectedProvinceName] = useState<string>('');\r\n-  const [selectedDistrictName, setSelectedDistrictName] = useState<string>('');\r\n-  const [selectedWardName, setSelectedWardName] = useState<string>('');\r\n-\r\n-  useEffect(() => {\r\n-    const fetchProvinces = async () => {\r\n-      try {\r\n-        const response = await fetch('/api/provinces');\r\n-        const data = await response.json();\r\n-        setProvinces(data);\r\n-      } catch (error) {\r\n-        console.error('Error fetching provinces:', error);\r\n-      }\r\n-    };\r\n-\r\n-    fetchProvinces();\r\n-  }, []);\r\n-\r\n-  const handleProvinceChange = async (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n-    const provinceCode = e.target.value;\r\n-    setSelectedProvince(provinceCode);\r\n-    setSelectedDistrict('');\r\n-    setSelectedWard('');\r\n-    setSelectedDistrictName('');\r\n-    setSelectedWardName('');\r\n-\r\n-    if (provinceCode) {\r\n-      const province = provinces.find(p => p.code === provinceCode);\r\n-      setSelectedProvinceName(province?.name || '');\r\n-\r\n-      try {\r\n-        const response = await fetch(`/api/districts?provinceCode=${provinceCode}`);\r\n-        const data = await response.json();\r\n-        setDistricts(data);\r\n-      } catch (error) {\r\n-        console.error('Error fetching districts:', error);\r\n-      }\r\n-    } else {\r\n-      setDistricts([]);\r\n-      setWards([]);\r\n-    }\r\n-  };\r\n-\r\n-  const handleDistrictChange = async (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n-    const districtCode = e.target.value;\r\n-    setSelectedDistrict(districtCode);\r\n-    setSelectedWard('');\r\n-    setSelectedWardName('');\r\n-\r\n-    if (districtCode) {\r\n-      const district = districts.find(d => d.code === districtCode);\r\n-      setSelectedDistrictName(district?.name || '');\r\n-\r\n-      try {\r\n-        const response = await fetch(`/api/wards?districtCode=${districtCode}`);\r\n-        const data = await response.json();\r\n-        setWards(data);\r\n-      } catch (error) {\r\n-        console.error('Error fetching wards:', error);\r\n-      }\r\n-    } else {\r\n-      setWards([]);\r\n-    }\r\n-  };\r\n-\r\n-  const handleWardChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n-    const wardCode = e.target.value;\r\n-    setSelectedWard(wardCode);\r\n-\r\n-    if (wardCode) {\r\n-      const ward = wards.find(w => w.code === wardCode);\r\n-      setSelectedWardName(ward?.name || '');\r\n-    } else {\r\n-      setSelectedWardName('');\r\n-    }\r\n-  };\r\n-\r\n-  return {\r\n-    provinces,\r\n-    districts,\r\n-    wards,\r\n-    selectedProvince,\r\n-    selectedDistrict,\r\n-    selectedWard,\r\n-    selectedProvinceName,\r\n-    selectedDistrictName,\r\n-    selectedWardName,\r\n-    handleProvinceChange,\r\n-    handleDistrictChange,\r\n  \n\\ No newline at end of file\n"
                }
            ],
            "date": 1747805612160,
            "name": "Commit-0",
            "content": "import { useState, useEffect } from 'react';\r\n\r\ninterface Province {\r\n  code: string;\r\n  name: string;\r\n}\r\n\r\ninterface District {\r\n  code: string;\r\n  name: string;\r\n  province_code: string;\r\n}\r\n\r\ninterface Ward {\r\n  code: string;\r\n  name: string;\r\n  district_code: string;\r\n}\r\n\r\nexport const useVietnameseAddress = () => {\r\n  const [provinces, setProvinces] = useState<Province[]>([]);\r\n  const [districts, setDistricts] = useState<District[]>([]);\r\n  const [wards, setWards] = useState<Ward[]>([]);\r\n  const [selectedProvince, setSelectedProvince] = useState<string>('');\r\n  const [selectedDistrict, setSelectedDistrict] = useState<string>('');\r\n  const [selectedWard, setSelectedWard] = useState<string>('');\r\n  const [selectedProvinceName, setSelectedProvinceName] = useState<string>('');\r\n  const [selectedDistrictName, setSelectedDistrictName] = useState<string>('');\r\n  const [selectedWardName, setSelectedWardName] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    const fetchProvinces = async () => {\r\n      try {\r\n        const response = await fetch('/api/provinces');\r\n        const data = await response.json();\r\n        setProvinces(data);\r\n      } catch (error) {\r\n        console.error('Error fetching provinces:', error);\r\n      }\r\n    };\r\n\r\n    fetchProvinces();\r\n  }, []);\r\n\r\n  const handleProvinceChange = async (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const provinceCode = e.target.value;\r\n    setSelectedProvince(provinceCode);\r\n    setSelectedDistrict('');\r\n    setSelectedWard('');\r\n    setSelectedDistrictName('');\r\n    setSelectedWardName('');\r\n\r\n    if (provinceCode) {\r\n      const province = provinces.find(p => p.code === provinceCode);\r\n      setSelectedProvinceName(province?.name || '');\r\n\r\n      try {\r\n        const response = await fetch(`/api/districts?provinceCode=${provinceCode}`);\r\n        const data = await response.json();\r\n        setDistricts(data);\r\n      } catch (error) {\r\n        console.error('Error fetching districts:', error);\r\n      }\r\n    } else {\r\n      setDistricts([]);\r\n      setWards([]);\r\n    }\r\n  };\r\n\r\n  const handleDistrictChange = async (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const districtCode = e.target.value;\r\n    setSelectedDistrict(districtCode);\r\n    setSelectedWard('');\r\n    setSelectedWardName('');\r\n\r\n    if (districtCode) {\r\n      const district = districts.find(d => d.code === districtCode);\r\n      setSelectedDistrictName(district?.name || '');\r\n\r\n      try {\r\n        const response = await fetch(`/api/wards?districtCode=${districtCode}`);\r\n        const data = await response.json();\r\n        setWards(data);\r\n      } catch (error) {\r\n        console.error('Error fetching wards:', error);\r\n      }\r\n    } else {\r\n      setWards([]);\r\n    }\r\n  };\r\n\r\n  const handleWardChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const wardCode = e.target.value;\r\n    setSelectedWard(wardCode);\r\n\r\n    if (wardCode) {\r\n      const ward = wards.find(w => w.code === wardCode);\r\n      setSelectedWardName(ward?.name || '');\r\n    } else {\r\n      setSelectedWardName('');\r\n    }\r\n  };\r\n\r\n  return {\r\n    provinces,\r\n    districts,\r\n    wards,\r\n    selectedProvince,\r\n    selectedDistrict,\r\n    selectedWard,\r\n    selectedProvinceName,\r\n    selectedDistrictName,\r\n    selectedWardName,\r\n    handleProvinceChange,\r\n    handleDistrictChange,\r\n "
        }
    ]
}