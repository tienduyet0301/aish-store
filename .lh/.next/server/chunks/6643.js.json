{
    "sourceFile": ".next/server/chunks/6643.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746891724072,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "\"use strict\";exports.id=6643,exports.ids=[6643],exports.modules={14924:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var o=n(60687),i=n(43210),r=n(85814),l=n.n(r);let s=()=>{let[e,t]=(0,i.useState)([]),[n,o]=(0,i.useState)([]),[r,l]=(0,i.useState)([]),[s,a]=(0,i.useState)(\"\"),[d,c]=(0,i.useState)(\"\"),[h,p]=(0,i.useState)(\"\");return(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch(\"https://provinces.open-api.vn/api/p/\"),n=await e.json();t(n)}catch(e){console.error(\"Error fetching provinces:\",e)}})()},[]),(0,i.useEffect)(()=>{(async()=>{if(!s)return o([]);try{let e=await fetch(`https://provinces.open-api.vn/api/p/${s}?depth=2`),t=await e.json();o(t.districts)}catch(e){console.error(\"Error fetching districts:\",e)}})()},[s]),(0,i.useEffect)(()=>{(async()=>{if(!d)return l([]);try{let e=await fetch(`https://provinces.open-api.vn/api/d/${d}?depth=2`),t=await e.json();l(t.wards)}catch(e){console.error(\"Error fetching wards:\",e)}})()},[d]),{provinces:e,districts:n,wards:r,selectedProvince:s,selectedDistrict:d,selectedWard:h,handleProvinceChange:e=>{a(e.target.value),c(\"\"),p(\"\")},handleDistrictChange:e=>{c(e.target.value),p(\"\")},handleWardChange:e=>{p(e.target.value)}}};var a=n(93464),d=n(81602),c=n(16189);function h({isOpen:e,onClose:t,orderDetails:n}){let{addOrder:i}=(0,a.h)(),r=(0,c.useRouter)();return e&&n?(0,o.jsx)(\"div\",{className:\"fixed inset-0 backdrop-blur-sm bg-black/10 flex items-center justify-center z-50\",children:(0,o.jsxs)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white/80 w-11/12 max-w-md relative\",children:[(0,o.jsx)(\"button\",{onClick:t,className:\"absolute top-4 right-4 text-black\",children:(0,o.jsxs)(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,o.jsx)(\"path\",{d:\"M18 6L6 18\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),(0,o.jsx)(\"path\",{d:\"M6 6L18 18\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]})}),(0,o.jsxs)(\"div\",{className:\"text-center py-8 px-6\",children:[(0,o.jsx)(\"h2\",{style:{fontSize:\"1.2em\",color:\"#000000\",textTransform:\"uppercase\",letterSpacing:\"0.1em\",marginBottom:\"20px\",fontWeight:\"bold\"},children:\"X\\xc1C NHẬN ĐƠN H\\xc0NG\"}),(0,o.jsx)(\"div\",{style:{marginBottom:\"20px\"},children:n.items.map((e,t)=>(0,o.jsxs)(\"div\",{style:{display:\"flex\",alignItems:\"center\",marginBottom:\"15px\",padding:\"10px\",backgroundColor:\"#f8f8f8\",borderRadius:\"4px\"},children:[(0,o.jsx)(\"img\",{src:e.image,alt:e.name,style:{width:\"80px\",height:\"80px\",objectFit:\"cover\",marginRight:\"15px\"}}),(0,o.jsxs)(\"div\",{style:{textAlign:\"left\"},children:[(0,o.jsx)(\"p\",{style:{fontSize:\"0.9em\",fontWeight:\"bold\",marginBottom:\"4px\"},children:e.name}),(0,o.jsxs)(\"p\",{style:{fontSize:\"0.8em\"},children:[\"Size: \",e.variation]}),(0,o.jsxs)(\"p\",{style:{fontSize:\"0.8em\"},children:[\"Số lượng: \",e.quantity]}),(0,o.jsxs)(\"p\",{style:{fontSize:\"0.8em\"},children:[\"Gi\\xe1: \",e.price]})]})]},t))}),(0,o.jsxs)(\"div\",{style:{fontSize:\"0.9em\",color:\"#000000\",marginBottom:\"20px\"},children:[(0,o.jsxs)(\"p\",{style:{marginBottom:\"8px\"},children:[\"M\\xe3 đơn h\\xe0ng: \",n.orderCode]}),(0,o.jsxs)(\"p\",{style:{marginBottom:\"8px\"},children:[\"Họ t\\xean: \",n.fullName]}),(0,o.jsxs)(\"p\",{style:{marginBottom:\"8px\"},children:[\"Email: \",n.email]}),(0,o.jsxs)(\"p\",{style:{marginBottom:\"8px\"},children:[\"Số điện thoại: \",n.phone]}),n.additionalPhone&&(0,o.jsxs)(\"p\",{style:{marginBottom:\"8px\"},children:[\"Số điện thoại phụ: \",n.additionalPhone]}),(0,o.jsxs)(\"p\",{style:{marginBottom:\"8px\"},children:[\"Địa chỉ: \",n.address,\", \",n.ward,\", \",n.district,\", \",n.province]}),(0,o.jsxs)(\"p\",{style:{marginBottom:\"8px\"},children:[\"Phương thức thanh to\\xe1n: \",\"cod\"===n.paymentMethod?\"Thanh to\\xe1n khi nhận h\\xe0ng\":\"Chuyển khoản ng\\xe2n h\\xe0ng\"]}),(0,o.jsxs)(\"p\",{style:{marginBottom:\"8px\",fontSize:\"1em\",fontWeight:\"bold\"},children:[\"Tổng tiền: \",n.total]})]}),\"bank\"===n.paymentMethod&&(0,o.jsx)(\"div\",{style:{backgroundColor:\"#f8f8f8\",padding:\"15px\",marginBottom:\"20px\",borderRadius:\"4px\"},children:(0,o.jsx)(\"p\",{style:{fontSize:\"0.9em\",color:\"#000000\",fontStyle:\"italic\"},children:\"Vui l\\xf2ng chuyển khoản theo th\\xf4ng tin đ\\xe3 cung cấp v\\xe0 gửi bi\\xean lai về Facebook hoặc Instagram AISH\"})})]}),(0,o.jsx)(\"div\",{className:\"border-t border-gray-200\",children:(0,o.jsx)(\"button\",{onClick:()=>{n&&i({...n,orderDate:Date.now(),status:\"processing\"}),t(),r.push(`/order-success/${n.orderCode}`)},style:{width:\"100%\",padding:\"12px\",fontSize:\"0.7em\",color:\"#ffffff\",backgroundColor:\"#000000\",border:\"none\",cursor:\"pointer\",textTransform:\"uppercase\",letterSpacing:\"0.1em\"},children:\"X\\xe1c nhận\"})})]})}):null}function p({userEmail:e,isShippingComplete:t,showAdditionalContact:n,showPaymentDetails:r,errors:a,handleShippingComplete:d,handleAdditionalContactToggle:c,order:p}){let[m,u]=(0,i.useState)(\"\"),[y,g]=(0,i.useState)(!1),[f,j]=(0,i.useState)(!1),[b,v]=(0,i.useState)(null),[k,C]=(0,i.useState)({firstName:\"\",lastName:\"\",address:\"\",phone:\"\",additionalPhone:\"\"}),{provinces:S,districts:w,wards:N,selectedProvince:T,selectedDistrict:B,selectedWard:z,handleProvinceChange:H,handleDistrictChange:M,handleWardChange:R}=s(),G=e=>{let{name:t,value:n}=e.target;C(e=>({...e,[t]:n}))},D=e=>{u(e)};return(0,o.jsxs)(\"div\",{style:x.leftSection,children:[(0,o.jsxs)(\"div\",{style:x.section,children:[(0,o.jsx)(\"h2\",{style:x.sectionTitle,children:\"TH\\xd4NG TIN LI\\xcaN HỆ\"}),(0,o.jsxs)(\"p\",{style:x.sectionText,children:[e,\" (\",(0,o.jsx)(l(),{href:\"/logout\",style:x.link,children:\"Đăng xuất\"}),\")\"]})]}),(0,o.jsxs)(\"div\",{style:x.section,children:[(0,o.jsx)(\"h2\",{style:x.sectionTitle,children:\"ĐỊA CHỈ GIAO H\\xc0NG\"}),(0,o.jsxs)(\"form\",{id:\"shippingForm\",style:x.form,children:[(0,o.jsxs)(\"div\",{style:x.formRow,children:[(0,o.jsxs)(\"div\",{style:x.formGroup,children:[(0,o.jsx)(\"label\",{style:x.label,children:\"Họ *\"}),(0,o.jsx)(\"input\",{name:\"firstName\",type:\"text\",value:k.firstName,onChange:G,style:{...x.input,borderColor:a.firstName?\"red\":\"#e0e0e0\"},required:!0})]}),(0,o.jsxs)(\"div\",{style:x.formGroup,children:[(0,o.jsx)(\"label\",{style:x.label,children:\"T\\xean *\"}),(0,o.jsx)(\"input\",{name:\"lastName\",type:\"text\",value:k.lastName,onChange:G,style:{...x.input,borderColor:a.lastName?\"red\":\"#e0e0e0\"},required:!0})]})]}),(0,o.jsxs)(\"div\",{style:x.formGroup,children:[(0,o.jsx)(\"label\",{style:x.label,children:\"Địa chỉ *\"}),(0,o.jsx)(\"input\",{name:\"address\",type:\"text\",value:k.address,onChange:G,style:{...x.input,borderColor:a.address?\"red\":\"#e0e0e0\"},required:!0})]}),(0,o.jsxs)(\"div\",{style:x.formGroup,children:[(0,o.jsx)(\"label\",{style:x.label,children:\"Căn hộ, t\\xf2a nh\\xe0, v.v. (kh\\xf4ng bắt buộc)\"}),(0,o.jsx)(\"input\",{name:\"apartment\",type:\"text\",style:x.input})]}),(0,o.jsxs)(\"div\",{style:x.formRow,children:[(0,o.jsxs)(\"div\",{style:x.formGroup,children:[(0,o.jsx)(\"label\",{style:x.label,children:\"Tỉnh/Th\\xe0nh phố *\"}),(0,o.jsxs)(\"select\",{value:T,onChange:H,style:{...x.input,borderColor:a.province?\"red\":\"#e0e0e0\"},required:!0,children:[(0,o.jsx)(\"option\",{value:\"\",children:\"Chọn Tỉnh/Th\\xe0nh phố\"}),S.map(e=>(0,o.jsx)(\"option\",{value:e.code,children:e.name},e.code))]})]}),(0,o.jsxs)(\"div\",{style:x.formGroup,children:[(0,o.jsx)(\"label\",{style:x.label,children:\"Quận/Huyện *\"}),(0,o.jsxs)(\"select\",{value:B,onChange:M,style:{...x.input,borderColor:a.district?\"red\":\"#e0e0e0\"},required:!0,disabled:!T,children:[(0,o.jsx)(\"option\",{value:\"\",children:\"Chọn Quận/Huyện\"}),w.map(e=>(0,o.jsx)(\"option\",{value:e.code,children:e.name},e.code))]})]})]}),(0,o.jsxs)(\"div\",{style:x.formRow,children:[(0,o.jsxs)(\"div\",{style:x.formGroup,children:[(0,o.jsx)(\"label\",{style:x.label,children:\"Phường/X\\xe3 *\"}),(0,o.jsxs)(\"select\",{value:z,onChange:R,style:{...x.input,borderColor:a.ward?\"red\":\"#e0e0e0\"},required:!0,disabled:!B,children:[(0,o.jsx)(\"option\",{value:\"\",children:\"Chọn Phường/X\\xe3\"}),N.map(e=>(0,o.jsx)(\"option\",{value:e.code,children:e.name},e.code))]})]}),(0,o.jsxs)(\"div\",{style:x.formGroup,children:[(0,o.jsx)(\"label\",{style:x.label,children:\"Số điện thoại *\"}),(0,o.jsx)(\"input\",{name:\"phone\",type:\"tel\",value:k.phone,onChange:G,style:{...x.input,borderColor:a.phone?\"red\":\"#e0e0e0\"},required:!0})]})]}),n&&(0,o.jsxs)(\"div\",{style:x.formGroup,children:[(0,o.jsx)(\"label\",{style:x.label,children:\"Số điện thoại phụ (kh\\xf4ng bắt buộc)\"}),(0,o.jsx)(\"input\",{name:\"additionalPhone\",type:\"tel\",value:k.additionalPhone,onChange:G,style:x.input})]}),(0,o.jsx)(\"button\",{onClick:e=>{e.preventDefault();let t=document.getElementById(\"shippingForm\");if(t.checkValidity()){g(!0);let e=document.getElementById(\"paymentSection\");e&&e.scrollIntoView({behavior:\"smooth\"})}else t.reportValidity()},style:x.continueButton,type:\"submit\",children:\"Tiếp tục thanh to\\xe1n\"})]})]}),y&&(0,o.jsxs)(\"div\",{id:\"paymentSection\",style:x.section,children:[(0,o.jsx)(\"h2\",{style:x.sectionTitle,children:\"H\\xccNH THỨC THANH TO\\xc1N\"}),(0,o.jsxs)(\"div\",{style:x.paymentMethods,children:[(0,o.jsx)(\"div\",{style:{...x.paymentMethod,borderColor:\"cod\"===m?\"#000\":\"#e0e0e0\"},onClick:()=>D(\"cod\"),children:(0,o.jsxs)(\"div\",{style:x.paymentMethodHeader,children:[(0,o.jsx)(\"input\",{type:\"radio\",name:\"paymentMethod\",checked:\"cod\"===m,onChange:()=>D(\"cod\"),style:x.radio}),(0,o.jsx)(\"label\",{style:x.paymentMethodLabel,children:\"Thanh to\\xe1n khi nhận h\\xe0ng (COD)\"})]})}),(0,o.jsx)(\"div\",{style:{...x.paymentMethod,borderColor:\"bank\"===m?\"#000\":\"#e0e0e0\"},onClick:()=>D(\"bank\"),children:(0,o.jsxs)(\"div\",{style:x.paymentMethodHeader,children:[(0,o.jsx)(\"input\",{type:\"radio\",name:\"paymentMethod\",checked:\"bank\"===m,onChange:()=>D(\"bank\"),style:x.radio}),(0,o.jsx)(\"label\",{style:x.paymentMethodLabel,children:\"Chuyển khoản ng\\xe2n h\\xe0ng\"})]})})]}),m?\"cod\"===m?(0,o.jsx)(\"div\",{style:{marginTop:\"20px\",padding:\"15px\",backgroundColor:\"#f8f8f8\",borderRadius:\"4px\"},children:(0,o.jsx)(\"p\",{style:{fontSize:\"0.9em\",color:\"#000000\",fontStyle:\"italic\"},children:\"Qu\\xfd kh\\xe1ch vui l\\xf2ng để \\xfd m\\xe3 đơn h\\xe0ng để tiện theo d\\xf5i.\"})}):\"bank\"===m?(0,o.jsxs)(\"div\",{style:{marginTop:\"20px\",padding:\"15px\",backgroundColor:\"#f8f8f8\",borderRadius:\"4px\"},children:[(0,o.jsx)(\"h3\",{style:{fontSize:\"0.9em\",fontWeight:\"bold\",marginBottom:\"10px\",color:\"#000000\"},children:\"Th\\xf4ng tin chuyển khoản\"}),(0,o.jsxs)(\"div\",{style:{fontSize:\"0.9em\",color:\"#000000\"},children:[(0,o.jsx)(\"p\",{style:{marginBottom:\"8px\"},children:\"Ng\\xe2n h\\xe0ng: Vietcombank\"}),(0,o.jsx)(\"p\",{style:{marginBottom:\"8px\"},children:\"Chủ t\\xe0i khoản: AISH COMPANY\"}),(0,o.jsx)(\"p\",{style:{marginBottom:\"8px\"},children:\"Số t\\xe0i khoản: 1234567890\"}),(0,o.jsxs)(\"p\",{style:{marginBottom:\"8px\"},children:[\"Nội dung chuyển khoản: \",p.orderNumber||\"ORDER123\",\" + \",p.phone||\"SĐT\"]}),(0,o.jsx)(\"p\",{style:{marginTop:\"15px\",fontStyle:\"italic\",color:\"#666666\"},children:\"Qu\\xfd kh\\xe1ch vui l\\xf2ng chụp m\\xe0n h\\xecnh gửi về Facebook hoặc Instagram AISH\"})]})]}):void 0:null,m&&(0,o.jsx)(\"button\",{onClick:t=>{t.preventDefault();try{if(!T||!B||!z)return void alert(\"Vui l\\xf2ng chọn đầy đủ th\\xf4ng tin địa chỉ\");if(!k.firstName||!k.lastName||!k.address||!k.phone)return void alert(\"Vui l\\xf2ng điền đầy đủ th\\xf4ng tin bắt buộc\");let t=S.find(e=>e.code===T),n=w.find(e=>e.code===B),o=N.find(e=>e.code===z),i={orderCode:`ORDER${Date.now()}`,fullName:`${k.firstName} ${k.lastName}`,email:e,phone:k.phone,additionalPhone:k.additionalPhone||null,address:k.address,ward:o?.name||\"\",district:n?.name||\"\",province:t?.name||\"\",items:p.items||[],subtotal:p.subtotal||\"0\",shippingFee:\"Miễn ph\\xed\",total:p.total||\"0\",paymentMethod:m};console.log(\"Order Details:\",i),v(i),j(!0)}catch(e){console.error(\"Error creating order:\",e),alert(\"C\\xf3 lỗi xảy ra khi tạo đơn h\\xe0ng. Vui l\\xf2ng thử lại.\")}},style:x.completeOrderButton,children:\"Ho\\xe0n tất đơn h\\xe0ng\"})]}),(0,o.jsx)(h,{isOpen:f,onClose:()=>j(!1),orderDetails:b})]})}let x={leftSection:{flex:2,backgroundColor:\"#ffffff\",padding:\"20px\",border:\"1px solid #e0e0e0\",color:\"#000000\"},section:{marginBottom:\"30px\",color:\"#000000\"},sectionTitle:{fontSize:\"1.1em\",fontWeight:\"bold\",marginBottom:\"15px\",color:\"#000000\"},sectionText:{fontSize:\"0.85em\",color:\"#000000\"},link:{color:\"#000000\",textDecoration:\"underline\",cursor:\"pointer\"},form:{display:\"flex\",flexDirection:\"column\",gap:\"15px\",color:\"#000000\"},formRow:{display:\"flex\",gap:\"15px\",color:\"#000000\"},formGroup:{flex:1,color:\"#000000\"},label:{fontSize:\"0.85em\",marginBottom:\"5px\",display:\"block\",color:\"#000000\"},input:{width:\"100%\",padding:\"10px\",fontSize:\"0.85em\",border:\"1px solid #e0e0e0\",borderRadius:\"4px\",color:\"#000000\"},paymentMethods:{display:\"flex\",flexDirection:\"column\",gap:\"15px\",marginTop:\"20px\"},paymentMethod:{border:\"1px solid #e0e0e0\",borderRadius:\"4px\",padding:\"15px\",cursor:\"pointer\",transition:\"all 0.3s ease\"},paymentMethodHeader:{display:\"flex\",alignItems:\"center\",gap:\"10px\"},paymentMethodLabel:{fontSize:\"14px\",fontWeight:\"500\"},radio:{width:\"18px\",height:\"18px\",cursor:\"pointer\"},completeOrderButton:{width:\"100%\",padding:\"15px\",backgroundColor:\"#000\",color:\"#fff\",border:\"none\",cursor:\"pointer\",fontSize:\"14px\",fontWeight:\"500\",marginTop:\"20px\",transition:\"background-color 0.3s ease\"},continueButton:{width:\"100%\",padding:\"15px\",backgroundColor:\"#000\",color:\"#fff\",border:\"none\",cursor:\"pointer\",fontSize:\"14px\",fontWeight:\"500\",marginTop:\"20px\",transition:\"background-color 0.3s ease\"}}},70440:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var o=n(31658);let i=async e=>[{type:\"image/x-icon\",sizes:\"2088x2088\",url:(0,o.fillMetadataSegment)(\".\",await e.params,\"favicon.ico\")+\"\"}]}};"
        }
    ]
}