{
    "sourceFile": ".next/server/chunks/ssr/[root-of-the-server]__96dde72a._.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746891733128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746891704042,
            "name": "cart",
            "content": "module.exports = {\n\n\"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)\": (function(__turbopack_context__) {\n\nvar { g: global, __dirname, m: module, e: exports } = __turbopack_context__;\n{\nconst mod = __turbopack_context__.x(\"next/dist/compiled/next-server/app-page-turbo.runtime.dev.js\", () => require(\"next/dist/compiled/next-server/app-page-turbo.runtime.dev.js\"));\n\nmodule.exports = mod;\n}}),\n\"[project]/src/context/CartContext.js [app-ssr] (ecmascript)\": ((__turbopack_context__) => {\n\"use strict\";\n\nvar { g: global, __dirname } = __turbopack_context__;\n{\n__turbopack_context__.s({\n    \"CartProvider\": (()=>CartProvider),\n    \"useCart\": (()=>useCart)\n});\nvar __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)\");\nvar __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)\");\n\"use client\";\n;\n;\nconst CartContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"createContext\"])();\nfunction CartProvider({ children }) {\n    const [cartItems, setCartItems] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"useState\"])([]);\n    const [isCartOpen, setIsCartOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"useState\"])(false);\n    const addToCart = (item)=>{\n        setCartItems((prevItems)=>{\n            const existingItem = prevItems.find((i)=>i.id === item.id && i.size === item.size);\n            if (existingItem) {\n                return prevItems.map((i)=>i.id === item.id && i.size === item.size ? {\n                        ...i,\n                        quantity: i.quantity + item.quantity\n                    } : i);\n            }\n            return [\n                ...prevItems,\n                item\n            ];\n        });\n        setIsCartOpen(true);\n    };\n    const removeItem = (itemId)=>{\n        setCartItems((prevItems)=>{\n            const itemToRemove = prevItems.find((item)=>item.cartItemId === itemId || item.id === itemId);\n            if (!itemToRemove) return prevItems;\n            const indexToRemove = prevItems.findIndex((item)=>item.cartItemId === itemToRemove.cartItemId || item.id === itemToRemove.id && item.size === itemToRemove.size);\n            if (indexToRemove === -1) return prevItems;\n            return [\n                ...prevItems.slice(0, indexToRemove),\n                ...prevItems.slice(indexToRemove + 1)\n            ];\n        });\n    };\n    const updateQuantity = (itemId, newQuantity, newSize = null)=>{\n        setCartItems((prevItems)=>prevItems.map((item)=>{\n                if (item.cartItemId === itemId || item.id === itemId) {\n                    return {\n                        ...item,\n                        quantity: newQuantity,\n                        ...newSize && {\n                            size: newSize\n                        }\n                    };\n                }\n                return item;\n            }));\n    };\n    const toggleCart = ()=>{\n        setIsCartOpen((prev)=>!prev);\n    };\n    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"jsxDEV\"])(CartContext.Provider, {\n        value: {\n            cartItems,\n            setCartItems,\n            isCartOpen,\n            setIsCartOpen,\n            addToCart,\n            removeItem,\n            updateQuantity,\n            toggleCart\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"[project]/src/context/CartContext.js\",\n        lineNumber: 64,\n        columnNumber: 5\n    }, this);\n}\nfunction useCart() {\n    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"useContext\"])(CartContext);\n}\n}}),\n\"[project]/src/components/AnnouncementBanner.tsx [app-ssr] (ecmascript)\": ((__turbopack_context__) => {\n\"use strict\";\n\nvar { g: global, __dirname } = __turbopack_context__;\n{\n__turbopack_context__.s({\n    \"default\": (()=>AnnouncementBanner)\n});\nvar __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)\");\nvar __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)\");\nvar __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$framer$2d$motion$2f$dist$2f$es$2f$render$2f$components$2f$motion$2f$proxy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i(\"[project]/node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs [app-ssr] (ecmascript)\");\n\"use client\";\n;\n;\n;\nfunction AnnouncementBanner() {\n    const [announcement, setAnnouncement] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"useState\"])(\"\");\n    const [isActive, setIsActive] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"useState\"])(false);\n    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"useEffect\"])(()=>{\n        fetchAnnouncement();\n        const interval = setInterval(fetchAnnouncement, 30000); // Cập nhật mỗi 30 giây\n        return ()=>clearInterval(interval);\n    }, []);\n    const fetchAnnouncement = async ()=>{\n        try {\n            const response = await fetch(\"/api/admin/notifications\");\n            const data = await response.json();\n            if (data.ok) {\n                setAnnouncement(data.announcement);\n                setIsActive(data.isAnnouncementActive);\n            }\n        } catch (error) {\n            console.error(\"Error fetching announcement:\", error);\n        }\n    };\n    if (!isActive || !announcement) return null;\n    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"jsxDEV\"])(\"div\", {\n        className: \"bg-black text-white overflow-hidden\",\n        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"jsxDEV\"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$framer$2d$motion$2f$dist$2f$es$2f$render$2f$components$2f$motion$2f$proxy$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__[\"motion\"].div, {\n            initial: {\n                x: \"100%\"\n            },\n            animate: {\n                x: \"-100%\"\n            },\n            transition: {\n                x: {\n                    repeat: Infinity,\n                    repeatType: \"loop\",\n                    duration: 20,\n                    ease: \"linear\"\n                }\n            },\n            className: \"whitespace-nowrap py-2 text-sm\",\n            children: announcement\n        }, void 0, false, {\n            fileName: \"[project]/src/components/AnnouncementBanner.tsx\",\n            lineNumber: 32,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"[project]/src/components/AnnouncementBanner.tsx\",\n        lineNumber: 31,\n        columnNumber: 5\n    }, this);\n}\n}}),\n\n};\n\n//# sourceMappingURL=%5Broot-of-the-server%5D__96dde72a._.js.map"
        }
    ]
}